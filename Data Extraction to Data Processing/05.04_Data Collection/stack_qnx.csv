question_id,title,link,score,creation_date,tags,question_body,accepted_answer_body
79541585,SDcard mounted as read-only on QNX,https://stackoverflow.com/questions/79541585/sdcard-mounted-as-read-only-on-qnx,0,1743169164,qnx,"<p>I'm using QNX 7.1 on a Zynq Ultrascale+.</p>
<p>The SDCard has been formatted on a PC with FAT32 and contains boot.bin and qnx-ifs (the boot and OS images).</p>
<p>I'm trying to initialise and mount the card as follows:</p>
<pre><code>devb-sdmmc-xzynq cam quiet sdio addr=0xxxx, irq=xxx blk ramdisk=64
waitfor /dev/hd0
mount -v -t dos exe=all /dev/hd0t12 /appli
</code></pre>
<p>I am able to read the content of the SDcard in <code>/appli</code> but when I try to write it I've got a message <code>read-only file system</code>. A <code>ls -l</code> indeed shows that <code>/dev/hd0</code> is read-only but <code>/appli</code> is read-write.</p>
<p>I tried to add options to io-blk driver like this:</p>
<pre><code>devb-sdmmc-xzynq cam quiet sdio addr=0xFF160000,irq=80 blk rw,perms,0777,ramdisk=64
</code></pre>
<p>but it doesn't change.</p>
<p>Any idea ?</p>
",
79514323,qnx8.0 crosscompile boost for x86 to aarch64,https://stackoverflow.com/questions/79514323/qnx8-0-crosscompile-boost-for-x86-to-aarch64,-1,1742208008,"boost, qnx","<p>im having trouble with using lidar sensor with ros2
but my env is qnx raspberrypi4 aarch64 so i crosscompile ros2 and it was so harsh for me it took nealy a week
any way i finally success
but basic custom package run well, there are some issues that i need more packages like boost  but i can't crosscompile this file please help me
i aready search many references though i won't help</p>
<pre><code>CMakeLists.txt  LICENSE_1_0.txt  b2      boost-build.jam  boostcpp.jam   build_log.txt  index.html  project-config.jam  tools
</code></pre>
<p>INSTALL         README.md        bin.v2  boost.css        bootstrap.bat  doc            libs        rst.css
Jamroot         appveyor.yml     boost   boost.png        bootstrap.sh   index.htm      more        status</p>
<p>this is my files that i clone on <a href=""https://gitlab.com/qnx/ports/boost"" rel=""nofollow noreferrer"">https://gitlab.com/qnx/ports/boost</a> this site</p>
<p>i already tried bootstrap.sh and tried b2 with options</p>
<p>is there any compiledfile?</p>
",
79489639,ARM64-QNX : Mprotect give permission denied,https://stackoverflow.com/questions/79489639/arm64-qnx-mprotect-give-permission-denied,0,1741270467,"arm64, qnx, qnx-neutrino, qnx-ifs","<p>I want to modify the text segment. Using <code>mprotect</code>, I could make the segment writable and update the required data. This is working fine with ARM64-Linux, but on ARM64-QNX, it is giving permission denied.</p>
<pre><code>if (mprotect(page_start_address, page_size, PROT_READ | PROT_WRITE) == -1)
{
       perror(&quot;mprotect&quot;);
       return 1;
}
</code></pre>
<p>We are running an application with the root user. Also, we don't want to use mmap as loading text segment of larger application may not feasible solution.</p>
<p>We had set the required program capabilities, which is not giving any error.</p>
<pre><code>int set_process_abilities()
{
    // Use ThreadCtl to gain debugging privileges
    if (ThreadCtl(_NTO_TCTL_IO, NULL) == -1)
    {
        perror(&quot;ThreadCtl IO failed&quot;);
        return -1;
    }
    if (ThreadCtl(_NTO_TCTL_HYP_VCPU, NULL) == -1)
    {
        perror(&quot;ThreadCtl HYP_VCPU failed&quot;);
        return -1;
    }

    // Get all debugging capabilities in a safer way
    int ret = procmgr_ability(0,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_PROT_EXEC,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_MEM_GLOBAL,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_PROT_WRITE_AND_EXEC,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_INTERRUPT,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_PRIORITY,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_IO,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_TRACE,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_MEM_PHYS,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_MEM_PEER,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_CONFSET,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_HYP,
                              PROCMGR_ADN_ROOT | PROCMGR_AOP_ALLOW | PROCMGR_AID_MEM_LOCK,
                              PROCMGR_AID_EOL);

    if (ret &lt; 0)
    {
        perror(&quot;Failed to set process abilities&quot;);
        return -1;
    }

    printf(&quot;Initial program ability ret code %d\n&quot;, ret);
    return ret;
}

</code></pre>
<p>We have tried to explore the procnto attributes, but this has not resolved the issue either.</p>
<pre><code>pidin arg | grep procnto is:  procnto-smp-instr -mgw -wx -F 70000
</code></pre>
",
79456441,TimerTimeout is not working when MsgReply is delayed,https://stackoverflow.com/questions/79456441/timertimeout-is-not-working-when-msgreply-is-delayed,1,1740117225,"qnx, qnx-neutrino, blackberry-qnx","<p>I am trying to make timertimeout at client side ,when we delayed msgreply from server to client</p>
<p>printing proper without timertimeout even we delayed</p>
<p><strong>client code:</strong></p>
<pre><code> if (TimerTimeout(CLOCK_REALTIME, _NTO_TIMEOUT_SEND | _NTO_TIMEOUT_REPLY, &amp;event, 
    &amp;timeout, NULL) == -1) {
    perror(&quot;‚ùå TimerTimeout failed&quot;);
    name_close(coid);
    return EXIT_FAILURE;
}

printf(&quot;‚úÖ TimerTimeout successfully set.\n&quot;);
printf(&quot;üì§ Sending message: %d\n&quot;, msg.data);

// Send the message and wait for a response
int status = MsgSend(coid, &amp;msg, sizeof(msg), &amp;msg, sizeof(msg));

    printf(&quot;üì© Server received message: %d, delaying response...\n&quot;, msg.data);
        sleep(10);  // Simulate 10-sec delay (longer than the 2-sec timeout in client)

        if (MsgReply(rcvid, 0, &amp;msg, sizeof(msg)) == -1) {
            perror(&quot;MsgReply failed&quot;);
        } else {
            printf(&quot;‚úÖ Reply sent to client.\n&quot;);
       }
   }
</code></pre>
<p>Could you please help me or suggestion why timeout is not happening even i delayed response at msgreply side.</p>
<p><strong>server code</strong></p>
<pre><code> printf(&quot;üì© Server received message: %d, delaying response...\n&quot;, 
 msg.data);
    sleep(10);  // Simulate 10-sec delay (longer than the 2-sec 
    timeout in client)

    if (MsgReply(rcvid, 0, &amp;msg, sizeof(msg)) == -1) {
        perror(&quot;MsgReply failed&quot;);
    } else {
        printf(&quot;‚úÖ Reply sent to client.\n&quot;);
    }
}
</code></pre>
",
79453480,Timertimeout not happening,https://stackoverflow.com/questions/79453480/timertimeout-not-happening,1,1740031758,"qnx, qnx-neutrino, blackberry-qnx","<p>I am trying to make timertimeout at client side ,when we delayed msgreply from server to client</p>
<p>printing proper without timertimeout even we delayed</p>
<p>client_code:
if (TimerTimeout(CLOCK_REALTIME, _NTO_TIMEOUT_SEND |
_NTO_TIMEOUT_REPLY, &amp;event, &amp;timeout, NULL) == -1) {
perror(&quot;TimerTimeout failed&quot;);
return EXIT_FAILURE;
}
else {
printf(&quot;‚úÖ TimerTimeout successfully set.\n&quot;);
}
printf(&quot;üöÄ Client sending message: %d\n&quot;, msg.data);</p>
<pre><code>    // Send the message and wait for a response
    int status = MsgSend(coid, &amp;msg, sizeof(msg), &amp;msg, sizeof(msg));

    if (status == -1) {
        if (errno == ETIMEDOUT) {
            printf(&quot;‚è≥Message send timed out! No response from server.\n&quot;);
        }
</code></pre>
<p>server_code:</p>
<pre><code>while (1) {
        struct my_msg_t msg;
        int rcvid = MsgReceive(attach-&gt;chid, &amp;msg, 
        sizeof(msg),NULL);
        if (rcvid == -1) {
            perror(&quot;MsgReceive failed&quot;);
            continue;
        }

        printf(&quot;üì© Server received message: %d, delaying response...\n&quot;, msg.data);
        sleep(10);  // Simulate 10-sec delay (longer than the 2-sec timeout in client)

       if (MsgReply(rcvid, 0, &amp;msg, sizeof(msg)) == -1) {
            perror(&quot;MsgReply failed&quot;);
        } else {
            printf(&quot;‚úÖ Reply sent to client.\n&quot;);
        }
    }
</code></pre>
<p>why timertimeout not happening?
could you please help me ?</p>
",
79381529,Wrong compiler identified by CMake,https://stackoverflow.com/questions/79381529/wrong-compiler-identified-by-cmake,0,1737643701,"cmake, qnx","<p>we are using the QNX compiler in my project. In some CI/CD pipeline runs CMake does not identify the compiler properly.</p>
<p>In the correctly running pipelines I can see this output:</p>
<blockquote>
<p>The CXX compiler identification is QCC 12.2.0</p>
</blockquote>
<p>In the failing pipeline runs I can see:</p>
<blockquote>
<p>The CXX compiler identification is GNU 12.2.0</p>
</blockquote>
<p>Now I am trying to understand how CMake actually identifies the compiler id and I am struggling to understand it.</p>
<p>Any hints on how to approach this problem the best?</p>
<p>The CMake version we use is 3.28</p>
<p>Here is the output that I see in the 2nd case:</p>
<pre><code>-- The C compiler identification is GNU 12.2.0
-- The CXX compiler identification is GNU 12.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: .../data/qnx-sdp8/2024.10.2/.../host/linux/x86_64/usr/bin/qcc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: .../data/qnx-sdp8/2024.10.2/.../host/linux/x86_64/usr/bin/qcc - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
</code></pre>
<p>Thank you</p>
",
79374151,location of physical_block_size file in QNX,https://stackoverflow.com/questions/79374151/location-of-physical-block-size-file-in-qnx,0,1737457722,"linux, qnx","<p>What is the <code>path</code> of <code>physical_block_size</code> file in QNX OS? Currently in my Linux OS, this is available at <code>/sys/block/sda/queue/physical_block_size</code>.</p>
",
79341426,Rust target OS for QNX,https://stackoverflow.com/questions/79341426/rust-target-os-for-qnx,0,1736399428,"rust, qnx","<p>I checked the list of target os platform that are supported by rust <a href=""https://doc.rust-lang.org/reference/conditional-compilation.html#target_os"" rel=""nofollow noreferrer"">https://doc.rust-lang.org/reference/conditional-compilation.html#target_os</a>. But I need to build the below sample code on a <code>QNX</code> platform. Since <code>QNX</code> belongs to <code>UNIX</code> os family, is the below code guaranteed to print the statement written on line <code>9</code> in <code>QNX</code>.</p>
<pre><code>const DEFAULT_BLOCK_SIZE: u64 = 4096;  // Common block size for many filesystems

fn main() {
    if let Ok(metadata) = std::fs::metadata(&quot;~/a.txt&quot;) {
        // Try platform-specific
        #[cfg(target_os = &quot;unix&quot;)]
        {
            use std::os::unix::fs::MetadataExt;
            println!(&quot;{}&quot;, metadata.blksize());
        }
    }
}
</code></pre>
<p><a href=""https://doc.rust-lang.org/std/os/unix/fs/trait.MetadataExt.html#tymethod.blksize"" rel=""nofollow noreferrer"">https://doc.rust-lang.org/std/os/unix/fs/trait.MetadataExt.html#tymethod.blksize</a></p>
<p>Also can somebody suggest a website/portal to check the rust code functionality on various target os.</p>
",
77125615,How to use valgrind on QNX platform,https://stackoverflow.com/questions/77125615/how-to-use-valgrind-on-qnx-platform,0,1695026069,"c, valgrind, qnx, blackberry-qnx","<p>According to the <a href=""https://valgrind.org/info/platforms.html"" rel=""nofollow noreferrer"">official documents of valgrind</a>, QNX is not supported.
Howerver, I saw some questions about using valgrind on QNX. <a href=""https://stackoverflow.com/questions/41453907/how-to-run-valgrind-with-qnx-binaries"">question1</a>
<a href=""https://stackoverflow.com/questions/73078569/valgrind-in-qnx-cant-access-shared-library-error"">question2</a>.
This confused me. Is it possible to run Valgrind on QNX?
If it is possible, how can this be achieved?
Perhaps compiling an executable file that compatible with the QNX platform? or is there a way to download the correct files?</p>
<p>I found the <a href=""https://community.qnx.com/sf/frs/do/viewRelease/projects.valgrind/frs.valgrind.valgrind_3_10;jsessionid=OEBZSSQUfLf5gV+W-ht7wdVW.tf"" rel=""nofollow noreferrer"">Valgrind project</a> on QNX community.
<a href=""https://i.sstatic.net/wVbju.png"" rel=""nofollow noreferrer"">I downloaded the package.</a>
Howerver, it did not contain files about the arm64/aarch64 architecture which I needed.</p>
","<p>You will probably need to download the source (from here <a href=""https://community.qnx.com/sf/scm/do/listRepositories/projects.valgrind/scm"" rel=""nofollow noreferrer"">https://community.qnx.com/sf/scm/do/listRepositories/projects.valgrind/scm</a>) and build it.</p>
<p>It doesn't look like it has been maintained for 7 years (Valgrind 3.11) so I think that getting it to build and work will be a substantial effort unless QNX and the toolchain have not changed much in the same time.</p>
"
79289093,Booting QNX image on Raspberry Pi 4 get stuck in rainbow screen,https://stackoverflow.com/questions/79289093/booting-qnx-image-on-raspberry-pi-4-get-stuck-in-rainbow-screen,0,1734462378,"raspberry-pi4, qnx","<p>I am following a tutorial (<a href=""https://gitlab.com/qnx/quick-start-images/raspberry-pi-qnx-8.0-quick-start-image/-/wikis/Getting-Started"" rel=""nofollow noreferrer"">https://gitlab.com/qnx/quick-start-images/raspberry-pi-qnx-8.0-quick-start-image/-/wikis/Getting-Started</a>) to flash QNX image onto Raspberry Pi 4. I copied the QNX image (com.qnx.qnx800.quickstart.rpi4) using Raspberry Pi Imager to the SD card without any issue. When I insert the SD card into the Raspberry Pi, I only see the rainbow screen without seeing the main QNX welcome page.</p>
<p>I am using a 32GB SanDisk SD card and a Raspberry Pi 4. I just need some help to troubleshoot the issue.</p>
",
79236672,How to solve Boost Error:&#39;boost::interprocess_exception::library_error&#39;,https://stackoverflow.com/questions/79236672/how-to-solve-boost-errorboostinterprocess-exceptionlibrary-error,1,1732875127,"c++, boost, message-queue, qnx","<p>I created a message_server in the qnx environment, and the &quot;library_error&quot; always appeared :</p>
<pre><code>#include &lt;boost/interprocess/ipc/message_queue.hpp&gt;

int main() {
    boost::interprocess::message_queue mq(boost::interprocess::open_or_create, &quot;my_queue&quot;, 100, 10);
    mq.remove(&quot;my_queue&quot;);
}
</code></pre>
<p>In log file:</p>
<pre><code>terminate called after throwing an instance of 'boost::interprocess::interprocess_exception'
  what():  boost::interprocess_exception::library_error
</code></pre>
",
79189712,QNX on RPi4 how do I login the first time,https://stackoverflow.com/questions/79189712/qnx-on-rpi4-how-do-i-login-the-first-time,1,1731602822,"raspberry-pi4, qnx","<p>I did all the crazy stuff required to get the QNX RPi4 image. I cooked in the simplest way possible the SD image (cat qnx_sdp8.0_rpi4_quickstart_20241023.img  &gt; /dev/sda) and booted. I press on the icon to open a terminal and I get a text console login prompt. No hint given to what user and or password I should use.
Anyone have a clue ?</p>
<p>Did something else go wrong ? would the imaging tool setup a user for me and give me the password ?</p>
",
79107017,CMake / QNX 6.5 does not understand gnu99 standard,https://stackoverflow.com/questions/79107017/cmake-qnx-6-5-does-not-understand-gnu99-standard,0,1729426535,"cmake, c99, qnx","<p>I have already been made aware of <a href=""https://stackoverflow.com/questions/51137067/how-do-i-use-different-compilation-standards-in-qnx-momentics-6-5"">this question</a>, in which the OP seeks to use C++11 standards.
And I understand that - regrettably - C++11 is just too new for QNX 6.5.
But my question relates to the same compiler and the C99 standard, which is approximately 10 years older than the compiler being used here.</p>
<p>I am converting an existing QNX 6.5 project to CMake. This builds fine(ish) in Momentics, but I am falling at the first hurdle; generating the project.</p>
<p>I have this as my CMake file</p>
<pre class=""lang-none prettyprint-override""><code>cmake_minimum_required(VERSION 3.16)

set(CMAKE_C_STANDARD 99)

project(Analyser)

# other stuff
</code></pre>
<p>When I try to generate this using the QNX toolchain I get</p>
<pre><code>The C compiler

    &quot;/opt/qnx650/host/linux/x86/usr/bin/qcc&quot;

  is not able to compile a simple test program.

  It fails with the following output:

    Change Dir: /home/user/build.analyser/CMakeFiles/CMakeTmp
    
    Run Build Command(s):/usr/bin/ninja cmTC_4ee62 &amp;&amp; [1/2] Building C object CMakeFiles/cmTC_4ee62.dir/testCCompiler.c.o
    FAILED: CMakeFiles/cmTC_4ee62.dir/testCCompiler.c.o 
    /opt/qnx650/host/linux/x86/usr/bin/qcc -Vgcc_ntoarmle -Wc,-isysroot,/opt/qnx650/target/qnx6   -std=gnu99 -Wp,-MD,CMakeFiles/cmTC_4ee62.dir/testCCompiler.c.o.d -Wp,-MT,CMakeFiles/cmTC_4ee62.dir/testCCompiler.c.o -Wp,-MF,CMakeFiles/cmTC_4ee62.dir/testCCompiler.c.o.d -o CMakeFiles/cmTC_4ee62.dir/testCCompiler.c.o -c /home/user/build.analyser/CMakeFiles/CMakeTmp/testCCompiler.c
    cc: unknown option: -std=gnu99
</code></pre>
<p>If I remove the <code>CMAKE_C_STANDARD</code> then the project generates fine, but it does not build because it defaults to C89 I guess.</p>
<p>If I bypass the compiler check (<code>CMAKE_C_COMPILER_WORKS</code>) then of course the project generates fine.
But building the code gets me this...</p>
<pre><code>/opt/qnx650/host/linux/x86/usr/bin/qcc -Vgcc_ntoarmle -Wc,-isysroot,/opt/qnx650/target/qnx6  -I{lots of include dirs} -Wc -std=gnu99 -Wp,-MD,syslib/CMakeFiles/syslib.dir/logger.c.o.d -Wp,-MT,syslib/CMakeFiles/syslib.dir/logger.c.o -Wp,-MF,syslib/CMakeFiles/syslib.dir/logger.c.o.d -o syslib/CMakeFiles/syslib.dir/logger.c.o -c /home/user/project/syslib/logger.c
cc: unknown option: -std=gnu99
</code></pre>
<p>(not sure why so many options get repeated)</p>
<p>So the cmake compiler check wasn't just a hinderance.
The thing is, this works from within Momentics</p>
<pre><code>/opt/qnx650/host/linux/x86/usr/bin/qcc -Vgcc_ntoarm -c -O -Wc,-Wall -pedantic-errors -Wc,-std=gnu99 -DNDEBUG -I{lots of include dirs} -EL -DVARIANT_a -DVARIANT_le -DBUILDENV_qss /home/user/project/syslib/logger.c 
</code></pre>
<p>I doubt that the other command line options make any difference here for making the compiler understand <code>gnu99</code>  (I've not looked into these yet, but I will), but if you know better then please put me right.</p>
<p>The question comes down to this:
What must I do to use the c99 / gnu99 standard in a QNX 6.5 CMake project?</p>
",
78339019,How to suspend schedular in QNX OS?,https://stackoverflow.com/questions/78339019/how-to-suspend-schedular-in-qnx-os,0,1713337986,"operating-system, qnx, blackberry-qnx","<p>what is the equivalent API to FreeRTOS's 'vTaskSuspendAll()'?</p>
<p>I'm looking for a api in QNX to suspends the scheduler temporarily and resume back after some time.
API to Suspend all threads/tasks
API to resume all threads/tasks</p>
",
79062889,why in most OS the first virtual page in any process with addresses 0:1000 is protected by OS,https://stackoverflow.com/questions/79062889/why-in-most-os-the-first-virtual-page-in-any-process-with-addresses-01000-is-pr,0,1728320082,"pointers, operating-system, virtual-memory, qnx, data-protection","<p>i understand that NULL pointer has special meaning and if pointer points to virtual address 0 then it will be same. So this is main reason of protection on first virtual page?</p>
<p>i tried to map the memory with fixed virtual addresses</p>
",
77898005,Build GDB Source Code for QNX (QNX App Debugging alternative),https://stackoverflow.com/questions/77898005/build-gdb-source-code-for-qnx-qnx-app-debugging-alternative,0,1706513081,"debugging, gdb, qnx, qnx-neutrino, blackberry-qnx","<p>I‚Äôve retrieved the GDB source from QNX CVS.</p>
<p>The error message indicates that the linker (ld) cannot find the definitions for various functions, such as
i386_linux_read_description, amd64_linux_read_description, amd64_collect_fxsave, amd64_collect_xsave,
amd64_supply_fxsave, amd64_supply_xsave, amd64_linux_gregset_reg_offset, amd64_supply_fxsave, and amd64_collect_fxsave.</p>
<ol>
<li>Where to find the source code of above function or is it available in some library how to link that library?</li>
<li>IS any script availbe to use for the same?
For Example : Using Standard GDB with pdebug:While a standard GDB client wouldn't directly work with pdebug, it's
possible to bridge the gap using additional tools:
QNX SDK: The QNX Software Development Platform (SDK) includes a wrapper script that allows executing standard GDB
commands over the pdebug connection. This essentially translates GDB commands into the pdebug protocol, enabling limited
use of regular GDB with pdebug.</li>
</ol>
<p>3)Custom scripts: With advanced knowledge of both GDB and pdebug protocols, it's possible to write custom scripts or
wrappers that translate commands and bridge the communication gap.</p>
<p>Is any customer scripts availbe for use ?</p>
<ol start=""4"">
<li>We just need to avoid QNX Debugger. We just want to use open source debugger for QNX application if any other
approched can u please inform?</li>
</ol>
<p>To build GDB for QNX and debug QNX application</p>
",
79025858,How to buffering RTSP live data?,https://stackoverflow.com/questions/79025858/how-to-buffering-rtsp-live-data,1,1727333325,"c, rtsp, qnx","<p>I am trying to play live RTSP data on QNX Neutrino OS. I have created C code to do this and it works. I have connected my development kit and PC via ethernet. I can play RTSP video streamed from PC on my development kit but the first image is always distorted. The video is distorted for about 3-4 seconds on the screen.</p>
<p><strong>My stream code in PC:</strong></p>
<pre><code>cvlc -vvv ~/Videos/bbb_sunflower_1080p_60fps_normal.mp4 --sout '#transcode{acodec=mp4a}:rtp{sdp=rtsp://:8554/stream}' :network-caching=1500
</code></pre>
<p><strong>My C code in Development Kit(Plays video during 60 sec.):</strong></p>
<pre><code>#include &lt;screen/screen.h&gt;
#include &lt;mm/renderer.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/select.h&gt;
#include &lt;fcntl.h&gt;

#define WINGRP_NAME_MAX_LEN 128

// I/O devices
static const char *video_device_url    = &quot;screen:?winid=videosamplewindowgroup&amp;wingrp=videosamplewindowgroup&quot;;
static const char *audio_device_url    = &quot;audio:default&quot;;

// Name of video context
static const char *video_context_name = &quot;samplevideocontextname&quot;;

// Window group name
static const char *window_group_name = &quot;videosamplewindowgroup&quot;;

// Window Name
const char *window_name = &quot;appwindow&quot;;

strm_dict_t* calculate_rect(int width, int height) {
    const int image_width = 640;
    const int image_height = 480;
    const float image_aspect = (float)image_width / (float)image_height;
    const float aspect_tolerance = 0.1;

    char buffer[16];
    strm_dict_t *dict = strm_dict_new();

    if (NULL == dict) {
        return NULL;
    }

    //fullscreen is the default.
    dict = strm_dict_set(dict, &quot;video_dest_x&quot;, &quot;0&quot;);
    if (NULL == dict)
        goto fail;
    dict = strm_dict_set(dict, &quot;video_dest_y&quot;, &quot;0&quot;);
    if (NULL == dict)
        goto fail;
    dict = strm_dict_set(dict, &quot;video_dest_w&quot;, itoa(width, buffer, 10));
    if (NULL == dict)
        goto fail;
    dict = strm_dict_set(dict, &quot;video_dest_h&quot;, itoa(height, buffer, 10));
    if (NULL == dict)
        goto fail;

    float screen_aspect = (float)width/(float)height;

        dict = strm_dict_set(dict, &quot;video_dest_x&quot;, itoa((width - image_width) / 2, buffer, 10));
        if (NULL == dict)
            goto fail;

        width = height * image_aspect;

        dict = strm_dict_set(dict, &quot;video_dest_w&quot;, itoa(width, buffer, 10));
        if (NULL == dict)
            goto fail;


    return dict;

fail:
    strm_dict_destroy(dict);
    return NULL;
}


int main(void) {

    int rc;
    int exit_application = 0;

    printf(&quot;DBG-1\n&quot;);

    // Screen variables
    screen_context_t    screen_context = 0;
    screen_window_t     screen_window = 0;

    int screen_size[2] = {0,0};

    // Renderer variables
    mmr_connection_t*     mmr_connection = 0;
    mmr_context_t*        mmr_context = 0;
    strm_dict_t*          dict = NULL;

    // I/O variables
    int                    video_device_output_id = -1;
    int                    audio_device_output_id = -1;

    printf(&quot;DBG-2\n&quot;);

        /*
        * Create the window used for video output.
        */
       if (screen_create_context(&amp;screen_context, SCREEN_APPLICATION_CONTEXT) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-3\n&quot;);

       if (screen_create_window(&amp;screen_window, screen_context) != 0) {
           screen_destroy_context(screen_context);
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-4\n&quot;);

       if (screen_create_window_group(screen_window, window_group_name) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-5\n&quot;);

       int format = SCREEN_FORMAT_RGBA8888;
       if (screen_set_window_property_iv(screen_window, SCREEN_PROPERTY_FORMAT, &amp;format) != 0) {
           return EXIT_FAILURE;
       }

       if(screen_set_window_property_cv(screen_window, SCREEN_PROPERTY_ID_STRING, 32, window_name)){
           perror(&quot;Set Window ID Error\n&quot;);
           return EXIT_FAILURE;
       }

       printf(&quot;DBG-6\n&quot;);

       int usage = SCREEN_USAGE_NATIVE;
       if (screen_set_window_property_iv(screen_window, SCREEN_PROPERTY_USAGE, &amp;usage) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-7\n&quot;);

       if (screen_create_window_buffers(screen_window, 1) != 0) {
           return EXIT_FAILURE;
       }

       printf(&quot;DBG-8\n&quot;);

       /*
        * Configure mm-renderer.
        */
       mmr_connection = mmr_connect(NULL);
       if (mmr_connection == NULL) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-9\n&quot;);

       mmr_context = mmr_context_create(mmr_connection, video_context_name, 0, S_IRWXU|S_IRWXG|S_IRWXO);
       if (mmr_context == NULL) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-11\n&quot;);
       /*
        * Configure video and audio output.
        */
       video_device_output_id = mmr_output_attach(mmr_context, video_device_url, &quot;video&quot;);
       if (video_device_output_id == -1) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-12\n&quot;);

       printf(&quot;DBG-13\n&quot;);
       // Get the render buffer
       screen_buffer_t temp_buffer[1];
       if (screen_get_window_property_pv( screen_window, SCREEN_PROPERTY_RENDER_BUFFERS, (void**)temp_buffer) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-14\n&quot;);
       // Fill the buffer with a solid color (black)
       int fill_attributes[3] = {SCREEN_BLIT_COLOR, 0x0, SCREEN_BLIT_END};
       if (screen_fill(screen_context, temp_buffer[0], fill_attributes) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-15\n&quot;);
       // Make the window visible
       if (screen_get_window_property_iv(screen_window, SCREEN_PROPERTY_SIZE, screen_size) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-16\n&quot;);
       int temp_rectangle[4] = {0, 0, screen_size[0], screen_size[1]};
       if (screen_post_window(screen_window, temp_buffer[0], 1, temp_rectangle, 0) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-17\n&quot;);
       // Prevent the backlight from going off
       int idle_mode = SCREEN_IDLE_MODE_KEEP_AWAKE;
       if (screen_set_window_property_iv(screen_window, SCREEN_PROPERTY_IDLE_MODE, &amp;idle_mode) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-18\n&quot;);
       // Build up the path where our bundled resource is.
       char cwd[PATH_MAX];
       char media_file[PATH_MAX];
       getcwd(cwd,PATH_MAX);

       rc = snprintf(media_file, PATH_MAX, &quot;rtsp://10.42.0.1:8554/stream&quot;, cwd);    // Play video RTSP

       if ((rc == -1) || (rc &gt;= PATH_MAX)) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-19\n&quot;);
       /*
        * Start the playback.
        */
       if (mmr_input_attach(mmr_context, media_file, &quot;track&quot;) != 0) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-20\n&quot;);
       if (mmr_play(mmr_context) != 0) {
           return EXIT_FAILURE;
       }


       printf(&quot;DBG-21\n&quot;);
       /* Do some work to make the aspect ratio correct.
        */
       dict = calculate_rect(screen_size[0], screen_size[1]);
       if (NULL == dict) {
           return EXIT_FAILURE;
       }
       printf(&quot;DBG-22\n&quot;);
       if (mmr_output_parameters(mmr_context, video_device_output_id, dict) != 0) {
           return EXIT_FAILURE;
       }


       dict = NULL;

       sleep(60);

       if (mmr_stop(mmr_context) != 0) {
               return EXIT_FAILURE;
           }

           if (mmr_output_detach(mmr_context, audio_device_output_id) != 0) {
               return EXIT_FAILURE;
           }

           if (mmr_output_detach(mmr_context, video_device_output_id) != 0) {
               return EXIT_FAILURE;
           }

           if (mmr_context_destroy(mmr_context) != 0) {
               return EXIT_FAILURE;
           }

           mmr_context = 0;
           video_device_output_id = -1;
           audio_device_output_id = -1;

           mmr_disconnect(mmr_connection);
           mmr_connection = 0;


           if (screen_destroy_window(screen_window) != 0) {
               return EXIT_FAILURE;
           }

           if (screen_destroy_context(screen_context) != 0) {
               return EXIT_FAILURE;
           }

           screen_context = 0;
           screen_window = 0;

           return EXIT_SUCCESS;
}
</code></pre>
<p><strong>First image after start play RTSP video</strong>:
<a href=""https://i.sstatic.net/fzwzV8d6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/fzwzV8d6.png"" alt=""Distorted image-1"" /></a>
<a href=""https://i.sstatic.net/bZYvTNQU.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/bZYvTNQU.png"" alt=""Distorted image-2"" /></a></p>
<p>I tried buffering the incoming RTSP data for 2 seconds and playing it, but it seems too complicated and I couldn't do it. I couldn't quite figure out if there was a problem with the stream.</p>
<p>How can I fix this issue?</p>
",
45407760,How to create a QNX neutrino 7.0.0 bootable cd image with Photon?,https://stackoverflow.com/questions/45407760/how-to-create-a-qnx-neutrino-7-0-0-bootable-cd-image-with-photon,2,1501477230,"boot, rtos, qnx, qnx-neutrino, bootable","<p>I am a newbie in QNX and I have a question:
How to generate a QNX 7.0.0 bootable image for x86 (32-bit) that I can burn on a CD disk and boot with Photon.
There is an ISO image on the internet that does exactly that I want to. It called ""QNX demo"" or so, but it's not QNX 7, it uses a earlier version, and also it's a ready result, with no easy posibility to add my software to.</p>

<p>Also, I am not sure that it's possible to generate a ISO image using ""QNX system builder"" - the only way I can boot something (that is not even nearly close to what I need) - is generating a sort of multiboot image and booting it via GRUB2+mkresue.</p>
","<p>Photon isn't available in SDP 7, it was deprecated (notice indicating intent to remove in a future version) in SDP 6.5 SP1 and was removed from the product in SDP 6.6. The replacement graphics technology is QNX Screen, which is available for 6.5 and 6.6, and well as being in 7.0, but it is intended for embedded use and does not include a user desktop environment like Photon does.</p>
"
27009240,Adding a route or default gateway to QNX,https://stackoverflow.com/questions/27009240/adding-a-route-or-default-gateway-to-qnx,3,1416372939,"routes, gateway, qnx","<p>We have a system running QNX that normally connects to two other hosts on a 10.10.X.0 network. We are installing two remote systems that need to be able to talk to those servers on our 56.x.y.z network.</p>

<p>We can type:</p>

<p>route -n add 56.x.y.0/24 56.a.b.1   (2nd addr is the gateway)</p>

<p>It shows up in the routing table (route -f) and all works fine. The problem is when the system is rebooted of course it goes away. We need to make it persistent by creating or adding that line to some file that runs at boot-up. Sounds simple enough - like autoexec.bat in DOS. Or we just need to add a default gateway somehow as in Windows.  </p>

<p>Thanks for any help. </p>
",
78834669,fatal error: io.h: No such file or directory on Eclipse-based IDE,https://stackoverflow.com/questions/78834669/fatal-error-io-h-no-such-file-or-directory-on-eclipse-based-ide,0,1722864404,"c++, matplotlib, qnx, momentics","<p>I am using <a href=""https://qdn.qnx.com/products/neutrino-rtos/qnx-momentics.html"" rel=""nofollow noreferrer"">Momentics IDE</a> in Windows 10, and I need to draw some plots using <a href=""https://github.com/lava/matplotlib-cpp"" rel=""nofollow noreferrer"">matplot++</a>. I have copied <a href=""https://github.com/lava/matplotlib-cpp/blob/master/matplotlibcpp.h"" rel=""nofollow noreferrer"">matplotlibcpp.h</a> to my work directory, and then I got the infamous</p>
<pre><code>Python.h: No such file or directory
</code></pre>
<p>while trying to run a simple code</p>
<pre><code>#include &quot;matplotlibcpp.h&quot;
namespace plt = matplotlibcpp;
int main() {
    plt::plot({1,3,2,4});
    plt::show();
}
</code></pre>
<p>error. I have changed the line in <code>matplotlibcpp.h</code>  from</p>
<pre><code>#include &lt;Python.h&gt;
</code></pre>
<p>to</p>
<pre><code>#include &lt;C:\Python\Python312\include\Python.h&gt;
</code></pre>
<p>And similarly, I changed the line</p>
<pre><code>#include &lt;numpy/arrayobject.h&gt;
</code></pre>
<p>int</p>
<pre><code>#include &lt;C:\Python\Python312\Lib\site-packages\numpy\arrayobject.h&gt;
</code></pre>
<p>But now I am getting the following error:</p>
<pre><code>C:\Python\Python312\include\pyconfig.h:59:10: fatal error: io.h: No such file or directory
</code></pre>
<p>I checked the other solutions, but all of them are for Visual Studio. I am using an IDE based on Eclipse. What am I missing?</p>
",
77430655,What is the best QNX alternatve to Linux strace,https://stackoverflow.com/questions/77430655/what-is-the-best-qnx-alternatve-to-linux-strace,2,1699269297,"kernel, system-calls, qnx","<p>I used to analyze the system calls produced by a program in <code>Linux</code> using the <code>strace</code> tool which is quite useful. We can clearly see all the four categories presented by Modern Operating Systems(Tanenbaum et al., 2022): process management, file management, directory management, miscellaneous calls.</p>
<p>Now I want to do the same for <code>QNX</code> and that's a bit painful since QNX does not seem to provide a full tool for this purpose.</p>
<p>QNX provides <code>tracelogger</code> in <a href=""https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.sat/topic/datacapture.html"" rel=""nofollow noreferrer"">https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.sat/topic/datacapture.html</a></p>
<p>The problem with this tool is that it's not quite complete.</p>
<p>I believe I need to customize it somehow, but the results are not quite straightforward as Linux's strace.</p>
<p>Can you please give me your insights so that I can follow a better approach?</p>
","<p>After some investigation, I finally could find and validate what <strong>QNX</strong> provides, an IDE called <strong>Momentics</strong> that can receive as input a <strong>.kev</strong> file output by <strong>tracelogger</strong>: <a href=""https://www.qnx.com/products/neutrino-rtos/qnx-momentics.html"" rel=""nofollow noreferrer"">https://www.qnx.com/products/neutrino-rtos/qnx-momentics.html</a></p>
<p>The tool is very slow, but with some pain, we can read and filter all the kernel traces by the following categories:</p>
<p><strong>Communication</strong></p>
<ul>
<li>Disconnect Pulse</li>
<li>Error</li>
<li>Receive Message</li>
<li>Send Pulse</li>
<li>Sigevent Pulse</li>
<li>Signal</li>
</ul>
<p><strong>Control Events</strong></p>
<ul>
<li>Buffer</li>
<li>Time</li>
</ul>
<p><strong>Interrups</strong></p>
<ul>
<li>Entry (64)</li>
<li>Exit</li>
<li>Handler Entry (64)</li>
<li>Handler Exit</li>
</ul>
<p><strong>Process and Thread</strong></p>
<ul>
<li>Condvar</li>
<li>Create Process</li>
<li>Create Process Name</li>
<li>Destroy Thread</li>
<li>Dead</li>
<li>Destroy Process</li>
<li>Destroy Thread</li>
<li>Interrupt</li>
<li>Join</li>
<li>Mutex</li>
<li>NanoSleep</li>
<li>Ready</li>
<li>Receive</li>
<li>Reply</li>
<li>Running</li>
<li>Semaphore</li>
<li>Send</li>
<li>SigSuspend</li>
<li>SigWaitInfo</li>
<li>Stack</li>
<li>Stopped</li>
<li>Thread Name</li>
<li>WaitPage</li>
<li>WaitThread</li>
</ul>
<p><strong>System</strong></p>
<ul>
<li>APS Budgets</li>
<li>APS Name</li>
<li>IPI (64)</li>
<li>MMap</li>
</ul>
<p>I was expecting a big list of actual system calls, since QNX is a Microkernel, but since it's also POSIX compliant and mainly due to performance in a real time system (context switches are expensive), the list of actual system calls is actually very few as we can confirm in the Momentics IDE:</p>
<ol>
<li><strong>CacheFlush</strong>():¬†flushes the contents of the indicated cache(s) for the specified addresses.</li>
<li><strong>ChannelCreate</strong>(),¬† ChannelCreate_r(), ChannelCreatePulsePool(),¬† ChannelCreate(): create a channel¬† to receive messages and pulses.</li>
<li>¬†<strong>ChannelDestroy</strong>(), ChannelDestroy_r(): The opposite.</li>
<li><strong>ConnectAttach</strong>(), ConnectAttach_r(): For a¬† thread to get attached to communicate with a channel.</li>
<li><strong>ChannelConnectAttr</strong>: related to the previous.</li>
<li><strong>ClockAdjust</strong>(), ClockAdjust_r(): ¬†let you gradually adjust the time of the clock specified by id. Represent the amount of time the process or thread has spent running.</li>
<li><strong>ClockId</strong>(), ClockId_r(): clock ID of a process or thread CPU-time clock. Time the process or thread has spent running.</li>
<li><strong>ClockPeriod</strong>(), ClockPeriod_r(): get or set the clock period of the clock.</li>
<li><strong>ClockTime</strong>(), ClockTime_r(): get or set the system clock, get the CPU-time clock for a process or a particular thread.</li>
<li><strong>ConnectClientInfo</strong>(), ConnectClientInfo_r(): get information about a client connection identified by scoid, and store it in the buffer that info points to.¬†</li>
<li><strong>ConnectFlags</strong>(), ConnectFlags_r(): nonblocking calls to modify or query the flags associated with the specified connection.¬†</li>
<li><strong>ConnectDetach</strong>(), ConnectDetach_r(): ¬†detach the connection specified by the coid argument.¬†</li>
<li><strong>ConnectServerInfo</strong>(), ConnectServerInfo_r(): get information about the connection coid owned by process pid to store in the structure pointed to by info.</li>
<li><strong>InterruptAttach</strong>(), InterruptAttach_r(): attach the Interrupt Service Routine (ISR) identified by handler to the hardware interrupt specified by intr; automatically enable (i.e., unmask) the interrupt level.¬†</li>
<li><strong>InterruptDetach</strong>(), InterruptDetach_r(): detach the interrupt handler specified by the id argument.¬†</li>
<li><strong>InterruptMask</strong>(): disables the hardware interrupt specified by intr for the handler specified by id.</li>
<li><strong>InterruptUnmask</strong>(): ¬†enables the hardware interrupt specified by intr for the interrupt handler specified by id when the mask count reaches zero.</li>
<li><strong>InterruptWait</strong>(), InterruptWait_r(): ¬†wait for a hardware interrupt. The calling thread should have attached a handler to the interrupt.</li>
<li><strong>MsgReadv</strong>(), MsgReadv_r(): read data from a message sent by a thread identified by rcvid.</li>
<li><strong>MsgReceivePulsev</strong>(), MsgReceivePulsev_r(): wait for a pulse to arrive on the channel identified by chid and place the received data in the first element of the array of buffers pointed to by piov.</li>
<li><strong>MsgReceive</strong>(), MsgReceive_r(), MsgReceivev(), MsgReceivev_r(): wait for a message or pulse to arrive on the channel identified by chid and place the received data in the array of buffers pointed to by riov.¬†</li>
<li><strong>MsgReply</strong>(), MsgReply_r(), MsgReplyv(), MsgReplyv_r(): reply with a message to the thread identified by rcvid</li>
<li><strong>MsgSend</strong>(), MsgSend_r(), MsgSendvs(), MsgSendvs_r(), MsgSendnc(), MsgSendnc_r(), MsgSendvsnc(), MsgSendvsnc_r(): send a message to a process's channel via the connection identified by coid.¬†</li>
<li><strong>MsgSendPulsePtr</strong>(), MsgSendPulsePtr_r(): ¬†send a short, nonblocking message to a process's channel via the connection identified by coid.</li>
<li><strong>MsgVerifyEvent</strong>(), MsgVerifyEvent_r(): check the validity of the receive ID rcvid, and the event configuration.¬†</li>
<li><strong>MsgWritev</strong>(), MsgWritev_r(): write data to the reply buffer of a thread identified by rcvid.¬†</li>
<li><strong>MsgCurrent</strong>(), MsgCurrent_r(): announce to the kernel that you are resuming the processing of a previously received message.</li>
<li><strong>MsgError</strong>(), MsgError_r(): deliver an event from a server to a client through a channel connection.</li>
<li><strong>MsgInfo</strong>(), MsgInfo_r(): get additional information about a received message and store it in the specified _msg_info structure.¬†</li>
<li><strong>MsgKeyData</strong>(), MsgKeyData_r(): allow two privileged processes to pass data through a common client while verifying that the client hasn't modified the data.</li>
<li><strong>MsgPause</strong>(), MsgPause_r(): pause a message.</li>
<li><strong>MsgRead</strong>(), MsgRead_r(): read data from a message sent by a thread identified by rcvid.¬†</li>
<li><strong>MsgReceivePulse</strong>(), MsgReceivePulse_r(): ¬†wait for a pulse to arrive on the channel identified by chid and place the received data in the buffer pointed to by pulse.</li>
<li><strong>SchedCtl</strong>(), SchedCtl_r(): control the scheduler.¬†</li>
<li>Network related: <strong>NetCred</strong>(), <strong>NetInfoScoid</strong>(), <strong>NetSignalKill</strong>(), <strong>NetUnblock</strong>(), <strong>NetVtid</strong>().</li>
<li><strong>__KER_NOP event</strong>: forces a thread into the kernel so that scheduling can take place.</li>
<li><strong>SchedGet</strong>(), SchedGet_r(): return the current scheduling policy and parameters for the thread specified by tid in the process specified by pid.</li>
<li><strong>SchedInfo</strong>(), SchedInfo_r(): return information about the kernel's thread scheduler, including the minimum and maximum thread priority.</li>
<li><strong>SchedSet</strong>(), SchedSet_r(): set both the scheduling policy and the associated parameters for the thread specified by tid in the process specified by pid.</li>
<li><strong>SchedYield</strong>(), SchedYield_r(): check to see if other threads at the same priority as that of the calling thread are ready to run. If so, the calling thread yields to them and places itself at the end of the READY thread queue for that priority. SchedYield() never yields to a lower-priority thread. Higher-priority threads always force a yield the instant they become ready to run. This call has no effect with respect to threads running at priorities other than the calling thread's.</li>
<li><strong>SchedWaypoint</strong>: related to the previous.</li>
<li><strong>SignalAction</strong>(), SignalAction_r(): let the calling process examine or specify (or both) the action to be associated with a specific signal in the process pid.</li>
<li><strong>SignalKill</strong>(), SignalKill_r(): send the signal signo with a code specified by code and a value specified by value to a process group, process, or thread.</li>
<li><strong>SignalKillSigval</strong>(), SignalKillSigval_r(): send the signal signo with the given code and the value specified by sigval to a process group, process, or thread.</li>
<li><strong>SignalProcmask</strong>(), SignalProcmask_r(): modify or examine the signal-blocked mask of the thread tid in process pid.</li>
<li><strong>SignalSuspend</strong>(), SignalSuspend_r(): replace the thread's signal mask with the set of signals pointed to by set and then suspends the thread until delivery of a signal whose action is either to execute a signal-catching function (then return), or to terminate the thread. On return, the previous signal mask is restored.¬†</li>
<li><strong>SignalReturn</strong>: related to the previous.</li>
<li><strong>SignalWaitinfo</strong>(), SignalWaitinfo_r(): select the pending signal from the set specified by set.</li>
<li><strong>SyncCondvarSignal</strong>(), SyncCondvarSignal_r(): wake up one or all threads that are blocked on the condition variable, condvar.</li>
<li><strong>SyncCondvarWait</strong>(), SyncCondvarWait_r(): block the calling thread on the condition variable, condvar. If more than one thread is blocked on the object, the threads are queued in priority order.</li>
<li><strong>SyncCreate</strong>(), SyncCreate_r(),¬† SyncTypeCreate(), SyncTypeCreate_r(): create a synchronization object in the kernel and initializes sync for use in other synchronization kernel calls.</li>
<li><strong>SyncDestroy</strong>(), SyncDestroy_r(): the opposite.</li>
<li><strong>SyncCtl</strong>(), SyncCtl_r(): set or get a ceiling priority for a mutex, attach an event to a mutex so you'll be notified when the mutex changes to the DEAD state, wake up threads that are blocked on a mutex.</li>
<li><strong>SyncMutexLock</strong>(), SyncMutexLock_r(): try to lock the mutex synchronization object sync. If the mutex isn't currently locked, the call returns immediately with the object locked. The mutex is considered unlocked if the owner field of sync is zero.</li>
<li><strong>SyncMutexRevive</strong>(), SyncMutexRevive_r(): revive a mutex, pointed to by sync, that's in the DEAD state. The mutex will be put into the LOCK state and will be owned by the calling thread. The mutex counter is set to one (for recursive mutexes).</li>
<li><strong>SyncMutexUnlock</strong>(), SyncMutexUnlock_r(): unlock the mutex passed as sync. If there are threads blocked on the mutex, the owner member of sync is set to the thread ID of the thread with the highest priority that has been waiting the longest and it's made ready to run.</li>
<li><strong>SyncSemPost</strong>(), SyncSemPost_r(): increment the semaphore referenced by the sync argument. If any threads are blocked on the semaphore, the one waiting the longest is unblocked and allowed to run.</li>
<li><strong>SyncSemWait</strong>(), SyncSemWait_r(): ¬†decrement the semaphore referred to by the sync argument. If the semaphore value isn't greater than zero and try is zero, then the calling process blocks until it can decrement the counter or the call is interrupted by signal.</li>
<li><strong>SysSrandom</strong>(), SysSrandom_r(): set one source of entropy that's used for the kernel's PRNG. The PRNG is used with ASLR.</li>
<li><strong>ThreadCancel</strong>(), ThreadCancel_r(): request that the thread specified by tid be canceled.</li>
<li><strong>ThreadCreate</strong>(), ThreadCreate_r(): create a new thread of execution, with attributes specified by attr, within the process specified by pid.</li>
<li><strong>ThreadDestroy</strong>(),ThreadDestroy_r() are the opposite.</li>
<li><strong>ThreadDetach</strong>(), ThreadDetach_r(), ThreadJoin(), ThreadJoin_r() are related.</li>
<li><strong>ThreadCtl</strong>(), ThreadCtl_r(), ThreadCtlExt(), ThreadCtlExt_r(): allow you to make OS-specific changes to a thread.</li>
<li><strong>TimerAlarm</strong>(), TimerAlarm_r(): activate an internal timer to schedule an alarm signal (SIGALRM) for delivery to the process. The signal will be delivered at the time specified by itime.</li>
<li><strong>TimerCreate</strong>(), TimerCreate_r(): create a per-process timer using the clock specified by id as the timing base. ¬†</li>
<li><strong>TimerDestroy</strong>(), TimerDestroy_r() are the opposite.</li>
<li><strong>TimerInfo</strong>(), TimerInfo_r(): get time info.</li>
<li><strong>TimerSettime</strong>(), TimerSettime_r(): set the expiration time of the timer specified by id, or set the tolerance for that timer, depending on the flags provided.</li>
<li><strong>TimerTimeout</strong>(), TimerTimeout_r(): ¬†set a timeout on any kernel blocking state, block for a specified time, or set the timer tolerance for these timeouts, depending on the flags.</li>
<li><strong>TraceEvent</strong>(): ¬†lets you control all stages of the instrumentation process, including initializing, starting, stopping, controlling filters, and inserting events. These stages are broadly grouped into categories described in <a href=""https://www.qnx.com/developers/docs/7.1/index.html#com.qnx.doc.neutrino.lib_ref/topic/t/traceevent.html"" rel=""nofollow noreferrer"">https://www.qnx.com/developers/docs/7.1/index.html#com.qnx.doc.neutrino.lib_ref/topic/t/traceevent.html</a></li>
</ol>
<p>Overview on QNX Kernel Calls (<a href=""https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.sat/topic/events_Kernel_call_class.html"" rel=""nofollow noreferrer"">https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.sat/topic/events_Kernel_call_class.html</a>):</p>
<ul>
<li><p><strong>_NTO_TRACE_KERCALLENTER</strong> and <strong>_NTO_TRACE_KERCALLEXIT</strong>: entrances to and exits from kernel calls.</p>
</li>
<li><p><strong>_NTO_TRACE_KERCALLINT</strong>: interrupted kernel calls. No _NTO_TRACE_KERCALLEXIT is logged.</p>
</li>
<li><p><strong>_NTO_TRACE_KERCALL</strong>: pseudo-class that comprises all the above classes.
The traceprinter labels for these classes are KER_CALL, KER_EXIT, and INT_CALL, followed by an uppercase version of the kernel call; the IDE labels consist of the kernel call, followed by Enter, Exit, or INT.
Event type is ORed with _NTO_TRACE_KERCALL64 (for 64-bit data types).</p>
</li>
</ul>
"
78696738,mw_ne10_fft_c2c_1d_float32_neon function call throws Memory fault (core dumped) error in QNX,https://stackoverflow.com/questions/78696738/mw-ne10-fft-c2c-1d-float32-neon-function-call-throws-memory-fault-core-dumped,0,1719919740,"neon, qnx","<p>mw_ne10_fft_c2c_1d_float32_neon function call provided by arm_neon is throwing Memory fault (core dumped) in QNX environment.</p>
<p>The linking of header file and compilation is successful.
Do I have to link the arm_neon library explicitly in the cmake?</p>
",
53430194,PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP Error in QNX 7,https://stackoverflow.com/questions/53430194/pthread-recursive-mutex-initializer-np-error-in-qnx-7,2,1542886775,"linux, pthreads, qnx","<p>I am porting code from Linux to QNX 7. PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP is used in many places in my code. In Linux, this is defined in pthread.h. In QNX, I am unable to find where this is defined. Hence throwing error:
""PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP' undeclared here (not in a function)"".</p>

<p>How to fix this?</p>
",
46096883,How can I write a CANopen stack?,https://stackoverflow.com/questions/46096883/how-can-i-write-a-canopen-stack,3,1504788754,"c++, embedded, qnx, can-bus, canopen","<p>I have a similar problem to this: <em><a href=""https://stackoverflow.com/questions/1232624/how-to-program-a-simple-canopen-layer"">How to program a simple CANopen layer</a></em>.
I read the answers, but I have to program a CANopen layer on my own. I cannot get a commercial one. So are there any basics of writing a CANopen stack (or layer I'm not certain about the difference)? I don't know even where to start...</p>
<p>If it's required, here's some information:</p>
<p>My master device is a <a href=""https://en.wikipedia.org/wiki/BeagleBoard#BeagleBone_Black"" rel=""nofollow noreferrer"">BeagleBone Black</a> with <a href=""https://en.wikipedia.org/wiki/QNX"" rel=""nofollow noreferrer"">QNX</a>. QNX has a generic CAN library I think, but it is not specific to CANopen. And my slave is a militarized brushless motor controller. I'm writing in C++.</p>
<p>I have a documentation about the general requirements of my system.
There are two <a href=""https://en.wikipedia.org/wiki/PHP#Development_and_community"" rel=""nofollow noreferrer"">RPDOs</a> and four <a href=""https://en.wikipedia.org/wiki/PHP#Development_and_community"" rel=""nofollow noreferrer"">TPDOs</a>, transmission is synchronous, there is no stopped mode (so no heart-beat and node guarding) and all message information are stated (size, format, related node IDs, etc.)</p>
","<p>There are actually at least 4 open source projects that implement CANopen:</p>

<ul>
<li>CanFestival is the oldest and might be the most mature solution. License: LGPLv2.</li>
<li>CANopenNode is aimed at micro-controllers. License: GPLv2.</li>
<li>Lely CANopen is a library for implementing CANopen masters and slaves. License: Apache version 2.</li>
<li>openCANopen is a master that runs on Linux. License: ISC. Note: I am the author of this project.</li>
</ul>

<p>I would have posted links, but apparently I don't have enough ""reputation"".</p>

<p>openCANopen also includes some utilities such as a daemon for forwarding traffic over TCP and a program that interprets and dumps CANopen traffic to standard output.</p>

<p>Lely CANopen is actually of pretty decent code quality and I might have used it if it'd been available when I started writing my own implementation. However, I have not tried using it, so I can't really say which implementation is ""better"". I can only say that they are different and one or the other may suit your needs better.</p>

<p>Now, I doubt that any of those implementations will work straight out of the box on QNX. They will either have to be adapted or you can copy individual parts of the code into your own implementations. At least that should save you some time.</p>
"
78606425,Why gRPC gave error about for protobuf library when try cross-compile for QNX?,https://stackoverflow.com/questions/78606425/why-grpc-gave-error-about-for-protobuf-library-when-try-cross-compile-for-qnx,1,1718096508,"c++, cmake, protocol-buffers, cross-compiling, qnx","<p>I try cross-compile gRPC C++ for QNX. I follow below steps:</p>
<ul>
<li>I download gRPC v1.52.2. Because I use QNX SDP 7.0 and this grpc version is the last version work with GCC 5.4.0.</li>
<li>Enter gRPC folder and ran <code>git submodule update --init</code></li>
<li>Enter cmake folder and create <code>qnx_toolchain.cmake</code>, and create <code>build</code> folder</li>
<li>Set envirenment <code>source ~/qnx700/qnxsdp-env.sh</code></li>
<li>Enter <code>build</code> folder and ran <code>cmake ../.. -DCMAKE_TOOLCHAIN_FILE=../qnx_toolchain.cmake ..</code> command.</li>
</ul>
<p><strong>cmake output is:</strong></p>
<pre><code>
    -- using QNX_HOST /home/arge/qnx700/host/linux/x86_64
    -- using QNX_TARGET /home/arge/qnx700/target/qnx7
    -- using QNX_HOST /home/arge/qnx700/host/linux/x86_64
    -- using QNX_TARGET /home/arge/qnx700/target/qnx7
    -- The C compiler identification is QCC 5.4.0
    -- The CXX compiler identification is QCC 5.4.0
    -- Check for working C compiler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc
    -- Check for working C compiler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc -- works
    -- Detecting C compiler ABI info
    -- Detecting C compiler ABI info - done
    -- Detecting C compile features
    -- Detecting C compile features - done
    -- Check for working CXX compiler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc
    -- Check for working CXX compiler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc -- works
    -- Detecting CXX compiler ABI info
    -- Detecting CXX compiler ABI info - failed
    -- Detecting CXX compile features
    -- Detecting CXX compile features - done
    -- Looking for pthread.h
    -- Looking for pthread.h - found
    -- Performing Test CMAKE_HAVE_LIBC_PTHREAD
    -- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
    -- Found Threads: TRUE  
    CMake Warning at third_party/abseil-cpp/CMakeLists.txt:70 (message):
      A future Abseil release will default ABSL_PROPAGATE_CXX_STD to ON for CMake
      3.8 and up.  We recommend enabling this option to ensure your project still
      builds correctly.
    
    
    CMake Warning at third_party/abseil-cpp/absl/copts/AbseilConfigureCopts.cmake:70 (message):
      Value of CMAKE_SYSTEM_PROCESSOR () is unknown and cannot be used to set
      ABSL_RANDOM_RANDEN_COPTS
    Call Stack (most recent call first):
      third_party/abseil-cpp/CMake/AbseilHelpers.cmake:18 (include)
      third_party/abseil-cpp/CMakeLists.txt:81 (include)
    
    
    CMake Warning at third_party/abseil-cpp/absl/copts/AbseilConfigureCopts.cmake:92 (message):
      Unknown compiler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc.
      Building with no default flags
    Call Stack (most recent call first):
      third_party/abseil-cpp/CMake/AbseilHelpers.cmake:18 (include)
      third_party/abseil-cpp/CMakeLists.txt:81 (include)
    
    
    -- Looking for res_servicename
    -- Looking for res_servicename - not found
    -- Looking for res_servicename in resolv
    -- Looking for res_servicename in resolv - not found
    -- Looking for gethostbyname
    -- Looking for gethostbyname - not found
    -- Looking for gethostbyname in nsl
    -- Looking for gethostbyname in nsl - not found
    -- Looking for gethostbyname in socket
    -- Looking for gethostbyname in socket - found
    -- Looking for socket
    -- Looking for socket - not found
    -- Looking for socket in socket
    -- Looking for socket in socket - found
    -- Looking for clock_gettime
    -- Looking for clock_gettime - found
    .
    .
    .
    .
    -- Looking for gethostbyaddr
    -- Looking for gethostbyaddr - found
    -- Looking for gethostbyname
    -- Looking for gethostbyname - found
    -- Looking for gethostname
    -- Looking for gethostname - found
    -- Looking for getnameinfo
    -- Looking for getnameinfo - found
    -- Looking for getservbyport_r
    -- Looking for getservbyport_r - not found
    -- Looking for getservbyname_r
    -- Looking for getservbyname_r - not found
    -- Looking for gettimeofday
    -- Looking for gettimeofday - found
    -- Looking for if_indextoname
    -- Looking for if_indextoname - found
    -- Looking for inet_net_pton
    -- Looking for inet_net_pton - found
    -- Looking for inet_ntop
    -- Looking for inet_ntop - found
    -- Looking for inet_pton
    -- Looking for inet_pton - found
    -- Looking for ioctl
    -- Looking for ioctl - found
    -- Looking for ioctlsocket
    -- Looking for ioctlsocket - not found
    -- Looking for IoctlSocket
    -- Looking for IoctlSocket - not found
    -- Looking for recv
    -- Looking for recv - found
    -- Looking for recvfrom
    -- Looking for recvfrom - found
    -- Looking for send
    -- Looking for send - found
    -- Looking for setsockopt
    -- Looking for setsockopt - found
    -- Looking for socket
    -- Looking for socket - found
    -- Looking for strcasecmp
    -- Looking for strcasecmp - found
    -- Looking for strcmpi
    -- Looking for strcmpi - not found
    -- Looking for strdup
    -- Looking for strdup - found
    -- Looking for stricmp
    -- Looking for stricmp - not found
    -- Looking for strncasecmp
    -- Looking for strncasecmp - found
    -- Looking for strncmpi
    -- Looking for strncmpi - not found
    -- Looking for strnicmp
    -- Looking for strnicmp - not found
    -- Looking for writev
    -- Looking for writev - found
    -- Looking for __system_property_get
    -- Looking for __system_property_get - not found
    CMake Warning at third_party/protobuf/cmake/CMakeLists.txt:3 (message):
      Calling of cmake with source directory set to &quot;cmake&quot; subdirectory of
      Protocol Buffers project is deprecated.  Top-level directory of Protocol
      Buffers project should be used instead.
    
    
    -- 
    -- 3.21.6.0
    -- Performing Test protobuf_HAVE_LD_VERSION_SCRIPT
    -- Performing Test protobuf_HAVE_LD_VERSION_SCRIPT - Success
    -- Performing Test protobuf_HAVE_BUILTIN_ATOMICS
    -- Performing Test protobuf_HAVE_BUILTIN_ATOMICS - Success
    -- The ASM compiler identification is QCC
    -- Found assembler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc
    -- Looking for stddef.h
    -- Looking for stddef.h - found
    -- Check size of off64_t
    -- Check size of off64_t - done
    -- Looking for fseeko
    -- Looking for fseeko - found
    -- Looking for unistd.h
    -- Looking for unistd.h - found
    -- Renaming
    --     /home/arge/dev/grpc/third_party/zlib/zconf.h
    -- to 'zconf.h.included' because this file is included with zlib
    -- but CMake generates it automatically in the build directory.
    -- Found PkgConfig: /usr/bin/pkg-config (found version &quot;0.29.1&quot;) 
    -- Checking for module 'libsystemd'
    --   Found libsystemd, version 245
    -- Found systemd via pkg-config.
    -- Configuring done
    -- Generating done
    -- Build files have been written to: /home/arge/dev/grpc/cmake/build
  
</code></pre>
<p><strong>inside of build folder looks like below after run cmake:</strong></p>
<pre><code>    .
    ‚îú‚îÄ‚îÄ CMakeCache.txt
    ‚îú‚îÄ‚îÄ CMakeFiles
    ‚îú‚îÄ‚îÄ cmake_install.cmake
    ‚îú‚îÄ‚îÄ CPackConfig.cmake
    ‚îú‚îÄ‚îÄ CPackSourceConfig.cmake
    ‚îú‚îÄ‚îÄ gens
    ‚îú‚îÄ‚îÄ gRPCConfig.cmake
    ‚îú‚îÄ‚îÄ gRPCConfigVersion.cmake
    ‚îú‚îÄ‚îÄ http_archives
    ‚îú‚îÄ‚îÄ lib
    ‚îú‚îÄ‚îÄ libs
    ‚îú‚îÄ‚îÄ Makefile
    ‚îú‚îÄ‚îÄ protos
    ‚îî‚îÄ‚îÄ third_party

</code></pre>
<p>I think everything is correct until here. If it is not true please correct me.</p>
<ul>
<li>Afterwards I tried <code>~/qnx700/host/linux/x86_64/usr/bin/make</code> command. I used make command of QNX in here.I thought it was correct this way for cross compilation.</li>
</ul>
<p><strong>compile output is:</strong></p>
<pre><code>
    arge@arge:~/dev/grpc/cmake/build$ ~/qnx700/host/linux/x86_64/usr/bin/make
    Scanning dependencies of target zlibstatic
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/adler32.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/compress.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/crc32.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/deflate.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/gzclose.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/gzlib.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/gzread.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/gzwrite.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/inflate.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/infback.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/inftrees.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/inffast.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/trees.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/uncompr.o
    [  0%] Building C object third_party/zlib/CMakeFiles/zlibstatic.dir/zutil.o
    [  1%] Linking C static library libz.a
    [  1%] Built target zlibstatic
    Scanning dependencies of target libprotobuf
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/any_lite.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
        5.4.0,gcc_ntox86_64_cxx 
        5.4.0,gcc_ntoarmv7le_cxx    
        5.4.0,gcc_ntoaarch64le_cxx  
        5.4.0,gcc_ntox86    (default)
        5.4.0,gcc_ntox86_64 
        5.4.0,gcc_ntox86_64_gpp 
        5.4.0,gcc_ntoarmv7le    
        5.4.0,gcc_ntoaarch64le_gpp  
        5.4.0,gcc_ntoarmv7le_gpp    
        5.4.0,gcc_ntox86_gpp    
        5.4.0,gcc_ntoaarch64le  
        5.4.0,gcc_ntox86_cxx    
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/arena.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
        .
        .
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/arenastring.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
        .
        .    
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/arenaz_sampler.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
        .
        .   
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/extension_set.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
        .
        .    
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/generated_enum_util.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
        .
        .   
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/generated_message_tctable_lite.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/generated_message_util.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/implicit_weak_message.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/inlined_string_field.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/coded_stream.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/io_win32.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/strtod.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  1%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/zero_copy_stream.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/zero_copy_stream_impl.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/zero_copy_stream_impl_lite.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/map.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/message_lite.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/parse_context.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/repeated_field.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/repeated_ptr_field.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/bytestream.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/common.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/int128.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/status.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/statusor.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/stringpiece.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/stringprintf.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/structurally_valid.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/strutil.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/time.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/wire_format_lite.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/any.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/any.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/api.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/compiler/importer.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/compiler/parser.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/descriptor.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  2%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/descriptor.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/descriptor_database.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/duration.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/dynamic_message.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/empty.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/extension_set_heavy.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/field_mask.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/generated_message_bases.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/generated_message_reflection.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/generated_message_tctable_full.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/gzip_stream.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/printer.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/io/tokenizer.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/map_field.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/message.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/reflection_ops.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/service.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/source_context.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/struct.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/stubs/substitute.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/text_format.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/timestamp.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/type.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/unknown_field_set.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  3%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/delimited_message_util.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/field_comparator.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/field_mask_util.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/datapiece.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/default_value_objectwriter.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/error_listener.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/field_mask_utility.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/json_escaping.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/json_objectwriter.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/json_stream_parser.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/object_writer.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/proto_writer.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/protostream_objectsource.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/protostream_objectwriter.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/type_info.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/internal/utility.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/json_util.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .   
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/message_differencer.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/time_util.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .  
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/util/type_resolver_util.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/wire_format.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
    .
    .    
    [  4%] Building CXX object third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/wrappers.pb.cc.o
    cc: targets available in /home/arge/qnx700/host/linux/x86_64/etc/qcc/:
        5.4.0,gcc_ntox86_64_cxx 
        5.4.0,gcc_ntoarmv7le_cxx    
        5.4.0,gcc_ntoaarch64le_cxx  
        5.4.0,gcc_ntox86    (default)
        5.4.0,gcc_ntox86_64 
        5.4.0,gcc_ntox86_64_gpp 
        5.4.0,gcc_ntoarmv7le    
        5.4.0,gcc_ntoaarch64le_gpp  
        5.4.0,gcc_ntoarmv7le_gpp    
        5.4.0,gcc_ntox86_gpp    
        5.4.0,gcc_ntoaarch64le  
        5.4.0,gcc_ntox86_cxx    
    [  4%] Linking CXX static library libprotobuf.a
    /home/arge/qnx700/host/linux/x86_64/usr/bin/ntoaarch64-ar: CMakeFiles/libprotobuf.dir/__/src/google/protobuf/any_lite.cc.o: No such file or directory
    third_party/protobuf/CMakeFiles/libprotobuf.dir/build.make:1329: recipe for target 'third_party/protobuf/libprotobuf.a' failed
    make[2]: *** [third_party/protobuf/libprotobuf.a] Error 1
    CMakeFiles/Makefile2:5440: recipe for target 'third_party/protobuf/CMakeFiles/libprotobuf.dir/all' failed
    make[1]: *** [third_party/protobuf/CMakeFiles/libprotobuf.dir/all] Error 2
    Makefile:151: recipe for target 'all' failed
    make: *** [all] Error 2

</code></pre>
<p>In the begin of compile, <code>any_lite.cc.o</code> file look like occur in <code>third_party/protobuf/CMakeFiles/libprotobuf.dir/__/src/google/protobuf/</code> folder. You can see in compile output. I guess <code>any_lite.cc.o</code> file really occur but the file can not find by the other files or paths.</p>
<p>I can not beyond this error. How can I fix this issue?</p>
<blockquote>
<p>NOTE:</p>
<pre><code>.
.
</code></pre>
<p>represent is :</p>
<pre><code>   5.4.0,gcc_ntox86_64_cxx 
   5.4.0,gcc_ntoarmv7le_cxx    
   5.4.0,gcc_ntoaarch64le_cxx  
   5.4.0,gcc_ntox86    (default)
   5.4.0,gcc_ntox86_64 
   5.4.0,gcc_ntox86_64_gpp 
   5.4.0,gcc_ntoarmv7le    
   5.4.0,gcc_ntoaarch64le_gpp  
   5.4.0,gcc_ntoarmv7le_gpp    
   5.4.0,gcc_ntox86_gpp    
   5.4.0,gcc_ntoaarch64le  
   5.4.0,gcc_ntox86_cxx 
</code></pre>
<p>compile output stucked on the body limited.</p>
</blockquote>
",
78580599,gRPC cmake aarch64 cross compile test for QNX SDP 7.0,https://stackoverflow.com/questions/78580599/grpc-cmake-aarch64-cross-compile-test-for-qnx-sdp-7-0,0,1717586100,"cmake, grpc, qnx","<p>I try cross-compile gRPC C++ for QNX SDP 7.0. I downloaded gRPC repo v1.52.2.</p>
<p>Firstly I ran <code>source ~/qnx700/qnxsdp-env.sh</code> and I ran <code>run_distrib_test_cmake_aarch64_cross.sh</code> for test my compile environment.</p>
<p>I added some new lines for see whether if set <code>QNX_TARGET</code> and <code>QNX_HOST</code>. Because it seems like <code>$ENV{QNX_HOST}</code> and <code>$ENV{QNX_TARGET}</code> didn't work. <strong>run_distrib_test_cmake_aarch64_cross.sh</strong> file here:</p>
<pre><code>#!/bin/bash
# Copyright 2017 gRPC authors.
#
# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

set -ex

cd &quot;$(dirname &quot;$0&quot;)/../../..&quot;

# Install openssl (to use instead of boringssl)
apt-get update &amp;&amp; apt-get install -y libssl-dev

# Install CMake 3.16
apt-get update &amp;&amp; apt-get install -y wget
wget -q -O cmake-linux.sh https://github.com/Kitware/CMake/releases/download/v3.16.1/cmake-3.16.1-Linux-x86_64.sh
sh cmake-linux.sh -- --skip-license --prefix=/usr
rm cmake-linux.sh

# Use externally provided env to determine build parallelism, otherwise use default.
GRPC_CPP_DISTRIBTEST_BUILD_COMPILER_JOBS=${GRPC_CPP_DISTRIBTEST_BUILD_COMPILER_JOBS:-4}

# Build and install gRPC for the host architecture.
# We do this because we need to be able to run protoc and grpc_cpp_plugin
# while cross-compiling.
mkdir -p &quot;cmake/build&quot;
pushd &quot;cmake/build&quot;
cmake \
  -DCMAKE_BUILD_TYPE=Release \
  -DgRPC_INSTALL=ON \
  -DgRPC_BUILD_TESTS=OFF \
  -DgRPC_SSL_PROVIDER=package \
  ../..
make &quot;-j${GRPC_CPP_DISTRIBTEST_BUILD_COMPILER_JOBS}&quot; install
popd

# Write a toolchain file to use for cross-compiling.
#cat &gt; /tmp/toolchain.cmake &lt;&lt;'EOT'
#SET(CMAKE_SYSTEM_NAME QNX)
#SET(CMAKE_SYSTEM_PROCESSOR aarch64)
#set(CMAKE_STAGING_PREFIX /tmp/stage)
#set(CMAKE_C_COMPILER /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc)
#set(CMAKE_CXX_COMPILER /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc)
#set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
#set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
#set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
#set(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)
#EOT

cat &gt; /tmp/toolchain.cmake &lt;&lt;'EOT'
include(CMakeForceCompiler)

set(CMAKE_SYSTEM_NAME QNX)

set(CMAKE_C_COMPILER &quot;/home/arge/qnx700/host/linux/x86_64/usr/bin/qcc&quot;)
set(CMAKE_CXX_COMPILER &quot;/home/arge/qnx700/host/linux/x86_64/usr/bin/QCC&quot;)

message(STATUS &quot;TEST CMAKE_C_COMPILER: ${CMAKE_C_COMPILER}&quot;)
message(STATUS &quot;TEST CMAKE_CXX_COMPILER: ${CMAKE_CXX_COMPILER}&quot;)

set(QNX_TARGET &quot;/home/arge/qnx700/target/qnx7&quot;)
set(QNX_HOST &quot;/home/arge/qnx700/host/linux/x86_64&quot;)

# Setting QNX compiler flags
#set(QNX_FLAGS &quot;-Vgcc_ntoarmv7le&quot;)
set(QNX_FLAGS &quot;-Vgcc_ntoaarch64le&quot;)
set(QNX_FLAGS &quot;${QNX_FLAGS} -lang-c++&quot;)
set(QNX_FLAGS &quot;${QNX_FLAGS} -Werror&quot;)
set(QNX_FLAGS &quot;${QNX_FLAGS} -Wc,-fPIC&quot;)
set(QNX_FLAGS &quot;${QNX_FLAGS} -Wc,-finline-functions&quot;)
set(QNX_FLAGS &quot;${QNX_FLAGS} -lm&quot;)
if(CMAKE_BUILD_TYPE STREQUAL &quot;Debug&quot;)
  set(QNX_FLAGS &quot;${QNX_FLAGS} -O0 -g&quot;)
elseif(CMAKE_BUILD_TYPE STREQUAL &quot;Release&quot;)
  set(QNX_FLAGS &quot;${QNX_FLAGS} -O2&quot;)
endif()

# As cmake C/CXX flags are set in this toolchain file (passed to cmake
# using -DCMAKE_TOOLCHAIN_FILE these cmake variables have to be cached.
set(CMAKE_C_FLAGS &quot;${QNX_FLAGS}&quot; CACHE STRING &quot;&quot;)
set(CMAKE_CXX_FLAGS &quot;${QNX_FLAGS}&quot; CACHE STRING &quot;&quot;)

# Detect the target architecture by checking the compiler flags
set(TARGET_ARCH &quot;x86&quot;)
if(${CMAKE_CXX_FLAGS} MATCHES &quot;ntoarmv7le&quot;)
  set(TARGET_ARCH &quot;armle-v7&quot;)
endif()

if(${CMAKE_CXX_FLAGS} MATCHES &quot;ntoaarch64le&quot;)
  set(TARGET_ARCH &quot;aarch64le&quot;)
endif()

# Set the target directories
set(CMAKE_FIND_ROOT_PATH &quot;${QNX_TARGET}/${TARGET_ARCH}&quot;)
message(STATUS &quot;CMAKE_FIND_ROOT_PATH: ${CMAKE_FIND_ROOT_PATH}&quot;)

message(STATUS &quot;TEST QNX_TARGET ${QNX_TARGET}&quot;)
message(STATUS &quot;TEST QNX_HOST ${QNX_HOST}&quot;)

# Search for programs in the build host directories.
set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
# Search for libraries and headers in the target directories.
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)

add_definitions(-DQNX=1)
EOT

# Build and install gRPC for ARM.
# This build will use the host architecture copies of protoc and
# grpc_cpp_plugin that we built earlier because we installed them
# to a location in our PATH (/usr/local/bin).
mkdir -p &quot;cmake/build_arm&quot;
pushd &quot;cmake/build_arm&quot;
cmake -DCMAKE_TOOLCHAIN_FILE=/tmp/toolchain.cmake \
      -DCMAKE_BUILD_TYPE=Release \
      -DCMAKE_INSTALL_PREFIX=/tmp/install \
      ../..
make &quot;-j${GRPC_CPP_DISTRIBTEST_BUILD_COMPILER_JOBS}&quot; install
popd

# Build helloworld example for ARM.
# As above, it will find and use protoc and grpc_cpp_plugin
# for the host architecture.
mkdir -p &quot;examples/cpp/helloworld/cmake/build_arm&quot;
pushd &quot;examples/cpp/helloworld/cmake/build_arm&quot;
cmake -DCMAKE_TOOLCHAIN_FILE=/tmp/toolchain.cmake \
      -DCMAKE_BUILD_TYPE=Release \
      -Dabsl_DIR=/tmp/stage/lib/cmake/absl \
      -DProtobuf_DIR=/tmp/stage/lib/cmake/protobuf \
      -DgRPC_DIR=/tmp/stage/lib/cmake/grpc \
      ../..
make &quot;-j${GRPC_CPP_DISTRIBTEST_BUILD_COMPILER_JOBS}&quot;
popd
</code></pre>
<p><strong>output is:</strong></p>
<pre><code>
.
.
.
-- Up-to-date: /usr/local/lib/libz.so
-- Up-to-date: /usr/local/lib/libz.a
-- Installing: /usr/local/include/zconf.h
-- Up-to-date: /usr/local/include/zlib.h
-- Up-to-date: /usr/local/share/man/man3/zlib.3
-- Installing: /usr/local/share/pkgconfig/zlib.pc
+ popd
/home/arge/dev/grpc
+ cat
+ mkdir -p cmake/build_arm
+ pushd cmake/build_arm
/home/arge/dev/grpc/cmake/build_arm /home/arge/dev/grpc
+ cmake -DCMAKE_TOOLCHAIN_FILE=/tmp/toolchain.cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/tmp/install ../..
-- TEST CMAKE_C_COMPILER: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc
-- TEST CMAKE_CXX_COMPILER: /home/arge/qnx700/host/linux/x86_64/usr/bin/QCC
-- CMAKE_FIND_ROOT_PATH: /home/arge/qnx700/target/qnx7/aarch64le
-- TEST QNX_TARGET /home/arge/qnx700/target/qnx7
-- TEST QNX_HOST /home/arge/qnx700/host/linux/x86_64
-- TEST CMAKE_C_COMPILER: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc
-- TEST CMAKE_CXX_COMPILER: /home/arge/qnx700/host/linux/x86_64/usr/bin/QCC
-- CMAKE_FIND_ROOT_PATH: /home/arge/qnx700/target/qnx7/aarch64le
-- TEST QNX_TARGET /home/arge/qnx700/target/qnx7
-- TEST QNX_HOST /home/arge/qnx700/host/linux/x86_64
-- The C compiler identification is unknown
-- The CXX compiler identification is unknown
-- Check for working C compiler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc
-- Check for working C compiler: /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc -- broken
CMake Error at /usr/share/cmake-3.16/Modules/CMakeTestCCompiler.cmake:60 (message):
  The C compiler

    &quot;/home/arge/qnx700/host/linux/x86_64/usr/bin/qcc&quot;

  is not able to compile a simple test program.

  It fails with the following output:

    Change Dir: /home/arge/dev/grpc/cmake/build_arm/CMakeFiles/CMakeTmp
    
    Run Build Command(s):/usr/bin/make cmTC_825e2/fast &amp;&amp; /usr/bin/make -f CMakeFiles/cmTC_825e2.dir/build.make CMakeFiles/cmTC_825e2.dir/build
    make[1]: Entering directory '/home/arge/dev/grpc/cmake/build_arm/CMakeFiles/CMakeTmp'
    Building C object CMakeFiles/cmTC_825e2.dir/testCCompiler.c.o
    /home/arge/qnx700/host/linux/x86_64/usr/bin/qcc -DQNX=1  -Vgcc_ntoaarch64le -lang-c++ -Werror -Wc,-fPIC -Wc,-finline-functions -lm -O2    -o CMakeFiles/cmTC_825e2.dir/testCCompiler.c.o   -c /home/arge/dev/grpc/cmake/build_arm/CMakeFiles/CMakeTmp/testCCompiler.c
    cc: The QNX_HOST/QNX_TARGET environment variables must be set
    make[1]: *** [CMakeFiles/cmTC_825e2.dir/build.make:66: CMakeFiles/cmTC_825e2.dir/testCCompiler.c.o] Error 1
    make[1]: Leaving directory '/home/arge/dev/grpc/cmake/build_arm/CMakeFiles/CMakeTmp'
    make: *** [Makefile:121: cmTC_825e2/fast] Error 2
    
    

  

  CMake will not be able to correctly generate this project.
Call Stack (most recent call first):
  CMakeLists.txt:38 (project)


-- Configuring incomplete, errors occurred!
See also &quot;/home/arge/dev/grpc/cmake/build_arm/CMakeFiles/CMakeOutput.log&quot;.
See also &quot;/home/arge/dev/grpc/cmake/build_arm/CMakeFiles/CMakeError.log&quot;.

</code></pre>
<p>I am stuck here. I couldn't understand clearly problem in here. What is the wrong? Could you please help about for this issue?</p>
",
78542197,What options may be turned on to debug the occasional crash whose stacktrace indicates there is an unexpected recursion?,https://stackoverflow.com/questions/78542197/what-options-may-be-turned-on-to-debug-the-occasional-crash-whose-stacktrace-ind,3,1716876569,"c++, c++11, debugging, crash, qnx","<p>The program crashes at a probability of 2/810 when <code>STR</code> (i.e. suspend to resume in <code>QNX</code> which contributes the low cost for the embeded devices) is triggered.</p>
<p>Here is the stacktrace:</p>
<pre><code>#0  0x00000055f55b5afc in ?? ()
#1  0x0000004b6a42a9b8 in qnx_slog2::log_output (level=2, str=..., this=&lt;optimized out&gt;) at /mnt/nfs/qnx710/target/qnx7/usr/include/c++/v1/string:1520
#2  qnx_slog2::log_output (str=..., level=2, this=&lt;optimized out&gt;) at /home/jhone/qnx_slog2.hpp:103
#3  OMSResultSender::&lt;lambda()&gt;::operator()(void) const (__closure=&lt;optimized out&gt;) at /home/jhone/oms_result_sender.cpp:135
#4  0x0000004b6a42a9b8 in qnx_slog2::log_output (level=2, str=..., this=&lt;optimized out&gt;) at /mnt/nfs/qnx710/target/qnx7/usr/include/c++/v1/string:1520
#5  qnx_slog2::log_output (str=..., level=2, this=&lt;optimized out&gt;) at /home/jhone/qnx_slog2.hpp:103
#6  OMSResultSender::&lt;lambda()&gt;::operator()(void) const (__closure=&lt;optimized out&gt;) at /home/jhone/oms_result_sender.cpp:135
#7  0x0000000000000000 in ?? ()
Backtrace stopped: previous frame identical to this frame (corrupt stack?)
</code></pre>
<p>There is no recursion in the source project indeed. The stacktrace is very odd.</p>
<p>Here are the options that the program is compiled with:</p>
<pre><code>-g -Wno-error=deprecated-declarations -Wno-deprecated-declarations -O3 -DNDEBUG -std=gnu++14
</code></pre>
<p>For more detail, say related code snippet, see <a href=""https://stackoverflow.com/questions/78463273/a-confusing-backtrace-indicates-there-is-a-recursive-invoking-which-is-not-as-ex"">this question</a>.</p>
<p>I will try to use the <code>-g -O0 -DDEBUG</code> to recompile the program to find out where goes wrong.</p>
<p>I searched and found that these options may help</p>
<pre><code>-fstack-protector-all
-fsanitize=address
-fsanitize=undefined
</code></pre>
<p>But it's a pity <code>-fsanitize=address</code> and <code>-fsanitize=undefined</code> are not supported by the compiler, here is what the compiler complains.</p>
<pre><code># aarch64-unknown-nto-qnx7.1.0-g++ -fsanitize=address demo.cpp  
aarch64-unknown-nto-qnx7.1.0-ld: cannot find -lasan
collect2: error: ld returned 1 exit status
</code></pre>
<p>Are there any options that I should turn on to better debug the said crash?</p>
<p><em><strong>Updated:</strong></em>
It is unfortunate that the program frequently crashes when the options <code>-fstack-protector-all -fsanitize=address -fsanitize=undefined</code> are enabled, which is unexpected.</p>
",
78463273,A confusing backtrace indicates there is a recursive invoking which is not as expected,https://stackoverflow.com/questions/78463273/a-confusing-backtrace-indicates-there-is-a-recursive-invoking-which-is-not-as-ex,1,1715397675,"c++, c++11, segmentation-fault, crash, qnx","<p>My program experiences crashes very rarely, occurring occasionally only when the <code>STR</code> is triggered(<code>STR</code> is to suspend the program and resume the program in <code>QNX</code> OS). The following backtrace is confusing as it indicates that <code>qnx_slog2::log_output()</code> is calling itself, which is not possible since the corresponding code is not a recursive function.</p>
<p>The backtrace below really confuses me.</p>
<ol>
<li>The backtrace tells that <code>qnx_slog2::log_output()</code> calls itself which is not possilbe since the the corresponding code is not a recursion function.</li>
<li>The address of <code>this</code> is 0x2 when <code>qnx_slog2::log_output</code> is called the second time, which is not a valid address for the instance.</li>
</ol>
<pre><code>(gdb) bt
#0 0x0000003ae09b5cc0 in ?? ()
#1 0x0000001b5319cf64 in qnx_slog2::log_output (this=0x2, level=1Ôºå fmt=0x3ae09c9138 Ôºålevel=1)
   at /home/jhone/qnx_slog2.hpp:137
#2 0x0000001b5319cf64 in qnx_slog2::log_output (this=0x1b531e9048 &lt;gnx slog2::get log()::slog2instance&gt;, level=1, 
   fmt=0x2ec2c7fbd0 &quot;[st_slog2] 0MS-E oms_result_sender.cpp:174 operator()() soa ges dynamic rect width:0, height:0, x:0Ôºåy&quot;, level=1) 
   at /home/jhone/qnx_slog2.hpp:137
#3 0x0000003aed61fcc in malloc_lock.constprop.4 ()
   from //home/jhone/publish/lib/libc.so.5
#4 0x6c757365725f736d in ??()
Backtrace stopped: previous frame identical to this frame (corrupt stack?)
</code></pre>
<p>Here is the code qnx_slog2.hpp:line 128 to 149</p>
<pre class=""lang-cpp prettyprint-override""><code>void log_output(short level, const char* fmt, ...) {
    if (true == log_block(level)) {
        return;
    }
    std::unique_lock&lt;std::mutex&gt; lock(lock_);
    va_list args;
    va_start(args, fmt);
    switch (log_type_) {
        case LOG_TYPE_QNX:
            if ((fmt != nullptr) &amp;&amp; (match_level(level) &gt; 0) &amp;&amp; (*fmt != '\0')) {   //line 137
                vslog2f(nullptr, log_id_, match_level(level), fmt, args);
            }
            break;
        case LOG_TYPE_PRINTF: {
            memset(print_buffer_, 0, sizeof(print_buffer_));
            vsnprintf(print_buffer_, sizeof(print_buffer_), fmt, args);
            log_print(level);
            break;
        }
    }
    va_end(args);
}
</code></pre>
<p>As per the <a href=""https://www.qnx.com/developers/docs/8.0/com.qnx.doc.neutrino.lib_ref/topic/v/vslog2f.html"" rel=""nofollow noreferrer"">offical document</a>, the <code>vslog2f</code> is thread safe.</p>
<p>Thanks to @Retired Ninja's tip.
The <code>slog2_set_default_buffer</code> is called first when initialising the instance. Here is the corresponding code snippet:</p>
<pre><code>class qnx_slog2 {
  private:
    short log_type_ = LOG_TYPE_QNX;
    short log_level_ = LOG_DEBUG;
    int log_page_num_ = 4;
    int log_id_ = 116;
    std::mutex lock_;
    char print_buffer_[1024] = {0};
    slog2_buffer_t buf = {0};
  public:
    bool init() {
        if (log_type_ != LOG_TYPE_QNX) {
            return true;
        }
        std::unique_lock&lt;std::mutex&gt; lock(lock_);
        slog2_buffer_set_config_t config{};
        config.buffer_set_name = __progname;
        config.num_buffers = 1;                
        config.verbosity_level = SLOG2_DEBUG1; 
        config.buffer_config[0].buffer_name = LOG_TAG;
        config.buffer_config[0].num_pages =
            log_page_num_;  // one page 4KB
        if (0 == slog2_register(&amp;config, &amp;buf, SLOG2_DISCARD_NEWLINE)) {
            slog2_set_default_buffer(buf);
            return true;
        }
        return false;
    }
    //omit not important code
}
</code></pre>
<p><em>Reply to the potential problem that the format specifier doesn't match the type of the argument.</em></p>
<p>It's not possible because all the log messages are generated by the <a href=""https://github.com/fmtlib/fmt"" rel=""nofollow noreferrer""><code>fmt</code> library</a> which is widely used by <code>spdlog</code> and etc. In other word, as the backtrace indicates <em><strong>the input arguments for <code>qnx_slog2::log_output</code> are always: <code>short level</code> and followed by a <code>const char*</code>, and no more indeed.</strong></em> A simple code snippet below to make it easy to understand.</p>
<pre><code>std::string log_msg = fmt::format(&quot; soa ges dynamic rect width:{}, height:{}, x:{}Ôºåy:{}&quot;, width, height, loc_x, loc_y);
qnx_slog2::get_instance().log_output(log_level, log_msg.c_str());
</code></pre>
<p>Could somebody shed some light on how to solve this problem step by step? I really don't know what to do first.</p>
<p><em><strong>Update the implementation</strong></em><br />
Thanks to all of you.</p>
<p>The project used <code>spdlog</code> first, and we are required to use <code>slog2</code> which is provided by the <code>QNX</code> itself instead later. So all the log format use <code>{}</code> other than <code>%d</code>Ôºå<code>%s</code> alike.There is a lot work to do the replacement one by one.</p>
<p>So that's why we still use <code>fmt</code> as the format tool, and then pass the formated string to the metod of <code>qnx_slog2::log_output</code>.</p>
<p>I agree with <code>Red.Wave</code>, <code>slogc</code> is the better chioce for this condition. I modify the implementation of <code>qnx_slog2::log_output</code> and the macros who calls it as below.</p>
<p><strong>NOTE</strong>: <em>Since the offical document says that <a href=""https://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.lib_ref/topic/s/slog2c.html"" rel=""nofollow noreferrer"">the <code>slogc</code> is thread-safe</a>, so I don't use <code>std::mutex</code> in the implementation anymore.</em></p>
<pre><code>    void qnx_slog2::log_output(short level, const std::string&amp; str) {
        if (true == log_block(level)) {
            return;
        }

        if (str.empty()) {
            return;
        }

        slog2c(nullptr, log_id_, match_level(level), str.c_str());
    }

    void qnx_slog2::log_output(short level, const char* ptr) {
        if (true == log_block(level)) {
            return;
        }

        slog2c(nullptr, log_id_, match_level(level), ptr);
    }

#define LOG_COMMON(log_level, log_level_str, fmt_log, ...)                                         \
    do {                                                                                           \
        try {                                                                                      \
            auto fmt_str = fmt::format(&quot;[&quot; LOG_TAG &quot;] [&quot; log_level_str &quot;] {}:{} {}() &quot; fmt_log,    \
                                       __BASEFILE__, __LINE__, __func__, ##__VA_ARGS__);           \
            qnx_slog2::get_log().log_output(log_level, fmt_str);                                   \
        } catch (std::exception &amp; e) {                                                             \
            char internal_print_buffer[MAX_SIZE];                                                  \
            int len = snprintf(internal_print_buffer, MAX_SIZE,                                    \
                               &quot;[\&quot; LOG_TAG \&quot;] [CRITICAL] %s:%d %s() format error&quot;, __BASEFILE__,    \
                               __LINE__, __func__);                                                \
            qnx_slog2::get_log().log_output(log_level, internal_print_buffer);                     \
        }                                                                                          \
    } while (0);

#define SERVICE_CRITICAL(fmt_log, ...) LOG_COMMON(LOG_CRITICAL, &quot;SERVICE-C&quot;, fmt_log, ##__VA_ARGS__)
#define SERVICE_ERROR(fmt_log, ...) LOG_COMMON(LOG_ERROR, &quot;SERVICE-E&quot;, fmt_log, ##__VA_ARGS__)
#define SERVICE_WARN(fmt_log, ...) LOG_COMMON(LOG_WARN, &quot;SERVICE-W&quot;, fmt_log, ##__VA_ARGS__)
#define SERVICE_DEBUG(fmt_log, ...) LOG_COMMON(LOG_DEBUG, &quot;SERVICE-D&quot;, fmt_log, ##__VA_ARGS__)
#define SERVICE_INFO(fmt_log, ...) LOG_COMMON(LOG_INFO, &quot;SERVICE-I&quot;, fmt_log, ##__VA_ARGS__)
#define SERVICE_TRACE(fmt_log, ...) LOG_COMMON(LOG_INFO, &quot;SERVICE-T&quot;, fmt_log, ##__VA_ARGS__)

#define ALG_CRITICAL(fmt_log, ...) LOG_COMMON(LOG_CRITICAL, &quot;ALG-C&quot;, fmt_log, ##__VA_ARGS__)
#define ALG_ERROR(fmt_log, ...) LOG_COMMON(LOG_ERROR, &quot;ALG-E&quot;, fmt_log, ##__VA_ARGS__)
#define ALG_WARN(fmt_log, ...) LOG_COMMON(LOG_WARN, &quot;ALG-W&quot;, fmt_log, ##__VA_ARGS__)
#define ALG_DEBUG(fmt_log, ...) LOG_COMMON(LOG_DEBUG, &quot;ALG-D&quot;, fmt_log, ##__VA_ARGS__)
#define ALG_INFO(fmt_log, ...) LOG_COMMON(LOG_INFO, &quot;ALG-I&quot;, fmt_log, ##__VA_ARGS__)
#define ALG_TRACE(fmt_log, ...) LOG_COMMON(LOG_INFO, &quot;ALG-T&quot;, fmt_log, ##__VA_ARGS__)

//omit simliar macros
</code></pre>
<p><em><strong>For the newly modified implementation(seen above),the program crashes at a much lower probability(about 1/(33√ó18) while it's about 1(2√ó20) before) when the STR is triggered.</strong></em> But the backtrace still looks odd, too.</p>
<pre><code>#0  0x00000055f55b5afc in ?? ()
#1  0x0000004b6a42a9b8 in qnx_slog2::log_output (level=2, str=..., this=&lt;optimized out&gt;) at /mnt/nfs/qnx710/target/qnx7/usr/include/c++/v1/string:1520
#2  qnx_slog2::log_output (str=..., level=2, this=&lt;optimized out&gt;) at /home/jhone/qnx_slog2.hpp:103
#3  OMSResultSender::&lt;lambda()&gt;::operator()(void) const (__closure=&lt;optimized out&gt;) at /home/jhone/oms_result_sender.cpp:135
#4  0x0000004b6a42a9b8 in qnx_slog2::log_output (level=2, str=..., this=&lt;optimized out&gt;) at /mnt/nfs/qnx710/target/qnx7/usr/include/c++/v1/string:1520
#5  qnx_slog2::log_output (str=..., level=2, this=&lt;optimized out&gt;) at /home/jhone/qnx_slog2.hpp:103
#6  OMSResultSender::&lt;lambda()&gt;::operator()(void) const (__closure=&lt;optimized out&gt;) at /home/jhone/oms_result_sender.cpp:135
#7  0x0000000000000000 in ?? ()
Backtrace stopped: previous frame identical to this frame (corrupt stack?)
</code></pre>
<p><strong>Tips</strong>:</p>
<p><em><strong>1</strong></em>.the program is built with <code> -g -O3 -DNDEBUG   -std=gnu++14</code>. Why there is both <code>-g</code> and <code>-O3</code>? Since it's a release version and the <code>-g</code> option is added all the time no matter what the version is.</p>
<p><em><strong>2</strong></em>. the backtrace looks like three functions have been repeated called twice(<code>OMSResultSender::&lt;lambda()&gt;::operator()(void)</code>, <code>qnx_slog2::log_output</code> and then <code>qnx_slog2::log_output</code> again, repeat the said functions again).</p>
",
78039410,verify if binary is compiled using gnx gcc or qnx qcc,https://stackoverflow.com/questions/78039410/verify-if-binary-is-compiled-using-gnx-gcc-or-qnx-qcc,0,1708590743,"gcc, bazel, toolchain, qnx, qcc","<p>I have written a toolchain for qnx gcc and qnx qcc.
I have compiled a sample program using toolchain</p>
<pre><code>
String dump of section '.comment':
  [     0]  GCC: (GNU) 8.3.0 20190222 (lookup) [qnx710 1535#57]
</code></pre>
<p>I only see GCC in .comment section when I run above command for both gcc and qcc.
Is this correct ?</p>
<p>Appreciate help?</p>
<p>I would like to verify if this is correct?</p>
",
68479294,What POSIX strings are valid timezone values on a QNX system?,https://stackoverflow.com/questions/68479294/what-posix-strings-are-valid-timezone-values-on-a-qnx-system,0,1626928984,qnx,"<p>I have QNX system which accepts timezone in POSIX timezone string format (Ex: CET-1CEST,M3.5.0/2,M10.5.0/3). Is there any website/list where I can get the POSIX timezone string for all the times zones around the world</p>
",
78391604,QNX 7.1 Conflicting declarations due to #include_next,https://stackoverflow.com/questions/78391604/qnx-7-1-conflicting-declarations-due-to-include-next,0,1714146224,"c++, include, declaration, conflict, qnx","<p>I'm struggeling to get a QNX-Target (applies to both x86_64 and aarch64) compiled due to conflicting declarations in combination with <strong>#include_next</strong> statements. It is related to stdlib.h and cstdlib somehow. The QNX-Code reveals a bunch of compiler switches that control the inclusions but I cannot figure out what to set or unset. To get you in the picture here is an extract of the build log:</p>
<pre><code>[ 60%] Building CXX object mcdtestenv/CMakeFiles/mcgateway_app.dir/__/mcgateway/common/xcp_adaptive_service_params.cpp.o
In file included from /home/developer/qnx710/target/qnx7/usr/include/c++/8.3.0/cstdlib:77,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/qnx710/target/qnx7/usr/include/c++/8.3.0/bits/stl_algo.h:59,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/qnx710/target/qnx7/usr/include/c++/8.3.0/algorithm:62,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/vrte/project/mcgateway/mcgateway/common/common_std_inc.hpp:52,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/vrte/project/mcgateway/mcgateway/common/common_inc.hpp:50,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/vrte/project/mcgateway/mcgateway/common/xcp_adaptive_service_params.cpp:48:
/home/developer/qnx710/target/qnx7/usr/include/c++/8.3.0/bits/std_abs.h:56:15: error: 'long int std::abs(long int)' conflicts with a previous declaration
 ¬† abs(long __i) { return __builtin_labs(__i); }
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† ^
In file included from /home/developer/qnx710/target/qnx7/usr/include/c++/8.3.0/cstdlib:75,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/qnx710/target/qnx7/usr/include/c++/8.3.0/bits/stl_algo.h:59,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/qnx710/target/qnx7/usr/include/c++/8.3.0/algorithm:62,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/vrte/project/mcgateway/mcgateway/common/common_std_inc.hpp:52,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/vrte/project/mcgateway/mcgateway/common/common_inc.hpp:50,
 ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† from /home/developer/vrte/project/mcgateway/mcgateway/common/xcp_adaptive_service_params.cpp:48:
/home/developer/qnx710/target/qnx7/usr/include/c++/v1/stdlib.h:111:44: note: previous declaration 'long int abs(long int)'
inline _LIBCPP_INLINE_VISIBILITY long¬†¬†¬†¬†¬† abs(long __x) _NOEXCEPT {return¬† labs(__x);}
</code></pre>
<p>I investigated on that <strong>#include_next</strong> feature introduced by GCC. I understand it, I guess but it does not help solving my issue.</p>
<p>Has someone of you guys had this issue, too or similar? I posted this issue into the QNX Foundary27 forum as well, but haven't got any feedback so far.</p>
<p>Any hint is appreciated! Thanx!</p>
<p>Cheers,
Umberto</p>
",
24295876,CMake cannot find GoogleTest required library in Ubuntu,https://stackoverflow.com/questions/24295876/cmake-cannot-find-googletest-required-library-in-ubuntu,42,1403129747,"c++, ubuntu, cmake, googletest, qnx","<p>Similar issue <a href=""https://stackoverflow.com/questions/17469843/cmake-cannot-find-a-required-library?newreg=32ea5311077040eda121a40fe91d8fbf"">here</a>.</p>

<p>This is my CMakeLists.txt:</p>

<pre><code>cmake_minimum_required(VERSION 2.6)

# Locate GTest
find_package(GTest REQUIRED)
include_directories(${GTEST_INCLUDE_DIRS})

# Add test cpp file
add_executable(foo foo.cpp)

# Link test executable against gtest &amp; gtest_main
target_link_libraries(foo ${GTEST_LIBRARIES} ${GTEST_MAIN_LIBRARIES} pthread)
</code></pre>

<p>And my foo.cpp:</p>

<pre><code>#include &lt;gtest/gtest.h&gt;

TEST(sample_test_case, sample_test)
{
    EXPECT_EQ(1, 1);
}

int main(int argc, char **argv)
{
    testing::InitGoogleTest(&amp;argc, argv);
    return RUN_ALL_TESTS();
}
</code></pre>

<p>Now, all works fine when using the g++ compiler. However, when attempting to use QNX's compiler, ntox86-c++, I run into this problem:</p>

<blockquote>
  <p>CMake Error at /usr/share/cmake-2.8/Modules/FindPackageHandleStandardArgs.cmake:97 (MESSAGE):
  Could NOT find GTest (missing: GTEST_LIBRARY GTEST_INCLUDE_DIR
  GTEST_MAIN_LIBRARY) </p>
</blockquote>

<p>I am on Ubuntu using the ntox86-c++ compiler, googletest, and cmake-gui.</p>

<p>What gives?</p>
",
78288069,how to check whether a QNX system is running in ticking or tickless mode?,https://stackoverflow.com/questions/78288069/how-to-check-whether-a-qnx-system-is-running-in-ticking-or-tickless-mode,0,1712498382,"qnx, bsp","<p>how to check whether a QNX system is running in ticking or tickless mode?</p>
<p>I have a board with QNX 7.1 and I want to understand how the system was configured - tickless or ticking. It is advisable to understand this at runtime. If this is not possible, what settings should I look for in the sources?</p>
",
78238759,Linux to QNX USB driver convert,https://stackoverflow.com/questions/78238759/linux-to-qnx-usb-driver-convert,0,1711634739,"linux, usb, linux-device-driver, libusb, qnx","<p>I've just started using QNX. I'm trying to write a USB3 vision driver under QNX by adapting a code found on GitHub:
<a href=""https://github.com/ni/usb3vision/tree/master"" rel=""nofollow noreferrer"">https://github.com/ni/usb3vision/tree/master</a></p>
<p>and I wanted to know how to replace the <code>usb_bulk_msg()</code> function by the functions of the QNX libusbdi but I can't figure out how to do it.</p>
<p>Most of the functions are identical, but I can't figure out how to replace <code>usb_bulk_msg()</code>.</p>
",
78160253,Unable to load library from custom paths during compilation,https://stackoverflow.com/questions/78160253/unable-to-load-library-from-custom-paths-during-compilation,0,1710416705,"gcc, compilation, linker, dynamic-linking, qnx","<p>I am working on cross compiling my code base for <code>QNX aarch64</code> architecture on x86_64 host.</p>
<p>The gcc version i am using is 12.2 where it expects minimum glib version as <code>2.25</code> as per error :-</p>
<pre><code>lib/gcc/aarch64-unknown-nto-qnx8.0.0/12.2.0/cc1:  /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.25' not found (required by lib/gcc/aarch64-unknown-nto-qnx8.0.0/12.2.0/cc1)
</code></pre>
<p><code>/lib/x86_64-linux-gnu/libc.so.6</code> =&gt; is basically with version <code>2.23</code></p>
<p>So i have to workaround this by loading glibc (libc.so) and other libraries from my custom path where i have required version of <code>libc.so.6</code> with version <code>2.36</code>. I found <a href=""https://stackoverflow.com/a/47115598/21578724"">this</a> answer useful and try to load the libraries accordingly and here is my compilation command :-</p>
<pre><code>/home/unix-build/lib64/ld-linux-x86-64.so.2 --library-path /home/unix-build/lib64 /home/usr/bin/qcc -V12.2.0,gcc_ntoaarch64le -fdata-sections -ffunction-sections -DSTD_NOWINSOCK2 -DRELEASE -DNDEBUG  -o threadsMessageDefs.o -c /llvm/repo/../../utilities/threads/threadsMessageDefs.c 
</code></pre>
<p><code>/home/unix-build/lib64</code> =&gt; contains all required libraries that satisfices including libc.so.6 (<code>2.36</code> version).</p>
<p>Some reason libraries are not getting loading from <code>/home/unix-build/lib64</code>. I still face the same issue where <code>lib/gcc/aarch64-unknown-nto-qnx8.0.0/12.2.0/cc1</code> is referring to  system path <code>/lib/x86_64-linux-gnu/libc.so.6</code></p>
<p>Do i need to follow different approach for QNX?
Am i missing something? Please advice.</p>
",
71452548,QNX SDP 7.1.0 (QCC 8.3.0) -&#39;ioctl_socket&#39; was not declared in this scope,https://stackoverflow.com/questions/71452548/qnx-sdp-7-1-0-qcc-8-3-0-ioctl-socket-was-not-declared-in-this-scope,1,1647113531,"c++, qnx","<p>We have a module which makes use of <code>ioctl_socket()</code> function, I have included <code>#include &lt;sys/ioctl.h&gt;</code> in the <code>.cpp</code> but still throws the below error :</p>
<pre><code>'ioctl_socket' was not declared in this scope
             if (ioctl_socket( sockFd, SIOCSETVLAN, &amp;ifr) == -1)
                 ^~~~~~~~~~~~
</code></pre>
<p>Any suggestions on how to fix the compilation error? thanks in advance.</p>
",
77469971,C++ for QNX: delete corrupted file using remove(fileName) vs system(&quot;rm -rf fileName&quot;)?,https://stackoverflow.com/questions/77469971/c-for-qnx-delete-corrupted-file-using-removefilename-vs-systemrm-rf-file,0,1699810972,"file, qnx","<p>What is the difference in removing a file using the c function remove(fileName) or a system call with the &quot;rm -rf fileName&quot;) command?
If the remove(fileName) fails to remove a file (when the file is corrupted) - is the system(&quot;rm -rf fileName&quot;) kind of &quot;stronger&quot; and will remove the corrupted file, that remove() function failed to remove?</p>
",
77867115,Regex with posix regex.h faild to match,https://stackoverflow.com/questions/77867115/regex-with-posix-regex-h-faild-to-match,0,1706020952,"c++, regex, qnx","<p>I used the regex.h library on a qnx6.6 system.</p>
<p>Unfortunately, the compiler does not provide the C++  library and I have a problem with regex.h which I cannot explain.</p>
<p>Maybe someone can tell me why my regex does not match.</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;regex.h&gt;
#include &lt;string&gt;

int main() {
  regex_t parse_regex_;
  std::string match_pattern_ = &quot;^\\d*[1-9]\\d*&quot;;
  auto return_errno = regcomp(&amp;parse_regex_, match_pattern_.c_str(),
                              (REG_EXTENDED | REG_NOSUB));

  std::string test_string = &quot;000187149889&quot;;
  auto regex_pass = regexec(&amp;parse_regex_, test_string.c_str(), 0, nullptr, 0);

  if (regex_pass != 0) {
    char error_c_str_buffer[100];
    regerror(regex_pass, &amp;parse_regex_, error_c_str_buffer,
             sizeof(error_c_str_buffer));
    std::cerr &lt;&lt; &quot;regexec() :&quot; &lt;&lt; regex_pass
              &lt;&lt; &quot; regerror() :&quot; &lt;&lt; error_c_str_buffer &lt;&lt; std::endl;
  }
}
</code></pre>
<p>Output: <em>regexec() :1 regerror() :regexec() failed to match</em></p>
<p>My regex should recognize if the content of the test_string is only digits from 0 - 9 and at least one digit is 1-9.</p>
","<p><code>\d</code> is not supported by <code>&lt;regex.h&gt;</code>, use <code>[0-9]</code> instead</p>
<pre><code>std::string match_pattern_ = &quot;^[0-9]*[1-9][0-9]*$&quot;;
</code></pre>
<p><a href=""https://godbolt.org/z/abdW8KEcY"" rel=""nofollow noreferrer"">Demo</a></p>
"
77618622,Realtime OS: PREEMPT_RT Linux vs QNX and other,https://stackoverflow.com/questions/77618622/realtime-os-preempt-rt-linux-vs-qnx-and-other,1,1701938147,"linux, real-time, qnx, preempt-rt, hard-real-time","<p>I have a lot of questions on Linux with RT-patch vs native RT OS and applications. Please answer them because there's few information on RT applications, unfortunatelly..</p>
<p>Can you please explain does PREEMPT_RT makes Linux with user applications hard real-time system or it's soft/firm real-time system? (<a href=""https://stackoverflow.com/questions/17308956/differences-between-hard-real-time-soft-real-time-and-firm-real-time"">Differences between hard real-time, soft real-time, and firm real-time?</a>)</p>
<ol>
<li>If it's true (it's hard real-time system), what conditions should be met to conform these requirements? As far as I know (please correct me if I'm wrong), these conditions should be met to call linux system with PREEMPT_RT real-time:
<ul>
<li>All system drivers should be refactored to conform to realtime requirements.</li>
<li>User applications must run on different CPU core</li>
<li>User applications must be refactored to conform to to realtime requirements.</li>
</ul>
</li>
</ol>
<p>Is that true? And if these conditions are met, can this system called hard real-time? Does PREEMPT_RT also provides required drivers (ethernet etc.) that conform to real-time requirements or just users have to refactor them by themselves?</p>
<p>2.If it's hard real-time system, what pros and cons versus classic realtime systems like QNX? May be QNX has less interrupt reaction time or less jitter? Why nobody (as far as I know) uses PREEMPT_RT in critical applications like airplanes or space applications? May be because of some kind of inertion, or may be RT Linux is not suitable for these applications?</p>
<p>But, on other hand, Linux supports much more of CPU architectures than classic real-time operating systems. And it's much easier to find skilled developer for linux that for QNX.</p>
<p>Thank you.</p>
",
77542519,State pattern implementation in C++ run into segmentation fault,https://stackoverflow.com/questions/77542519/state-pattern-implementation-in-c-run-into-segmentation-fault,1,1700822620,"c++, state, qnx","<p>I'm implementing state patter in C++, generally all works fine and according to needs, but after state is changed multiple times i get segmentation fault, stack allocation is rising continuously until reach maximum value and then crash
hire is code:
Interface:</p>
<pre><code>class ControllerT1; // Forward declaration

class IControllerStateT1 {
public:
    virtual ~IControllerStateT1() {}
    virtual void handle(ControllerT1* controller) = 0;
};



class ControllerT1 {
    public:
        ControllerT1(std::vector&lt;int&gt; &amp;input, std::vector&lt;int&gt; &amp;output);
        ~ControllerT1();

        void stop();
        void initialize();
        void run();

        void setState(IControllerStateT1* newState);

    private:
        IControllerStateT1* currentState;
};


#include &quot;ControllerT1.h&quot;
#include &quot;StopT1.h&quot;

ControllerT1::ControllerT1(std::vector&lt;int&gt; &amp;input, std::vector&lt;int&gt; &amp;output) : currentState(new StopT1()) {
//  ControllerInputs = input;
//  ControllerOutputs = output;
}

ControllerT1::~ControllerT1() {
    delete currentState;
}

void ControllerT1::run() {
    currentState-&gt;handle(this);
}

void ControllerT1::stop() {
    currentState-&gt;handle(this);
}

void ControllerT1::initialize() {
    //std::cout &lt;&lt; &quot;Reading Confihuration files&quot; &lt;&lt; std::endl;
    currentState-&gt;handle(this);
}

void ControllerT1::setState(IControllerStateT1* newState) {
    delete currentState;
    currentState = newState;
    currentState-&gt;handle(this);
}
</code></pre>
<p>example of state:</p>
<pre><code>class RunningT1 : public IControllerStateT1 {
public:
    RunningT1();
    void handle(ControllerT1* controller) override;
};

RunningT1::RunningT1() {

}

void RunningT1::handle(ControllerT1* controller) {

    std::cout&lt;&lt;&quot;Bettery api 1 runing&quot;&lt;&lt;std::endl;
try {
    std::lock_guard&lt;std::mutex&gt; lock(DataMutex);
    for (auto&amp; element: ControllerOutputs) {
        element=element+1;
    }

} catch (const std::exception&amp;  e) {
    std::cerr&lt;&lt;e.what()&lt;&lt;std::endl;
}
    std::this_thread::sleep_for(std::chrono::milliseconds(30));



    controller-&gt;setState(new Intermediate());
}
</code></pre>
<p>I suspect this part of code to create problems</p>
<pre><code>void ControllerT1::setState(IControllerStateT1* newState) {
    delete currentState;
    currentState = newState;
    currentState-&gt;handle(this);
}
</code></pre>
<p>but i don't knew how to change it, i was trying to use pointer there like:</p>
<pre><code>std::unique_ptr&lt;IControllerStateT1&gt; newState
</code></pre>
<p>to avoid using new keyword but problem was the same
i will be grateful for any advice
Program is compiled for QNX x86_64</p>
","<p>You have a basic design flaw. In your</p>
<pre><code>void ControllerT1::setState(IControllerStateT1* newState) {
    delete currentState;
    currentState = newState;
    currentState-&gt;handle(this);
}
</code></pre>
<p>you are first deleting the <code>currentState</code>, then assigning a new one, then invoking the handling. Now invocation of <code>currentState-&gt;handle(this);</code> can reach <code>controller-&gt;setState(new Intermediate());</code> inside of your <code>handle</code> routine, and that in turn can <code>delete</code> the object whose method <code>handle</code> still didn't return possibly causing Undefined Behaviour (might be a crash in your case).</p>
<p>It would be better if you deal with references instead of pointers and keep your State objects inside of a State Machine.</p>
<p>Or you can return a new state from <code>handle</code> method, explained quite clearly in <a href=""https://gameprogrammingpatterns.com/state.html"" rel=""noreferrer"">this article</a>.</p>
<p>Another thing, mentioned by Alan in comments, is the possibly infinite recursion, if you always plan to <code>handle</code> inside your <code>setState</code>. You should instead &quot;post transition&quot;, or similar, in the State Machine.</p>
"
69540300,Is it possible to compile for QNX?,https://stackoverflow.com/questions/69540300/is-it-possible-to-compile-for-qnx,6,1634040630,"rust, qnx","<p>did somebody tried to compile Rust code for QNX? I would love switching from C++ to Rust, but have to support QNX.</p>
<p>Compiling for Linux (same architecture) and trying to link with QNX linker causes a lot of linking issues (not sure if this makes any sense at all):</p>
<pre><code>undefined reference to `_Unwind_Backtrace'
undefined reference to `_Unwind_DeleteException'
undefined reference to `_Unwind_GetDataRelBase'
undefined reference to `_Unwind_GetIP'
undefined reference to `_Unwind_GetIPInfo'
undefined reference to `_Unwind_GetLanguageSpecificData'
undefined reference to `_Unwind_GetRegionStart'
undefined reference to `_Unwind_GetTextRelBase'
undefined reference to `_Unwind_RaiseException'
undefined reference to `_Unwind_Resume'
undefined reference to `_Unwind_SetGR'
undefined reference to `_Unwind_SetIP'
undefined reference to `__errno_location'
undefined reference to `__xpg_strerror_r'
undefined reference to `fstat64'
undefined reference to `memrchr'
undefined reference to `open64'
undefined reference to `pthread_getattr_np'
undefined reference to `sigaltstack'
undefined reference to `syscall'
undefined references to `_Unwind_Resume' follow
</code></pre>
<p>Would it be feasible to port rustc to QNX with the (rather old) C/C++ compiler from QNX, or would we also need to port the LLVM used by rustc to QNX?</p>
",
77445015,Is QNX channel is true bidirectional?,https://stackoverflow.com/questions/77445015/is-qnx-channel-is-true-bidirectional,0,1699441689,"c++, qnx","<p>I write C++ app on QNX neutrino with channels (<code>ChannelCreate</code> in parent/<code>ChannelAttach</code> in child process).</p>
<p>I dont undestand - these channels is fully bidirectional? Can I call <code>MsgSend</code> in parent and <code>MsgReceive</code>/<code>MsgReply</code> in child, like tcp socket? Or I cant do this and must call <code>MsgSend</code> only in child and <code>MsgReceive</code> in parent?</p>
<p>In <a href=""http://www.qnx.com/developers/docs/qnxcar2/topic/com.qnx.doc.neutrino.sys_arch/topic/ipc_Channels.html"" rel=""nofollow noreferrer"">guide</a> says that I can do it in one direction, but nothing about back direction.</p>
",
77417887,Can an excessive use of smart pointers lead to an increase in system kernel calls?,https://stackoverflow.com/questions/77417887/can-an-excessive-use-of-smart-pointers-lead-to-an-increase-in-system-kernel-call,0,1699025180,"c++, real-time, smart-pointers, pass-by-value, qnx","<p>Can an excessive use of smart pointers (especially <code>shared_ptr</code>) cause an increase in kernel calls?</p>
<p>I am trying to optimize and simplify a real-time (QNX) codebase. One focus besides memory and realtime efficiency is reducing system kernel calls. I've read through <a href=""https://stackoverflow.com/a/8844924/11671205"">this</a> and <a href=""https://stackoverflow.com/questions/2502394/the-cost-of-passing-by-shared-ptr"">this</a>, so I have a basic understanding that overusing <code>shared_ptr</code>'s as call by value, might cause of some runtime performance issues. What I'm also curious about is whether this type of implementaions would also increase the kernel calls.</p>
<p>Please keep in mind that the <code>processSend</code> function is one of many functions that are called in a cycle and itself calls many other functions (like <code>Default</code>) in a similar way.</p>
<pre><code>// getting called in every cycle (some milliseconds)
void signal::processSend(
    std::shared_ptr&lt;const structA&gt; readPtrA,
    std::shared_ptr&lt;const structB&gt; readPtrB,
    std::shared_ptr&lt;const structC&gt; readPtrC) {
        last_send_data = this-&gt;Default(readPtrA, readPtrB, readPtrC);
}

void signal::Default(
    std::shared_ptr&lt;const structA&gt; readPtrA,
    std::shared_ptr&lt;const structB&gt; readPtrB,
    std::shared_ptr&lt;const structC&gt; readPtrC) {
              // some value readings
}
</code></pre>
",
77323298,How to read environment variables value from /proc file system in QNX?,https://stackoverflow.com/questions/77323298/how-to-read-environment-variables-value-from-proc-file-system-in-qnx,1,1697714214,"qnx, qnx-neutrino","<p>I want to read an environment variable value of a running process from <code>/proc</code> file system.
I could not find <code>/proc/&lt;pid&gt;/environ</code> file on QNX.
I know how we can read it from getenv API but I want to read it from <code>/proc/&lt;pid&gt;</code>.</p>
","<p>To the best of my knowledge there's no easy-to-use API on QNX for accessing another program's environment programmatically.</p>
<p>If your application permits, the easiest solution is to use QNX's <a href=""https://www.qnx.com/developers/docs/7.1/index.html#com.qnx.doc.neutrino.utilities/topic/p/pidin.html"" rel=""nofollow noreferrer""><code>pidin</code></a>  -- run <code>pidin -p &lt;pid&gt; environment</code> to dump the environment to the standard output.</p>
<p>If you cannot spawn additional processes, what I believe <code>pidin</code> is doing internally is something like:</p>
<ul>
<li>Use <a href=""https://www.qnx.com/developers/docs/7.1/index.html#com.qnx.doc.neutrino.cookbook/topic/s3_procfs_DCMD_PROC_INFO.html"" rel=""nofollow noreferrer""><code>DCMD_PROC_INFO</code></a> to retrive the virtual address of the initial stack of the target process;</li>
<li><a href=""https://www.qnx.com/developers/docs/7.1/index.html#com.qnx.doc.neutrino.cookbook/topic/s3_procfs_Operations.html"" rel=""nofollow noreferrer"">Open the target processes' address space</a> via <code>/proc/&lt;pid&gt;/as</code>, seek to the inital stack address, and parse through it:
<ul>
<li>First word is <code>argc</code></li>
<li>Next is <code>argv</code>, so skip past that many char*s, plus one</li>
<li>Next is an array of char*s to the environment variables, terminated by a null; you can seek to each address and read the contents.</li>
</ul>
</li>
</ul>
"
77313347,System time in QNX system suddenly increases/decreases a few minutes. Why does this happen?,https://stackoverflow.com/questions/77313347/system-time-in-qnx-system-suddenly-increases-decreases-a-few-minutes-why-does-t,2,1697599916,"operating-system, qnx, qnx-neutrino, blackberry-qnx","<p>Was the system performing a time update?</p>
<p>Is there a way to prohibit these sudden time changes?</p>
<p>I use CLOCK_MONOTONIC in my program to avoid the impact of these sudden system time changes.
However, the third-party library I'm using could not work correctly when a sudden time change happen.</p>
<p>If provide documentation about the QNX system time update mechanism, I would greatly appreciate it.</p>
",
77306650,"How to fetch hard drive details (serial number, manufacturer) programmatically in QNX?",https://stackoverflow.com/questions/77306650/how-to-fetch-hard-drive-details-serial-number-manufacturer-programmatically-i,0,1697524646,"hard-drive, qnx","<p>fHow to fetch hard drive details (serial number, manufacturer) programmatically QNX linux.
Can I read it directly from filesystem ? or what are the other way of fetching hard disk details ?</p>
<p>Tried following:</p>
<pre><code>if((fd = open (argv[1], O_RDONLY)) == -1) {
  fprintf(stderr, &quot;Error with open() on %s.  Make sure it exists.\n&quot;, argv[1]);
  perror (open );
  exit(EXIT_FAILURE);
}


error = devctl(fd, DCMD_CAM_DEV_SERIAL_NUMBER, buf, len, NULL);
</code></pre>
<p>As a result i am getting only:
2GB NANDrive 300003</p>
<p>How to fetch manufacturer and other info like type/model/path on filesystem etc.</p>
",
77256862,Why can&#39;t I call bt_get_backtrace() in QNX?,https://stackoverflow.com/questions/77256862/why-cant-i-call-bt-get-backtrace-in-qnx,0,1696835442,"qnx, backtrace, qnx-neutrino, blackberry-qnx","<p>I wanted to backtrace the funtions in stack in my QNX program, so I consulted the API in the official documentation of QNX. I followed the example code in the official document to call bt_get_backtrace() in libbacktrace.so, but it returns -1 and the program reported an error stating &quot;Not Spportted&quot;.
<a href=""https://i.sstatic.net/wK8Pz.jpg"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>However, I can load and print memmap successfully by calling bt_load_memmap and bt_sprn_memmap.</p>
<p>How can I solve this problem? Is there any other way to do backtrace? I have try exeinfo.h and libunwind but both of them doesn't work.</p>
","<p>libbacktrace on QNX does not support backtraces on aarch64. You're better off using libunwind [0].</p>
<p>[0] <a href=""https://github.com/libunwind/libunwind"" rel=""nofollow noreferrer"">https://github.com/libunwind/libunwind</a></p>
"
77149046,How to Detect Memory Leaks on QNXÔºü,https://stackoverflow.com/questions/77149046/how-to-detect-memory-leaks-on-qnx,0,1695289439,"memory-leaks, address-sanitizer, qnx, qnx-neutrino, blackberry-qnx","<p>I've tried valgrind, it seems to have difficulties working effectively on ARM64 QNX.
I've also attempted to use sanitizers. When I add '-fsanitize=address' during compiling, it compiled failed.</p>
<pre><code>undefined reference to `__asan_report_load1'
undefined reference to `__asan_option_detect_stack_use_after_return'
undefined reference to `__asan_stack_malloc_2'
undefined reference to `__asan_report_store4'
undefined reference to `__asan_stack_free_2'
...
</code></pre>
<p>So, I would like to know the compatibility of Sanitize with QNX. Are there any other ways to detect Memory Leak on QNX.</p>
",
76809273,vsomeip - how to discover service in QEMU-QNX guest from Ubuntu host?,https://stackoverflow.com/questions/76809273/vsomeip-how-to-discover-service-in-qemu-qnx-guest-from-ubuntu-host,0,1690874063,"ubuntu, qemu, multicast, qnx, vsomeip","<p>I am running vsomeip service example from the Wiki page &quot;https://github.com/COVESA/vsomeip/wiki/vsomeip-in-10-minutes#devices&quot; inside virtual QNX guest on QEMU. Bridge networking is enabled using TAP interface. The ifup script used is as below.</p>
<pre><code>modprobe dummy
ip link add eth1 type dummy
ifconfig eth1 hw ether A7:C7:3A:3E:37:4A #fudged address
ip addr add 192.168.1.100/24 brd + dev eth1
ip link set dev eth1 up

ETH1_IP=192.168.0.3
ETH1_MASK=255.255.255.0
ETH1_BCAST=192.168.0.255

ifconfig eth1 down
ifconfig eth1 0.0.0.0 promisc up
tunctl -t tap0 -u `whoami`
ifconfig tap0 0.0.0.0 promisc up

brctl addbr br0
brctl addif br0 eth1
brctl addif br0 tap0

ifconfig eth1 up
ifconfig tap0 up
ifconfig br0 up

brctl stp br0 off 
ifconfig br0 $ETH1_IP netmask $ETH1_MASK broadcast $ETH1_BCAST
</code></pre>
<p>I want to connect the vsomeip client from Ubuntu host.
The config is same as in the examples except unicast and multicast IP.</p>
<p>I have added the same multicast IP on both host and guest to route.
Guest</p>
<pre><code># route add -net 239.255.255.254 192.168.0.1 -ifp vt0
</code></pre>
<p>Host</p>
<pre><code>$ sudo route add -nv 239.255.255.254 dev br0
</code></pre>
<p>The client is not able to detect the service. The logs are as below.</p>
<pre><code># ./service_example 
2023-07-01 02:52:31.513250 [info] Parsed vsomeip configuration in 222ms
2023-07-01 02:52:31.513420 [info] Using configuration folder: &quot;/etc/vsomeip&quot;.
2023-07-01 02:52:31.513460 [info] Configuration module loaded.
2023-07-01 02:52:31.513480 [info] Initializing vsomeip application &quot;World&quot;.
2023-07-01 02:52:31.513530 [info] Instantiating routing manager [Host].
2023-07-01 02:52:31.513750 [info] create_local_server Routing endpoint at /tmp/vsomeip-0
2023-07-01 02:52:31.513890 [info] Service Discovery enabled. Trying to load module.
2023-07-01 02:52:31.514290 [info] Service Discovery module loaded.
2023-07-01 02:52:31.514440 [info] Application(World, 1212) is initialized (11, 100).
2023-07-01 02:52:31.514540 [info] OFFER(1212): [1234.5678:0.0] (true)
2023-07-01 02:52:31.514810 [info] Listening at /tmp/vsomeip-1212
2023-07-01 02:52:31.514950 [info] Starting vsomeip application &quot;World&quot; (1212) using 2 threads I/O nice 255
2023-07-01 02:52:31.515030 [info] main dispatch thread id from application: 1212 (World) is: 3
2023-07-01 02:52:31.515040 [info] shutdown thread id from application: 1212 (World) is: 4
2023-07-01 02:52:31.515230 [warning] udp_server_endpoint_impl:: couldn't set SO_RCVBUF: No buffer space available to: 1703936 local port: 30491
2023-07-01 02:52:31.515330 [debug] Joining to multicast group 239.255.255.254 from 192.168.0.11
2023-07-01 02:52:31.515370 [warning] udp_server_endpoint_impl:: couldn't set SO_RCVBUF: No buffer space available to: 1703936 local port: 30491
2023-07-01 02:52:31.515570 [warning] udp_server_endpoint_impl:: couldn't set SO_RCVBUF: No buffer space available to: 1703936 local port: 30509
2023-07-01 02:52:31.515610 [info] SOME/IP routing ready.
2023-07-01 02:52:31.515670 [info] Watchdog is disabled!
2023-07-01 02:52:31.515750 [info] io thread id from application: 1212 (World) is: 1
2023-07-01 02:52:31.515780 [info] io thread id from application: 1212 (World) is: 6
2023-07-01 02:52:31.515850 [info] vSomeIP 3.1.20.3 | (default)
2023-07-01 02:52:41.615890 [info] vSomeIP 3.1.20.3 | (default)
2023-07-01 02:52:45.655580 [warning] Didn't receive a multicast SD message for 2200ms.
2023-07-01 02:52:45.655640 [debug] Leaving the multicast group 239.255.255.254 from 192.168.0.11
2023-07-01 02:52:45.655730 [debug] Joining to multicast group 239.255.255.254 from 192.168.0.11
2023-07-01 02:52:45.655790 [warning] udp_server_endpoint_impl:: couldn't set SO_RCVBUF: No buffer space available to: 1703936 local port: 30491

</code></pre>
<pre><code>~$ client_example                                                           
2023-08-01 06:52:42.158375 [info] Using configuration file: &quot;config_client.json&quot;.
2023-08-01 06:52:42.158831 [info] Parsed vsomeip configuration in 0ms
2023-08-01 06:52:42.158939 [info] Configuration module loaded.
2023-08-01 06:52:42.159036 [info] Initializing vsomeip (3.3.8) application &quot;Hello&quot;.
2023-08-01 06:52:42.159270 [info] Instantiating routing manager [Host].
2023-08-01 06:52:42.160274 [info] create_routing_root: Routing root @ /tmp/vsomeip-0
2023-08-01 06:52:42.160785 [info] Service Discovery enabled. Trying to load module.
2023-08-01 06:52:42.163340 [info] Service Discovery module loaded.
2023-08-01 06:52:42.163776 [info] Application(Hello, 1313) is initialized (11, 100).
2023-08-01 06:52:42.163955 [info] REQUEST(1313): [1234.5678:255.4294967295]
2023-08-01 06:52:42.164641 [info] create_local_server: Listening @ /tmp/vsomeip-1313
2023-08-01 06:52:42.165461 [info] Starting vsomeip application &quot;Hello&quot; (1313) using 2 threads I/O nice 255
2023-08-01 06:52:42.166503 [info] Client [1313] routes unicast:192.168.0.3, netmask:255.255.255.0
2023-08-01 06:52:42.166331 [info] main dispatch thread id from application: 1313 (Hello) is: 7fd893ffd640 TID: 10052
2023-08-01 06:52:42.166595 [info] shutdown thread id from application: 1313 (Hello) is: 7fd8937fc640 TID: 10053
2023-08-01 06:52:42.168030 [info] Watchdog is disabled!
**CLIENT: Service [1234.5678] is NOT available.
**2023-08-01 06:52:42.168978 [info] io thread id from application: 1313 (Hello) is: 7fd8957fed80 TID: 10049
2023-08-01 06:52:42.169019 [info] io thread id from application: 1313 (Hello) is: 7fd8927fa640 TID: 10055
2023-08-01 06:52:42.170197 [info] vSomeIP 3.3.8 | (default)
2023-08-01 06:52:42.170620 [info] Network interface &quot;br0&quot; state changed: up
2023-08-01 06:52:42.171615 [info] Route &quot;239.255.255.254/32 if: br0 gw: n/a&quot; state changed: up
2023-08-01 06:52:42.172148 [info] udp_server_endpoint_impl: SO_RCVBUF is: 212992 (1703936) local port:30491
2023-08-01 06:52:42.172345 [debug] Joining to multicast group 239.255.255.254 from 192.168.0.3
2023-08-01 06:52:42.172558 [info] SOME/IP routing ready.
2023-08-01 06:52:42.173415 [info] udp_server_endpoint_impl&lt;multicast&gt;: SO_RCVBUF is: 212992 (1703936) local port:30491
2023-08-01 06:52:52.170617 [info] vSomeIP 3.3.8 | (default)
2023-08-01 06:53:02.171167 [info] vSomeIP 3.3.8 | (default)
</code></pre>
<p>I am expecting the service to be discovered but I am getting &quot;service not available&quot; message as seen in above log. Any pointers please?</p>
","<p>The setup suspiciously ran fine on Windows QEMU using OpenVPN TAP adapter. This brought the spotlight on the Ubuntu TAP adapter as potential culprit. Hence added the original script in the question.</p>
<p>Indeed the problem is with wrong subnet given in the bridge ifup.sh script. It is not matching the br0/vt0 subnet. Someone had probably left it there as a blind copy-paste. After updating it with correct subnet it worked. Below is the diff.</p>
<pre><code>- ip addr add 192.168.1.100/24 brd + dev eth1
+ ip addr add 192.168.0.1/24 brd + dev eth1
</code></pre>
<p>Hope this helps someone working on similar problems.</p>
"
74469555,Any difference between `qcc -Vgcc_ntoaarch64le` and `aarch64-unknown-nto-qnx7.0.0-gcc` when compiling?,https://stackoverflow.com/questions/74469555/any-difference-between-qcc-vgcc-ntoaarch64le-and-aarch64-unknown-nto-qnx7-0,0,1668653100,"qnx, qnx-neutrino, qcc","<p>Any difference between <code>qcc -Vgcc_ntoaarch64le</code>  and <code>aarch64-unknown-nto-qnx7.0.0-gcc</code> when compiling? Are they equivalent?</p>
<p>As per the document, which says that:</p>
<blockquote>
<p>For example, this command:</p>
<p>qcc -Vgcc,
lists all targets in all versions of gcc. See the Examples section below for more examples.</p>
<p>The targets include:</p>
<p>gcc_ntoaarch64le</p>
<p>gcc_ntoaarch64le_cxx</p>
<p>gcc_ntoaarch64le_gpp</p>
<p>gcc_ntoarmv7le</p>
<p>gcc_ntoarmv7le_cxx</p>
<p>gcc_ntoarmv7le_gpp</p>
<p>gcc_ntox86 (default)</p>
<p>gcc_ntox86_cxx</p>
<p>gcc_ntox86_gpp</p>
<p>gcc_ntox86_64</p>
<p>gcc_ntox86_64_cxx</p>
<p>gcc_ntox86_64_gpp</p>
</blockquote>
<p>But I can't find any information about  <code>aarch64-unknown-nto-qnx7.0.0-gcc</code>.</p>
",
76806626,Can we control the maximum values of Process ID&#39;s and Thread ID&#39;s in Qnx Neutrino 7.x OS?,https://stackoverflow.com/questions/76806626/can-we-control-the-maximum-values-of-process-ids-and-thread-ids-in-qnx-neutrin,0,1690831616,"qnx, qnx-neutrino","<p>What are the maximum possible values for Process ID and Thread ID's in QNX. Is there a way to configure the maximum Process ID and Thread ID limits in the QNX Neutrino 7.x OS? I'm trying to figure out how much flexible it is. Thanks.</p>
",
76860535,Picking which QNX partition to boot into automatically,https://stackoverflow.com/questions/76860535/picking-which-qnx-partition-to-boot-into-automatically,1,1691505004,"operating-system, embedded, rtos, qnx","<p>I currently have an embedded device with a flash card that has 3 QNX 6.5.0SP1 partitions - two bootable partitions (fs type 79), one data partition (fs type 78).  I would like to programmatically choose which of these two bootable partitions to boot into, based on a flag of some sort on the data partition (perhaps a <code>touch</code>'d file) set by user interaction before shutdown.  Is this possible? Ideally, the end result would have the chosen partition's file system mounted to root once booted.</p>
<p>I have tried modifying the <code>.boot</code> file, but I believe the partition has already been booted by the time execution is handed to <code>.boot</code>. I believe I need to modify the IPL, but I'm unsure how to read from any file system during the IPL.</p>
","<p>The simplest solution is to mark the &quot;active&quot; bootable partion by ensuring it's the only one with a <code>.diskroot</code> file that instructs <a href=""http://www.qnx.com/developers/docs/6.5.0SP1.update/index.html#./com.qnx.doc.neutrino_utilities/d/diskboot.html"" rel=""nofollow noreferrer""><code>diskboot</code></a> to mount it as <code>/</code>.  The switching process would be: use <a href=""http://www.qnx.com/developers/docs/6.5.0SP1.update/index.html#./com.qnx.doc.neutrino_utilities/f/fdisk.html#Commands"" rel=""nofollow noreferrer""><code>fdisk boot</code></a> to mark the new root partition as bootable; then <code>mv /.diskroot</code> to it.</p>
<p>If it is a strict requirement that the bootable partitions are not writable, you'll need to design a replacement boot script for your system that starts up the key drivers and does its own mounting, as <code>diskboot</code> does not support complex mounting behaviour (it does not support duplicate .diskroot mount points).  Your updated script can be linked in to a replacment for the <code>.boot</code> file using <a href=""http://www.qnx.com/developers/docs/6.5.0SP1.update/index.html#./com.qnx.doc.neutrino_utilities/m/mkifs.html"" rel=""nofollow noreferrer"">mkifs</a>.</p>
<p>Key reference documentation:</p>
<ul>
<li><a href=""http://www.qnx.com/developers/docs/6.5.0SP1.update/index.html#./com.qnx.doc.neutrino_user_guide/starting.html"" rel=""nofollow noreferrer"">Controlling How Neutrino Starts</a></li>
<li><a href=""http://www.qnx.com/developers/docs/6.5.0SP1.update/index.html#./com.qnx.doc.neutrino_building/building_nto.html"" rel=""nofollow noreferrer"">Making an OS Image</a></li>
<li><a href=""http://www.qnx.com/developers/docs/6.5.0SP1.update/index.html#./com.qnx.doc.neutrino_building/config.html"" rel=""nofollow noreferrer"">Sample Buildfiles</a></li>
</ul>
<p>Finally, as a leg up, I can offer this shell script &quot;fsscan&quot; my company used to use for this purpose back in the QNX 6.3 days.  This script looks for a partition with a &quot;.bootkey&quot; file that matches a &quot;bootkey&quot; file included in the IFS; the contents of this file were a short version and date stamp.  This let us select a boot partition with nothing but <code>fdisk boot</code>, and it would find and mount the matching root partition.</p>
<pre class=""lang-bash prettyprint-override""><code>#/proc/boot/sh

# fsscan for QNX - scans for and mounts filesystems
# includes analysis of .diskroot for QNX filesystems for use at boot.

# Options
do_mount=0
build_fstab=1
parse_diskroot=0
commit_string=&quot;&quot;
keyfile=&quot;/proc/boot/bootkey&quot;

## Parse commandline
while getopts &quot;mndck:&quot; opt ; do
    case $opt in
        m)
            do_mount=1
        ;;
        n)
            build_fstab=0
        ;;
        d)
            parse_diskroot=1
        ;;
        k)
            keyfile=&quot;$OPTARG&quot;
        ;;
        c)
            commit_string=&quot;commit=none&quot;
        ;;
    esac
done

if [ -r &quot;$keyfile&quot; ]; then
    keydata=`cat $keyfile`
else
    keyfile=&quot;&quot;
fi    


echo &quot;Scanning available disk partitions...&quot;

if [ &quot;$build_fstab&quot; -eq 1 ]; then
    echo &quot;# fstab build by fsscan on `date`&quot; &gt; /etc/fstab
fi

# Get QNX devices
# We use two passes to figure out what to do.  First pass pre-mounts devices 
# and locates .bootkey, second pass manages other .diskroots.


UD=`ls /dev/ud*t79 /dev/ud*t78 /dev/ud*t77 2&gt;/dev/null`
HD=`ls /dev/hd*t79 /dev/hd*t78 /dev/hd*t77 2&gt;/dev/null`

QDEVS=&quot;$UD $HD&quot;

# First pass
did_mount=&quot;&quot;
was_mounted=&quot;&quot;
for device in $QDEVS; do
    disk=`echo $device | sed -e &quot;s/\/dev\/[hu]d\(.*\)t7[789]/\1/&quot;`  
    type=`echo $device | sed -n -e &quot;s/\/dev\/\([hu]\)d.*t7[789]/\1/p&quot;`  
    id=`echo $device | sed -n -e &quot;s/\/dev\/[hu]d.*t\(7[789]\)/\1/p&quot;`    

    mountopts=&quot;rw&quot;
    if [ ! -z &quot;$commit_string&quot; ]; then
        mountopts=&quot;$mountopts,$commit_string&quot;
    fi
    
    # Check if already mounted
    mountpt=`df $device | awk &quot;\\$1 == \&quot;$device\&quot; {print \\$6}&quot;`

    is_mounted=0
    
    if [ -z &quot;$mountpt&quot; ]; then                
        num=$((80 - $id))
        mountpt=&quot;/fs/${type}d$disk-qnx4-$num&quot;       
        
        if [ &quot;$do_mount&quot; -eq 1 ]; then 
            
            echo &quot;Found QNX filesystem at $device, mounting as $mountpt&quot;        
            mount -t qnx4 -o $mountopts $device $mountpt
            is_mounted=1
            did_mount=&quot;$did_mount $device&quot;
        fi;
    
    else
        is_mounted=1        
        was_mounted=&quot;$was_mounted $device&quot;        
        echo &quot;Found QNX filesystem at $device already mounted as $mountpt&quot;
    fi
    
    if [ &quot;$is_mounted&quot; -eq 1 ]; then         
        if [ -n &quot;$keyfile&quot; -a &quot;$parse_diskroot&quot; -eq 1 -a -r $mountpt/.diskroot -a -r $mountpt/.bootkey ]; then
            # Check boot key.
            fskeydata=`cat $mountpt/.bootkey`
            if [ &quot;$keydata&quot; = &quot;$fskeydata&quot; ]; then
                # Handle diskroot RIGHT NOW
                diskroot=`awk 'BEGIN { mp = &quot;/&quot; }
(NR == 1) &amp;&amp; /\// { mp = $0; }
/^[ \t]*mount[ \t]*=/ { split($0,parts,/=/); mp = parts[2]; gsub(/^[ \t]*/,&quot;&quot;,mp); gsub(/[ \t]*$/,&quot;&quot;,mp);  }
END { print mp; }' &lt;$mountpt/.diskroot`

#                   echo &quot;$device: Diskroot mountpoint is '$diskroot'&quot;                      
                
                if [ -z &quot;$diskroot&quot; ]; then             
                    diskroot=&quot;/&quot;
                fi
                
                # Check for existing partition there
                if df $diskroot | awk &quot;\$6 != \&quot;$diskroot\&quot; {exit 0} {exit 1}&quot;; then
                    echo &quot;Relocating QNX filesystem with matching key at $device to $diskroot&quot;
                    umount $mountpt
                    if [ &quot;$do_mount&quot; -eq 1 ]; then
                        mount -t qnx4 -o $mountopts $device $diskroot
                    fi
                    mountpt=&quot;$diskroot&quot;
                fi                            
            fi                
        fi;   
    else
            echo &quot;Found QNX filesystem at $device, mountable as $mountpt&quot;                       
    fi    
    
done;

#echo &quot;Did mount: '$did_mount'   Was mounted: '$was_mounted'&quot;

# Second pass
for device in $QDEVS; do
    disk=`echo $device | sed -e &quot;s/\/dev\/[hu]d\(.*\)t7[789]/\1/&quot;`  
    type=`echo $device | sed -n -e &quot;s/\/dev\/\([hu]\)d.*t7[789]/\1/p&quot;`  
    id=`echo $device | sed -n -e &quot;s/\/dev\/[hu]d.*t\(7[789]\)/\1/p&quot;`    

    mountopts=&quot;rw&quot;
    if [ ! -z &quot;$commit_string&quot; ]; then
        mountopts=&quot;$mountopts,$commit_string&quot;
    fi
    
    # Check if already mounted
    mountpt=`df $device | awk &quot;\\$1 == \&quot;$device\&quot; {print \\$6}&quot;`

    if echo $was_mounted | grep -q $device || echo $did_mount | grep -q $device; then
        # Process diskroot
        #echo &quot;Considering $device for diskroot&quot;
        # Read .diskroot
        if [ &quot;$parse_diskroot&quot; -eq 1 -a -r $mountpt/.diskroot ]; then
            diskroot=`awk 'BEGIN { mp = &quot;/&quot; }
(NR == 1) &amp;&amp; /\// { mp = $0; }
/^[ \t]*mount[ \t]*=/ { split($0,parts,/=/); mp = parts[2]; gsub(/^[ \t]*/,&quot;&quot;,mp); gsub(/[ \t]*$/,&quot;&quot;,mp);  }
END { print mp; }' &lt;$mountpt/.diskroot`

#           echo &quot;$device: Diskroot mountpoint is '$diskroot'&quot;                      
            
            if [ -z &quot;$diskroot&quot; ]; then             
                diskroot=&quot;/&quot;
            fi
            
#           echo &quot;Using '$diskroot' for $device&quot;                    
                        
            # Check for existing partition there
            if df $diskroot | awk &quot;\$6 != \&quot;$diskroot\&quot; {exit 0} {exit 1}&quot;; then
                echo &quot;Relocating QNX filesystem at $device to $diskroot&quot;
                echo &quot;umount $mountpt&quot;
                umount $mountpt
                if [ &quot;$do_mount&quot; -eq 1 ]; then
                    echo &quot;mount -t qnx4 -o $mountopts $device $diskroot&quot;                
                    mount -t qnx4 -o $mountopts $device $diskroot
                fi
                mountpt=&quot;$diskroot&quot;
            fi              
        fi                  
    else
        # Check is now mounted == bootkey
        if [ -z &quot;$mountpt&quot; ]; then                
            num=$((80 - $id))
            mountpt=&quot;/fs/${type}d$disk-qnx4-$num&quot;
        fi
    fi

    if [ &quot;$build_fstab&quot; -eq 1 ]; then
        echo &quot;$device   $mountpt    qnx4    $mountopts  0   0&quot; &gt;&gt; /etc/fstab
    fi;
done;                   



# Grab DOS devices.
lastdisk=&quot;&quot;
for id in 1 4 6 11 12; do
    for device in `ls /dev/hd*t$id /dev/hd*t$id.* /dev/ud*t$id /dev/ud*t$id.* 2&gt;/dev/null`; do
        disk=`echo $device | sed -e &quot;s/\/dev\/\([hu]d.*\)t$id.*/\1/&quot;`   

        # Check if already mounted
        mountpt=`df $device | awk &quot;\\$1 == \&quot;$device\&quot; {print \\$6}&quot;`
        mountopts=&quot;rw&quot;

        
        if [ -z &quot;$mountpt&quot; ]; then                
            is_mounted=0
            
            # Find mountpoint
            if [ &quot;X$lastdisk&quot; != &quot;X$disk&quot; ]; then
                lastdisk=&quot;$disk&quot;
                num=0
            fi
            
            while [ -z &quot;$mountpt&quot; ]; do
                num=$(($num + 1))
                mountpt=&quot;/fs/$disk-dos-$num&quot;
                if [ -e &quot;$mountpt&quot; ]; then
                    mountpt=&quot;&quot;
                fi
            done;

            if [ &quot;$do_mount&quot; -eq 1 ]; then
                echo &quot;Found DOS filesystem at $device, mounting as $mountpt&quot;
                mount -t dos -o $mountopts $device $mountpt
            else
                echo &quot;Found DOS filesystem at $device, mountable as $mountpt&quot;
            fi
                                
        else
            echo &quot;Found DOS filesystem at $device, already mounted as $mountpt&quot;        
        fi
        
        if [ &quot;$build_fstab&quot; -eq 1 ]; then
            echo &quot;$device   $mountpt dos    $mountopts  0   0&quot; &gt;&gt; /etc/fstab
        fi      
    done;
done;

    
echo &quot;Partition scan complete.&quot;
</code></pre>
<p>NB: this script requires a full shell and some UNIX text processing utilities to be included in the .boot IFS.  QNX worked hard to keep their default IFS as small as possible; this wasn't a limitation for our application.</p>
<pre><code>mount
umount
sleep
sh
awk
sed
ls
cat
echo
df
grep
</code></pre>
"
76713718,Bootstrapped GCC is using incorrect search paths,https://stackoverflow.com/questions/76713718/bootstrapped-gcc-is-using-incorrect-search-paths,1,1689689704,"gcc, qnx, gcc10","<p>I'm attempting to build GCC 10.5 for an older version of QNX on an x86 platform in an Ubuntu 20.04 x86_64 environment. I downloaded the <code>gcc-10.5.0.tar.xz</code> file from GNU's FTP server and ran the following commands:</p>
<pre class=""lang-bash prettyprint-override""><code>tar -xvf gcc-10.5.0.tar.xz
cd gcc-10.5.0
./contrib/download_prerequisites
cd ..
mkdir bin-qnx63-i386
cd bin-qnx63-i386
./../gcc-10.5.0/configure $(options)
make
</code></pre>
<p>These are the current options in <code>$(options)</code>:</p>
<ul>
<li><code>--host=x86_64-pc-linux-gnu</code></li>
<li><code>--target=i386-pc-nto-qnx6.3.0</code></li>
<li><code>--prefix=/usr/local/nyab</code></li>
<li><code>--program-prefix=nyab-</code></li>
<li><code>--disable-multilib</code></li>
<li><code>--enable-threads=posix</code></li>
<li><code>--enable-tls</code></li>
<li><code>--enable-version-specific-runtime-libs</code></li>
<li><code>--enable-languages=c,c++</code></li>
<li><code>--disable-libada</code></li>
<li><code>--disable-libgm2</code></li>
<li><code>--enable-default-pie</code></li>
<li><code>--enable-werror</code></li>
<li><code>--enable-checking</code></li>
<li><code>--enable-valgrind-annotations</code></li>
<li><code>--with-sysroot=/opt/qnx630/target/qnx6</code></li>
</ul>
<p>In addition, I've copied <code>ar</code>, <code>as</code>, <code>ld</code> and <code>ranlib</code> from the SDK to <code>/usr/local/nyab/i386-pc-nto-qnx6.3.0/bin</code> as directed <a href=""https://gcc.gnu.org/install/build.html#Building-a-cross-compiler"" rel=""nofollow noreferrer"">here</a>. After an initial failed run, I copied the CRT libraries from the SDK to <code>/usr/local/nyab/i386-pc-nto-qnx6.3.0/lib</code> as that appeared to be needed as well.</p>
<p>This setup seems to work until I get to the <code>i386-pc-nto-qnx6.3.0/libstdc++-v3</code> directory where it fails. Looking at <code>config.log</code> the issue seems to stem from the following line:</p>
<p><code>/usr/local/nyab/i386-pc-nto-qnx6.3.0/bin/ld: cannot open /opt/qnx630/target/qnx6x86/lib/crtbegin.o: No such file or directory</code></p>
<p>The correct path is <code>/opt/qnx630/target/qnx6/x86/lib</code>.</p>
<p>I've attempted to modify the <code>--with-sysroot</code> option to include trailing slashes, but that seems to have no effect. Next, I created a small C file:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;

int main(void) {
    printf(&quot;Hello, world!\n&quot;);
    return 0;
}
</code></pre>
<p>I passed it to the compiler using the flags of the failing command plus the flag to spit out additional information (formatted for StackOverflow):</p>
<pre><code>/home/nyab/gcc/bin-qnx63-i386/./gcc/xgcc -B/home/nyab/gcc/bin-qnx63-i386/./gcc/ \
    -B/usr/local/nyab/i386-pc-nto-qnx6.3.0/bin/ \
    -B/usr/local/nyab/i386-pc-nto-qnx6.3.0/lib/ \
    -isystem /usr/local/nyab/i386-pc-nto-qnx6.3.0/include \
    -isystem /usr/local/nyab/i386-pc-nto-qnx6.3.0/sys-include \
    -v -o /tmp/test -g -O2 /tmp/test.c
</code></pre>
<p>And found that GCC is creating the incorrect paths (newlines added for the incorrect paths):</p>
<pre><code>...
COLLECT_GCC_OPTIONS='-B' '/home/nyab/gcc/bin-qnx63-i386/./gcc/' '-B' '/usr/local/nyab/i386-pc-nto-qnx6.3.0/bin/' '-B' '/usr/local/nyab/i386-pc-nto-qnx6.3.0/lib/' '-isystem' '/usr/local/nyab/i386-pc-nto-qnx6.3.0/include' '-isystem' '/usr/local/nyab/i386-pc-nto-qnx6.3.0/sys-include' '-v' '-o' '/tmp/test' '-g' '-O2' '-mtune=generic' '-march=pentiumpro'
 /home/nyab/gcc/bin-qnx63-i386/./gcc/collect2 -V -Y P,

/opt/qnx630/target/qnx6x86/lib

 -Qy -m i386nto --dynamic-linker /usr/lib/ldqnx.so.2 -o /tmp/test /usr/local/nyab/i386-pc-nto-qnx6.3.0/lib/crt1.o /usr/local/nyab/i386-pc-nto-qnx6.3.0/lib/crti.o

/opt/qnx630/target/qnx6x86/lib/crtbegin.o

 -L/home/nyab/gcc/bin-qnx63-i386/./gcc -L/usr/local/nyab/i386-pc-nto-qnx6.3.0/bin -L/usr/local/nyab/i386-pc-nto-qnx6.3.0/lib /tmp/ccb1wUOU.o -lgcc -lc -lgcc /usr/local/nyab/i386-pc-nto-qnx6.3.0/lib/crtend.o /usr/local/nyab/i386-pc-nto-qnx6.3.0/lib/crtn.o
...
</code></pre>
<p>I have confirmed <code>crtbegin.o</code> is in <code>/usr/local/nyab/i386-pc-nto-qnx6.3.0/lib</code> although it was copied from <code>/opt/qnx630/target/qnx6/x86/lib</code>. Does anyone know where I went wrong or what to try next?</p>
","<p><strong>Short answer</strong></p>
<p>Modify <code>SYSROOT_SUFFIX_SPEC</code> in <code>&lt;src-dir&gt;/gcc/config/i386/nto.h</code> to <code>/86</code>.</p>
<p><strong>Long answer</strong></p>
<p>GCC uses <a href=""https://gcc.gnu.org/onlinedocs/gcc/Spec-Files.html"" rel=""nofollow noreferrer"">spec files</a> to determine how to call itself and other programs with their appropriate command line arguments. Thorough investigation of <code>&lt;src-dir&gt;/gcc/gcc.c</code> will show you how these files are created or read in to the program. Since we fail during linker invocation, the <code>LINK_SPEC</code> definition matters here. For this QNX build, its found in <code>&lt;src-dir&gt;/gcc/config/i386/nto.h</code>. The two lines that matter are:</p>
<pre><code>...
   %{!YP,*:%{p:-Y P,%R/lib} \
    %{!p:-Y P,%R/lib}} \
...
</code></pre>
<p>The spec language reference linked earlier says <code>%R</code> is &quot;the concatenation of target_system_root and target_sysroot_suffix.&quot; The <code>target_sysroot_suffix</code> is actually defined in the <code>nto.h</code> file under the <code>SYSROOT_SUFFIX_SPEC</code> preprocessor macro. Cross referencing this definition with other definitions in <code>mti-linux.h</code> and <code>st.h</code>, the specification in <code>nto.h</code> is missing the forward slash at the beginning. Changing the value from <code>x86</code> to <code>/x86</code> will get you past this issue.</p>
"
76609164,Error implementing POSIX message queue &quot;Function not implemented&quot;,https://stackoverflow.com/questions/76609164/error-implementing-posix-message-queue-function-not-implemented,1,1688440269,"c, posix, ipc, message-queue, qnx","<p>I have written this code to make a POSIX message queue, but I am receiving an error:</p>
<blockquote>
<p>&quot;Function not implemented&quot;.</p>
</blockquote>
<p>This platform, QNX, is supposed to support message queues.</p>
<p>Can someone please explain?</p>
<pre><code>#include &lt;fcntl.h&gt;
#include &lt;mqueue.h&gt;

#define DIAG_CLIENT &quot;/DIAG_CLIENT&quot;

#define MAX_MSG_SIZE 4096
#define MAX_MSGS 1024

mqd_t msg_queue = -1;
struct mq_attr attrs;

void
message_init()
{
    memset(&amp;attrs, 0, sizeof(attrs));
    attrs.mq_maxmsg = MAX_MSGS;
    attrs.mq_msgsize = MAX_MSG_SIZE;
    msg_queue = mq_open(
      DIAG_CLIENT, O_RDWR | O_CREAT | O_NONBLOCK, S_IRWXU | S_IRWXG, &amp;attrs);
    LOG(&quot;create or open msg_queue_log msg_queue:%d&quot;, msg_queue);
    if (msg_queue == -1) {
        ERR(&quot;create or open msg_queue failed! err=%d&quot;, errno);
    }
}
</code></pre>
<p>And use this setting in my common.mk file:</p>
<pre><code>LIBS += mq
</code></pre>
",
76536716,Does QNX 7.1 supports Web Browser Development,https://stackoverflow.com/questions/76536716/does-qnx-7-1-supports-web-browser-development,0,1687486340,qnx,"<p>I found that QNX 7.0 supports Web Browser Development and since now I am using now QNX 7.1, wanted to know the availability of Web Browser Development support on 7.1</p>
<p>I couldn't find anything from official 7.1 documentation.</p>
","<p>It is actually not coming with QNX 7.1 setup. And there is no way to download it from the official QNX software center. But I tried to copy relevant libs and files from QNX 7 and it works . Thanks</p>
"
31957759,How to develop app for QNX from scratch with proper GUI?,https://stackoverflow.com/questions/31957759/how-to-develop-app-for-qnx-from-scratch-with-proper-gui,0,1439361686,"c, qnx","<p>I was wondering around Internet for proper article regarding how to develop a good UI app for QNX . I was able to find things like -</p>

<ol>
<li>We can use jamaicaVM to port our code developed on java to c .</li>
</ol>

<p>Following are my questions :</p>

<ol>
<li>On what platform should i develop the app for QNX .</li>
<li>The app should have proper UI.</li>
</ol>

<p>This might even help other beginner . </p>
","<p>Now that <a href=""http://doc.qt.io/qt-5/platform-notes-qnx.html"" rel=""nofollow"">Qt 5 has support on QNX 6.6</a>, I would suggest using it.  With Qt you can either develop your GUI in either in native C++ (Qt Widgets) or with <a href=""http://doc.qt.io/qt-5/qmlapplications.html"" rel=""nofollow"">Qt Quick</a>.</p>

<p>The biggest limiting factor will be the hardware you are running on (particularly the GPU or lack of) and the available QNX drivers for the hardware.</p>
"
69944672,How to build qnx application by cmake,https://stackoverflow.com/questions/69944672/how-to-build-qnx-application-by-cmake,4,1636728173,"c++, cmake, qnx","<p>I am trying to use cmake to build a very simple app with QNX toolchain. I can build it with qcc command line without any problem, but if I using cmake, it always show this error. Does anyone know how to solve it? Thanks!</p>
<p>QNX SDK: v7.1
cmake: v3.21.1</p>
<pre><code>[ 50%] Building CXX object CMakeFiles/hello.dir/src/testhello.cpp.o
cc: Can't specify -P, -C, -E, -c or -S with -o and have multiple files
CMakeFiles/hello.dir/build.make:75: recipe for target 'CMakeFiles/hello.dir/src/testhello.cpp.o' failed
make[2]: *** [CMakeFiles/hello.dir/src/testhello.cpp.o] Error 1
CMakeFiles/Makefile2:82: recipe for target 'CMakeFiles/hello.dir/all' failed
make[1]: *** [CMakeFiles/hello.dir/all] Error 2
Makefile:90: recipe for target 'all' failed
make: *** [all] Error 2
</code></pre>
<p>The link is the cmake manual related to QNX
<a href=""https://cmake.org/cmake/help/latest/manual/cmake-toolchains.7.html#id16"" rel=""nofollow noreferrer"">https://cmake.org/cmake/help/latest/manual/cmake-toolchains.7.html#id16</a></p>
<p>I also try
<a href=""https://stackoverflow.com/questions/52948173/cmake-in-qnx-supported-porting-from-linux-to-qnx"">cmake in qnx supported?? Porting from Linux to QNX</a>
but doesn't work, too</p>
<pre><code>cmake_minimum_required(VERSION 3.14)

project(test)

set(CMAKE_SYSTEM_NAME QNX)

set(arch gcc_ntoaarch64le_gpp)
set(ntoarch aarch64le)
set(QNX_PROCESSOR aarch64le)

set(CMAKE_C_COMPILER qcc)
set(CMAKE_C_COMPILER_TARGET ${arch})
set(CMAKE_CXX_COMPILER q++)
set(CMAKE_CXX_COMPILER_TARGET ${arch})

#set(CMAKE_SYSROOT $ENV{QNX_TARGET})

add_executable ( hello src/testhello.cpp )
</code></pre>
",
76567666,Embedded linux distribution builder similar to QNX build scripts,https://stackoverflow.com/questions/76567666/embedded-linux-distribution-builder-similar-to-qnx-build-scripts,0,1687889978,"linux, embedded-linux, yocto, bitbake, qnx","<p>I've been working with yocto linux and recently started working on QNX, where the creation/customization of distribution contents (rootfs) is really simple - basically there is a single script/build file (<a href=""http://www.qnx.com/developers/docs/7.0.0/index.html#com.qnx.doc.neutrino.building/topic/buildfiles/buildfile_syntax.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/7.0.0/index.html#com.qnx.doc.neutrino.building/topic/buildfiles/buildfile_syntax.html</a>) that defines what ends up in final rootfs. This approach is really useful for building simple systems and i was wondering if there is something similar to QNX build scripts for embedded linux distributions? Compared to build scripts, the yocto bitbake scripts are extremely complicated...</p>
",
50471380,Fatal: File system overrun error with mkxfs,https://stackoverflow.com/questions/50471380/fatal-file-system-overrun-error-with-mkxfs,1,1527002815,"qnx, qnx-neutrino, qnx-ifs","<p>I am trying to format image file with mkxfs command on Windows. I am always getting File System overrun error. 
<a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.neutrino.utilities/topic/m/mkxfs.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.neutrino.utilities/topic/m/mkxfs.html</a>
Command executed:</p>

<pre><code>mkxfs.exe -t qnx6fsimg  buildfile  fs build.img
</code></pre>

<p>What does this error mean?</p>
","<p>The error means that the specified size of the image is not large enough to store the contents it is supposed to have.</p>

<p>This usually happens because the total physical size of the contents / entities specified in your ""buildfile"" is more than the size of the ""build.img"" specified in your disk configuration file.</p>
"
76494755,Using QT with custom UI/Graphic subsystem,https://stackoverflow.com/questions/76494755/using-qt-with-custom-ui-graphic-subsystem,0,1686977420,"linux, qt, qnx","<p>We have an custom UI framework which sits over QNX Screen or Linux Weston/wayland framework. This is to bring in platform independent API to application software.
So I wanted to know how/where do I replace QNX screen in QT with our custom library so that for eg. any window creation and etc.. calls will be passed through our custom framework.</p>
",
76407403,UDP recv() API returns 0 when I do SIGINT,https://stackoverflow.com/questions/76407403/udp-recv-api-returns-0-when-i-do-sigint,0,1685974917,"sockets, udp, qnx","<p>I have a simple UDP application, in which I call a blocking <code>recv()</code> API in <code>main()</code>. I have also installed a <code>SIGINT</code> handler, so I can <code>close()</code> the socket.</p>
<p>I have created a thread that simply runs an empty <code>while 1</code> loop, indefinitely.</p>
<p>When I press <kbd>Ctrl+C</kbd> in my application (as it was blocked on <code>recv()</code>), <code>recv()</code> returns <code>0</code> with <code>errno 2</code>.</p>
<p>Now, when I comment out the thread creation part, the behaviour changes, and now when I press <kbd>Ctrl+C</kbd>, <code>recv()</code> returns <code>-1</code> with <code>errno 4</code>.</p>
<p>The newly introduced thread is just an empty <code>while 1</code> loop doing nothing.</p>
<p>What could be the problem here? I don't understand, is it related to signal handling?</p>
",
76061987,Use a USB device on QNX Neutrino,https://stackoverflow.com/questions/76061987/use-a-usb-device-on-qnx-neutrino,0,1681978952,"dll, usb, shared-libraries, qnx, qnx-neutrino","<p><br />
I am trying to use a USB device (mass storage at first and then an OTG device such as a keyboard) on an AX12260 card. QNX Neutrino is the RTOS on which the card is running. I tried to follow <a href=""https://www.qnx.com/developers/docs/6.6.0.update/index.html#com.qnx.doc.neutrino.user_guide/topic/hardware_USB.html"" rel=""nofollow noreferrer"">this guide</a> to be able to read/write on a USB storage but I didn't succeed.
First, the <code>usb -vvv</code> output is null, so I figured I had to start the USB stack. The <code>pci -vvv</code> command tells me that there are two controlers: ohci and ehci. So I proceed to start the stack with <code>io-usb -d ehci</code> (I also tried with ohci option) but it fails: the dll cannot be loaded. The exact output is:</p>
<pre><code>DLL Error Library cannot be found 
FAILED - io_usb_dlopen
unable to load dll devu-ehci.so
</code></pre>
<p>At first I thought that it was a path issue, so I found the path to the file and appended it to the <code>$PATH</code> env var, but it didn't work. I tried <code>ldconfig /lib/dll/devu-ehci.so</code> but the command ldconfig doesn't exist. At this point I don't really know what I'm doing wrong. When I connect to the card with Tera Term, one of the first message is that the file system is in read only, could that be a problem ?<br />
Thank you for your time</p>
",
74238702,QNX - finding an equivalent to command line &#39;tree&#39;,https://stackoverflow.com/questions/74238702/qnx-finding-an-equivalent-to-command-line-tree,1,1666976828,"tree, command, qnx","<p>Tried to find an equivalent to Linux command line 'tree' on QNX.
I found some bash scripts for Linux but fails to run on QNX.
If anyone would know how to ? ... or as a script already running on QNX.</p>
<pre><code>This works -
#!/bin/bash
pwd=$(pwd)
echo Tree of: $pwd
find $pwd -print | sed -e 's;$pwd;\.;g;s;[^/]*\/;|__;g;s;__|; |;g'
#very simple script. REALLY!
echo ‚Äò|__end tree‚Äô
</code></pre>
",
31322348,branching in mkifs script files in QNX,https://stackoverflow.com/questions/31322348/branching-in-mkifs-script-files-in-qnx,0,1436456767,"build, rtos, qnx","<p>Is it possible to add branching in the scripts that are being used to generate the image using the mkifs utility. I'm trying to read a file file and based on its contents branch the execution of the drivers in the script. 
Is such thing possible in the mkifs utility?</p>

<pre><code>[+script] .script = {
    PATH=...
    LD_LIBRARY_PATH=...
    display_msg myBoot
    TESTVAL=`cat /config/test.dat`
    TESTLEN={#TESTVAL}
    if[""$TESTLEN"" = 10]
        #start myDriver1
    else
        #start myDriver2
    ...
    ...
}
</code></pre>

<p>I'm getting an error that ""cat: /config/test.dat: No such file or directory"".</p>

<p>I guess i can create a application which spawns the drivers instead of doing this way. But was just wondering why is this not possible in the current way.</p>
",
75985515,How to build boost library on Linux machine and using in QNX 7.1,https://stackoverflow.com/questions/75985515/how-to-build-boost-library-on-linux-machine-and-using-in-qnx-7-1,1,1681213417,"boost, conan, qnx","<p>I'm trying to build boost library on Linux machine and it can use on QNX7.1.
I used conan package to build boost. The build error log is shown as below:<br/></p>
<pre><code>Cross-build from 'Linux:x86_64' to 'Neutrino:x86_64'
Installing (downloading, building) binaries...
b2/4.9.3: Already installed!
bzip2/1.0.8: Already installed!
libbacktrace/cci.20210118: WARN: Build folder is dirty, removing
checking for gcc... qcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... configure: error: in `/home/user/.conan/data/libbacktrace/cci.20210118/_/_/build/487843ee4e66cda082d78c49de1887320a778ff1/build-debug':
configure: error: cannot run C compiled programs.
If you meant to cross compile, use `--host'.
See `config.log' for more details
libbacktrace/cci.20210118: 
libbacktrace/cci.20210118: ERROR: Package '487843ee4e66cda082d78c49de1887320a778ff1' build failed
libbacktrace/cci.20210118: WARN: Build folder /home/user/.conan/data/libbacktrace/cci.20210118/_/_/build
        '
</code></pre>
<p>I'm using below config:</p>
<pre><code>include(default)
[settings]
os=Neutrino
os.version=7.1
arch=x86_64

compiler=qcc
compiler.libcxx=cxx
compiler.version=8.3

os_build=Linux
arch_build=x86_64
build_type=Debug
[options]
[build_requires]
[env]
CC=qcc
CXX=q++
CONAN_CMAKE_TOOLCHAIN_FILE=/path/to/qnx.cmake
CMAKE_CXX_COMPILER=$QNX_HOST/usr/bin/q++
CMAKE_C_COMPILER=$QNX_HOST/usr/bin/qcc
CXX=$QNX_HOST/usr/bin/q++
LD_LIBRARY_PATH=[$QNX_HOST/usr/lib]
MAKEFLAGS=-I$QNX_TARGET/usr/include
</code></pre>
",
75875224,error: could not convert while compile/Build in QNX with C++ code. Cannot initialize the char file name,https://stackoverflow.com/questions/75875224/error-could-not-convert-while-compile-build-in-qnx-with-c-code-cannot-initia,0,1680081006,"c++11, qnx, momentics, blackberry-qnx","<p>I have the table like this (CONFIG_TABLE) I am trying to initialize the char type using the map.  But unable to build this in QNX : `</p>
<pre><code>            #define FILEPATH_SIZE 256
            #define CONFIG_TABLE \
            {\
            {   FIRSTSOUND, {{&quot;./resources/1A.wave&quot;}}} \
            };

            struct ConfigStructure
            {  
            char filePath[FILEPATH_SIZE];  
            };
            static std::map&lt;Uint16, ConfigStructure&gt; myMap = CONFIG_TABLE
</code></pre>
<p>error: could not convert '{{24576, {&quot;./resources/1A.wave&quot;}}}'   from '' to 'std::__1::map&lt;short unsigned int, himeMgrConfigSt_t&gt;'  };
How to solve the error?
is there any other wave to read it? how to initialize the char path here?</p>
",
75760130,How to compile project with qcc,https://stackoverflow.com/questions/75760130/how-to-compile-project-with-qcc,2,1678990338,"c++, c, opencv, qnx, qcc","<p>I'm on Ubuntu 20.4.6, I try to compile OpenCV using the qcc QNX compiler. In OpenCV build from source instructions they use the following command to generate their build files:</p>
<pre><code>cmake -DCMAKE_BUILD_TYPE=Release \
-DCMAKE_INSTALL_PREFIX=/usr/local \
-DINSTALL_C_EXAMPLES=ON \
-DINSTALL_PYTHON_EXAMPLES=ON \
-DOPENCV_GENERATE_PKGCONFIG=ON \
-DOPENCV_EXTRA_MODULES_PATH=~/opencv_build/opencv_contrib/modules \
-DBUILD_SHARED_LIBS=OFF \
-DBUILD_EXAMPLES=ON ..
</code></pre>
<p>I thought of adding the C compiler and CXX compiler flags (CMake) to indicate to CMake to generate using qcc compiler like so:</p>
<pre><code>cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=qcc -DCMAKE_CXX_COMPILER=qcc \
-DCMAKE_INSTALL_PREFIX=/usr/local \
-DINSTALL_C_EXAMPLES=ON \
-DINSTALL_PYTHON_EXAMPLES=ON \
-DOPENCV_GENERATE_PKGCONFIG=ON \
-DOPENCV_EXTRA_MODULES_PATH=~/opencv_build/opencv_contrib/modules \
-DBUILD_SHARED_LIBS=OFF \
-DBUILD_EXAMPLES=ON ..
</code></pre>
<p>When I try and run the make command, to start the build process, I get many errors and warnings and eventually the build fails. I also tried to use Ninja but same thing happened.</p>
<p>Example erros:</p>
<pre><code>[ 13%] Building CXX object modules/ml/CMakeFiles/opencv_ml.dir/src/gbt.cpp.o
/usr/bin/ld: /home/user/qnx710/target/qnx7/x86_64/lib/libc.so: warning: the use of `pthread_attr_setstackaddr' is deprecated, use `pthread_attr_setstack'
/usr/bin/ld: /home/user/qnx710/target/qnx7/x86_64/lib/libc.so: warning: the use of `pthread_attr_getstackaddr' is deprecated, use `pthread_attr_getstack'
[ 13%] Building CXX object modules/imgproc/CMakeFiles/opencv_imgproc.dir/src/accum.dispatch.cpp.o
/usr/bin/ld: /home/user/qnx710/target/qnx7/x86_64/lib/libc.so: warning: The 'mktemp' function is dangerous. Use 'mkstemp' instead.
/usr/bin/ld: CMakeFiles/opencv_version.dir/opencv_version.cpp.o: undefined reference to symbol '__printf_chk@@GLIBC_2.3.4'
/usr/bin/ld: /lib/x86_64-linux-gnu/libc.so.6: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status
apps/version/CMakeFiles/opencv_version.dir/build.make:103: recipe for target 'bin/opencv_version' failed
make[2]: *** [bin/opencv_version] Error 1
CMakeFiles/Makefile2:19706: recipe for target 'apps/version/CMakeFiles/opencv_version.dir/all' failed
make[1]: *** [apps/version/CMakeFiles/opencv_version.dir/all] Error 2
[ 15%] Built target opencv_imgproc
Makefile:165: recipe for target 'all' failed
make: *** [all] Error 2
</code></pre>
<p>Anyone knows how to use the qcc QNX compiler on a project, or if there are better compatible open source projects out there to be used with qcc?</p>
",
75758606,Zynq Ultrascale (ZU3+) failing SD card init/ident process = &quot;unsupported card inserted&quot;,https://stackoverflow.com/questions/75758606/zynq-ultrascale-zu3-failing-sd-card-init-ident-process-unsupported-card-in,0,1678982025,"sd-card, qnx, zynq-ultrascale+","<p>We have an embedded system that uses a Zynq Ultra Scale (Zu3+) and a microSD card interface.  The Zynq project is setup for 3.3V IO using SD 2.0 standards no level shifters. Our manufacturing process uses the SD card to load QSPI and finalize the card for secure boot process. We have several boards that fail to boot from SD or fail during the SD card driver launch (when booted from QSPI).  We have captured many scope waveforms of the whole initialization and identification process during OS driver launch (as well as during the boot process).  Verified 3.3V startup ramp and SD card signal integrity.  Recently we have enabled verbose flags to the driver to log where it is failing.  Driver is = devb-sdmmc-xzynq 1.00A. OS is QNX although during SD card boot it is the Xilinx boot loader (PMU).</p>
<p>Basically we see CMD0,8,55,41 get sent out and receive a 0xFF8000 response.  This CMD55/41 repeats 500 times while it attempts to change the clock speed and the voltage detection until it eventually times out and says &quot;unsupported card inserted&quot;.  Same card will also work at times.  Makes no difference between a standard SD card or a high speed card.  We have a support ticket into Xilinx but I  have a feeling they are going to say it is not a Xilinx problem.</p>
<p>We do have different designs that do not have this problem (but use a level shifter and full-size SD cards) as well as one that is almost identical (3.3V microSD) also not having the problem. So trying to say we do have experience with the Zynq firmware and in doing layout.  Not sure why these are not also having problems.  We have worked closely with the contract manufacturer to analyze the BGA soldering process as well.</p>
<p>One recent observation is when booting from QSPI, and the driver launch fails to mount the SD card... we can &quot;hot swap&quot; the SD card in and the driver will ~mostly launch successfully.  This lead us to investigate the 3.3V power ramp (~3ms) which is within spec.  Issue is we can't do this during SD card boot which is currently required to program the QSPI and setup the secure boot process.</p>
<p>We have</p>
<ul>
<li>tried various MFG SD cards and types (standard SD and high-speed SD which detect the speed properly [HS versus LS] but still timeout)</li>
<li>Investigated signal integrity on all the SD lines</li>
<li>Investigated init/ident process on cmd/clk waveforms</li>
<li>Verified power supply ramp rates and stability</li>
<li>Supplier did xray verification and &quot;die-and-pry&quot; analysis on BGA connection</li>
<li>Added verbose information on devb-sdmmc-xzynq (to match scope sequence) to see driver response</li>
<li>tweaked UCD power sequence to provide additional POR delay</li>
<li>open and ongoing ticket with Xilinx</li>
<li>fails more often during SD card boot.  May fail during QNX driver launch (only way to get log info)</li>
</ul>
<p>Hoping for some guidance on how to debug this further and any next steps to try.</p>
<p>Here is some info from latest log file (sorry bad formatting):
Jan 01 00:09:50.235       devb_sdmmc_xzynq.1843228                 slog*  1800  devb-sdmmc-xzynq 1.00C (Mar 15 2023 10:15:46)
Jan 01 00:09:50.239       devb_sdmmc_xzynq.1843228                 slog      0  libcam.so (Feb 28 2020 08:43:56) bver 7010001
Jan 01 00:09:50.239       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_pwr: hc-&gt;vdd 0x0 vdd 0x0
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cd:  insertion path 0, cd state 0x1
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_pwr:  vdd 0.0 (0x0)
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_pwr: hc-&gt;vdd 0x0 vdd 0x0
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_pwr:  vdd 3.3 (0x200000)
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_pwr: hc-&gt;vdd 0x0 vdd 0x200000
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_clock:  clk 400000 hc_clk_max: 200000000
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_clock:  setting clock to: 400000
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_clk: clk 400000
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_clk: hc clk max 200000000
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_clk: hc version 2
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_clk: sdhc clk_mul 0
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_clk: 10 bit divided clock mode
Jan 01 00:09:50.241       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_clk: clock divisor 250
Jan 01 00:09:50.245       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_bus_width:  width 1
Jan 01 00:09:50.245       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_timing:  timing LS
Jan 01 00:09:50.245       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_bus_mode:  mode open drain
Jan 01 00:09:50.245       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_signal_voltage:  3.3V
Jan 01 00:09:50.262       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 0, flgs 0x1, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.262       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 0, flgs 0x1, arg 0x0, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.262       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 8, flgs 0x152, arg 0x1aa, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.262       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 8, flgs 0x152, arg 0x1aa, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.262       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 55, flgs 0x151, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.262       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 55, flgs 0x151, arg 0x0, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.262       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 41, flgs 0x812, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 41, flgs 0x812, arg 0x0, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sd_app_send_op_cond: retries 0, status 0 rsp0 0xff8000
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_pwr:  vdd 3.2 (0x100000)
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_pwr: hc-&gt;vdd 0x200000 vdd 0x100000
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sd_init_device: ocrin: 0x100000, flgs: 0x0
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 8, flgs 0x152, arg 0x1aa, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 8, flgs 0x152, arg 0x1aa, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 0, flgs 0x1, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 0, flgs 0x1, arg 0x0, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.263       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 8, flgs 0x152, arg 0x1aa, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.264       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 8, flgs 0x152, arg 0x1aa, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.264       devb_sdmmc_xzynq.1843228                 slog   1800  sd_init_device: sd_app_send_op_cond prep: ocr: 0x40100000
Jan 01 00:09:50.264       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 55, flgs 0x151, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.264       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 55, flgs 0x151, arg 0x0, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.264       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 41, flgs 0x812, arg 0x40100000, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.264       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 41, flgs 0x812, arg 0x40100000, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.264       devb_sdmmc_xzynq.1843228                 slog   1800  sd_app_send_op_cond: status 0, rsp0 0xff8000
Jan 01 00:09:50.275       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 55, flgs 0x151, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.275       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 55, flgs 0x151, arg 0x0, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.275       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 41, flgs 0x812, arg 0x40100000, blks 0, blksz 0, timeout 1000ms
Jan 01 00:09:50.275       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 41, flgs 0x812, arg 0x40100000, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:09:50.275       devb_sdmmc_xzynq.1843228                 slog   1800  sd_app_send_op_cond: status 0, rsp0 0xff8000
...
Jan 01 00:10:13.816       devb_sdmmc_xzynq.1843228                 slog   1800  sd_app_send_op_cond: status 0, rsp0 0xff8000
Jan 01 00:10:13.827       devb_sdmmc_xzynq.1843228                 slog   1800  sd_app_send_op_cond: retries 500, status 0 rsp0 0xff8000
Jan 01 00:10:13.827       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 0, flgs 0x1, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:10:13.827       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 0, flgs 0x1, arg 0x0, blks 0, blksz 0, status SUCCESS (1)
Jan 01 00:10:13.827       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_issue_cmd: CMD 1, flgs 0x12, arg 0x0, blks 0, blksz 0, timeout 1000ms
Jan 01 00:10:13.828       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cmd_cmplt: CMD 1, flgs 0x12, arg 0x0, blks 0, blksz 0, status CMD TO ERR (5)
Jan 01 00:10:13.828       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_pwr:  vdd 0.0 (0x0)
Jan 01 00:10:13.828       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_pwr: hc-&gt;vdd 0x100000 vdd 0x0
Jan 01 00:10:13.829       devb_sdmmc_xzynq.1843228                 slog   1800  sdio_cd:  Unsupported card inserted
Jan 01 00:10:13.829       devb_sdmmc_xzynq.1843228                 slog   1800  sdhci_pwr: hc-&gt;vdd 0x0 vdd 0x0
</p>
",
75729952,Thread with highest priority(255) running too much time on QNX 7.1,https://stackoverflow.com/questions/75729952/thread-with-highest-priority255-running-too-much-time-on-qnx-7-1,1,1678777254,"c++, multithreading, qnx, thread-priority","<p>We have a thread (named <strong>Patie#ty_2TimTh</strong> in the below attachment) with <strong>priority 255</strong> running on <strong>QNX 7.1</strong>. The host is <strong>X86</strong> with <strong>12 CPU Core</strong>. This thread affinity is set to <strong>CPU 7/8/9</strong>, and the maximum CPU partition is 20% (less than 3/12=25%). This thread loops forever to receive pulse event and post <strong>semaphore</strong> to notify work thread. The looping pseudo code lists below:</p>
<pre><code>while (true) {
    MsgReceivePulse();
    ret = sem_getvalue(sem, value);
    if (!((0 == ret) &amp;&amp; (value &gt; 0))) {
        sem_post(sem); // post only value &lt;= 0
    }
}
</code></pre>
<p>The running time of the above code is about <strong>10us</strong>. But we found the running time was nearly <strong>3ms</strong> sometimes, when we used QNX <strong>tracelogger</strong> to catch some events. See the attachment.</p>
<p><a href=""https://i.sstatic.net/wjaII.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/wjaII.jpg"" alt=""enter image description here"" /></a></p>
<p>This thread's events list below:</p>
<pre><code>Event,  Time,        Cycle,       CPU, Owner,                Class,       Type,   Data
696441, 613ms 438us, 0x265209E82, 7, safety Patie#ty_2TimTh, Process and Thread, Running, policy_name FIFO pid 9424945 tid 34 priority 255 policy 1 partition 7 sched_flags 0
696442, 613ms 438us, 0x26520A3C0, 7, safety Patie#ty_2TimTh, Communication, Receive Pulse, scoid 0x10005 pid 9424945 process safety
696443, 613ms 438us, 0x26520A4FA, 7, safety Patie#ty_2TimTh, Kernel Calls, MsgReceivePulsev (64) Exit, rcvid 0x0 rmsg0 0x0 rmsg1 0x0 rmsg2 0x0 info-&gt;nd 0 info-&gt;srcnd 0 info-&gt;pid 0 info-&gt;tid 0 info-&gt;chid 0 info-&gt;scoid 0 info-&gt;msglen 0 info-&gt;srcmsglen 0 info-&gt;dstmsglen 0 info-&gt;priority 0 info-&gt;flags 0 info-&gt;reserved 0
696885, 613ms 762us, 0x265306EF0, 7, safety Patie#ty_2TimTh, System, IPI (64), ipicmd 0x20 CHECK_INTR ipi 0x257f781317 tid 34 pid 9424945 process safety
696903, 613ms 777us, 0x2653128D0, 7, safety Patie#ty_2TimTh, Process and Thread, Running, policy_name FIFO pid 9424945 tid 34 priority 255 policy 1 partition 7 sched_flags 0
698114, 614ms 762us, 0x265612411, 7, safety Patie#ty_2TimTh, System, IPI (64), ipicmd 0x20 CHECK_INTR ipi 0x257f781317 tid 34 pid 9424945 process safety
698134, 614ms 781us, 0x265620D94, 7, safety Patie#ty_2TimTh, Process and Thread, Running, policy_name FIFO pid 9424945 tid 34 priority 255 policy 1 partition 7 sched_flags 0
698691, 615ms 181us, 0x26575868B, 7, safety Patie#ty_2TimTh, Kernel Calls, SyncSemPost (64) Enter, sync_ptr 0x1e3b814a7c count 0 owner 0xfffffffc
698693, 615ms 183us, 0x26575A3DE, 7, safety Patie#ty_2TimTh, Kernel Calls, SyncSemPost Exit, ret_val 0x0
699423, 615ms 763us, 0x26591DC0B, 7, safety Patie#ty_2TimTh, System, IPI (64), ipicmd 0x20 CHECK_INTR ipi 0x257f7810ed tid 34 pid 9424945 process safety
699451, 615ms 786us, 0x26592FE48, 7, safety Patie#ty_2TimTh, Process and Thread, Running, policy_name FIFO pid 9424945 tid 34 priority 255 policy 1 partition 7 sched_flags 0
699846, 616ms 99us, 0x265A23AE1, 7, safety Patie#ty_2TimTh, Kernel Calls, MsgReceivePulsev (64) Enter, chid 0x9 rparts 1
</code></pre>
<p>From the attachment, we found this thread is always running(<strong>yellow bar</strong>) and there are many Control events, such as.</p>
<pre><code>696454, 613ms 446us, 0x265210A7F, 1, , Control Events, Buffer, sequence_number 6216609 event_count 0
696455, 613ms 447us, 0x2652112FE, 1, , Control Events, Time, msb 0x174d lsb 0x652112fe
696459, 613ms 451us, 0x265214063, 9, , Control Events, Time, msb 0x174d lsb 0x65214063
</code></pre>
<p>So why is this thread with <strong>highest priority</strong> running so long? Is it because <strong>tracelogger</strong> is running or <strong>aps</strong> partition has exceed 20% and kernel limits this thread's running time?
Thanks very much.</p>
",
75056300,Changing global variables does not take effect when multithreading on QNX,https://stackoverflow.com/questions/75056300/changing-global-variables-does-not-take-effect-when-multithreading-on-qnx,0,1673261927,"c++, c, qnx","<p>I change a global variable in one thread, and the change will not take effect in another thread if I do not print it</p>
<p>Here's the codeÔºö</p>
<pre><code>pthread_t thread_test[2];
bool test=true;

void* test1(void*)
{
    while(1)
    {
        //printf(&quot;test: %d\n&quot;,test);
        if(test)
            continue;
    
        printf(&quot;test test test\n&quot;);
        usleep(500000);
    }
}

void* test2(void*)
{
    int i=0;
    while(i&lt;5)
    {
        printf(&quot;i: %d\n&quot;,i++);
        sleep(1);
    }
    test=false;
    return NULL;
}

int main()
{
    pthread_create(&amp;thread_test[0], NULL, &amp;test1, (void *)NULL);
    pthread_create(&amp;thread_test[1], NULL, &amp;test2, (void *)NULL);
    pthread_join(thread_test[0],NULL);

    return 0;
}
</code></pre>
<p>If the line printf(&quot;test: %d\n&quot;,test); is commented out.Then the change of test in test2 will not take effect in test1.</p>
<p>The run results are shown in below:
<a href=""https://i.sstatic.net/NHkSb.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>if don't commented out it:
<a href=""https://i.sstatic.net/PrK4r.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>This has troubled me for a long time. Wish someone please answer it.</p>
",
39872747,Why just one serial(/dev/ser1) I can find on Beaglebone Black which running QNX,https://stackoverflow.com/questions/39872747/why-just-one-serial-dev-ser1-i-can-find-on-beaglebone-black-which-running-qnx,0,1475666883,"beagleboneblack, qnx","<p>My Beaglebone Black can find 5 serial devices under Linux, but after I make it boot into QNX, just one serial device can found. I wonder if the QNX serial driver for BBB just support 1 serial or have some ways to setup for supporting more serials.</p>

<p>The QNX bsp version is 6.5.0, I download it form <a href=""http://community.qnx.com/sf/wiki/do/viewPage/projects.bsp/wiki/TiAm335Beaglebone"" rel=""nofollow noreferrer"">Foundry27</a>. There is a higher version 6.6.0 and I tested it, the result is same.</p>

<p>The following is a list of files under <code>/dev</code> directory:</p>

<p><img src=""https://i.sstatic.net/Awkni.png"" alt=""files""></p>

<p>Thanks in advance !</p>
","<blockquote>
  <p>Start devc-ser8250 with five ports (the last four preset to 38400
  baud):</p>

<pre><code>devc-ser8250 3f8,4 -b 38400 280,3 288,3 290,3 298,3 &amp;
</code></pre>
</blockquote>

<p>It is from <a href=""http://www.qnx.com/developers/docs/660/index.jsp?topic=%2Fcom.qnx.doc.neutrino.user_guide%2Ftopic%2Ffsystems_NFS.html&amp;resultof=%22mount%22%20%22remote%22%20%22filesystem%22"" rel=""nofollow"">QNX 6.6.0 documentation</a></p>
"
70447142,cmake cross-compile QT6 for QNX fails detecting QNX libraries,https://stackoverflow.com/questions/70447142/cmake-cross-compile-qt6-for-qnx-fails-detecting-qnx-libraries,0,1640166702,"qt, cmake, cross-compiling, qnx","<p>I followed <a href=""https://doc.qt.io/qt-6/building-qt-for-qnx.html"" rel=""nofollow noreferrer"">https://doc.qt.io/qt-6/building-qt-for-qnx.html</a> to cross-compile QT 6.2.2 for QNX710 aarch64le on Windows, but doubt that I'm doing it right.</p>
<p>It seems the parameters for QNX are not picked up correctly. It can't find target includes and target libraries.</p>
<p>QNX is installed to my User folder in qnx710.</p>
<p>My toolchain file:</p>
<pre><code>set(CMAKE_SYSTEM_NAME QNX)

set(arch gcc_ntoaarch64le)

set(CMAKE_C_COMPILER qcc)
set(CMAKE_C_COMPILER_TARGET ${arch})
set(CMAKE_CXX_COMPILER q++)
set(CMAKE_CXX_COMPILER_TARGET ${arch})

set(CMAKE_SYSROOT $ENV{QNX_TARGET})
</code></pre>
<p>The cmake configuration call (from C:\Work\External\qt_build):</p>
<pre><code>cmake -GNinja -DCMAKE_TOOLCHAIN_FILE=C:\Work\qnx.cmake -DQT_HOST_PATH=C:\Qt\6.2.2\mingw_64 -DCMAKE_INSTALL_PREFIX=/usr/local/Qt-6.2.2 C:\Qt\6.2.2\Src
</code></pre>
<p>Console output:</p>
<pre><code>Checking dependencies of 'qtbase'
Checking dependencies of 'qtshadertools'
Checking dependencies of 'qtsvg'
Checking dependencies of 'qtimageformats'
Checking dependencies of 'qtdeclarative'
Checking dependencies of 'qt3d'
Checking dependencies of 'qt5compat'
Checking dependencies of 'qtactiveqt'
Checking dependencies of 'qtmultimedia'
Checking dependencies of 'qtcharts'
Checking dependencies of 'qtcoap'
Checking dependencies of 'qtconnectivity'
Checking dependencies of 'qtdatavis3d'
Checking dependencies of 'qttools'
Checking dependencies of 'qtdoc'
Checking dependencies of 'qtlottie'
Checking dependencies of 'qtmqtt'
Checking dependencies of 'qtnetworkauth'
Checking dependencies of 'qtopcua'
Checking dependencies of 'qtserialport'
Checking dependencies of 'qtpositioning'
Checking dependencies of 'qtquicktimeline'
Checking dependencies of 'qtquick3d'
Checking dependencies of 'qtremoteobjects'
Checking dependencies of 'qtscxml'
Checking dependencies of 'qtsensors'
Checking dependencies of 'qtserialbus'
Checking dependencies of 'qttranslations'
Checking dependencies of 'qtvirtualkeyboard'
Checking dependencies of 'qtwayland'
Checking dependencies of 'qtwebsockets'
Checking dependencies of 'qtwebchannel'
Checking dependencies of 'qtwebengine'
Checking dependencies of 'qtwebview'
Configuring 'qtbase'
-- Check for feature set changes
    'qtwebengine_build' is changed from OFF to ON
    'qtwebengine_core_build' is changed from OFF to ON
    'qtwebengine_widgets_build' is changed from OFF to ON
    'qtwebengine_quick_build' is changed from OFF to ON
CMake Warning at qtbase/cmake/QtSetup.cmake:265 (message):
  Re-configuring in existing build folder.  Some features will be
  re-evaluated automatically.
Call Stack (most recent call first):
  qtbase/cmake/QtBuildInternals/QtBuildInternalsConfig.cmake:229 (include)
  qtbase/cmake/QtBuildInternals/QtBuildInternalsConfig.cmake:372 (qt_build_internals_set_up_private_api)
  qtbase/CMakeLists.txt:91 (qt_build_repo_begin)


-- Building architecture extraction project with the following CMake arguments:
    -DCMAKE_OBJCOPY=C:/Qt/Tools/mingw900_64/bin/objcopy.exe
    -DCMAKE_TOOLCHAIN_FILE=C:\Work\qnx.nto.toolchain.cmake
    -DCMAKE_C_STANDARD=11
    -DCMAKE_CXX_STANDARD=17
    -DCMAKE_MODULE_PATH:STRING=C:/Qt/6.2.2/Src/qtbase/cmake/platforms
-- Extracting architecture info from C:/Work/External/qt_build/qtbase/config.tests/arch/architecture_test.
-- CMAKE_VERSION: &quot;3.22.0&quot;
-- CMAKE_HOST_SYSTEM: &quot;Windows-10.0.19044&quot;
-- CMAKE_HOST_SYSTEM_NAME: &quot;Windows&quot;
-- CMAKE_HOST_SYSTEM_VERSION: &quot;10.0.19044&quot;
-- CMAKE_HOST_SYSTEM_PROCESSOR: &quot;AMD64&quot;
-- CMAKE_SYSTEM: &quot;QNX&quot;
-- CMAKE_SYSTEM_NAME: &quot;QNX&quot;
-- CMAKE_SYSTEM_VERSION: &quot;&quot;
-- CMAKE_SYSTEM_PROCESSOR: &quot;&quot;
-- CMAKE_CROSSCOMPILING: &quot;TRUE&quot;
-- CMAKE_C_COMPILER: &quot;C:/Users/Werner.pirkl/qnx710/host/win64/x86_64/usr/bin/qcc.exe&quot; (8.3.0)
-- CMAKE_CXX_COMPILER: &quot;C:/Users/Werner.pirkl/qnx710/host/win64/x86_64/usr/bin/q++.exe&quot; (8.3.0)
-- Could NOT find ZSTD: Found unsuitable version &quot;&quot;, but required is at least &quot;1.3&quot; (found ZSTD_LIBRARY-NOTFOUND)
-- Could NOT find WrapDBus1 (missing: DBus1_LIBRARY DBus1_INCLUDE_DIR WrapDBus1_FOUND) (Required is at least version &quot;1.2&quot;)
-- Could NOT find Backtrace (missing: Backtrace_LIBRARY)
-- Could NOT find double-conversion (missing: double-conversion_DIR)
-- Could NOT find WrapDoubleConversion (missing: WrapDoubleConversion_FOUND)
-- Could NOT find GLIB2 (missing: GLIB2_LIBRARIES GTHREAD2_LIBRARIES GLIB2_INCLUDE_DIRS)
-- Found the following ICU libraries:
--   i18n (required)
--   uc (required)
--   data (required)
-- Failed to find all ICU components (missing: ICU_LIBRARY) (found version &quot;67.1&quot;)
-- Could NOT find Libb2 (missing: LIBB2_LIBRARY LIBB2_INCLUDE_DIR)
-- Could NOT find LTTngUST (missing: LTTNGUST_LIBRARIES LTTNGUST_INCLUDE_DIRS)
-- Could NOT find WrapSystemPCRE2 (missing: PCRE2_LIBRARIES PCRE2_INCLUDE_DIRS __pcre2_found) (Required is at least version &quot;10.20&quot;)
-- Could NOT find PPS (missing: PPS_LIBRARY)
-- Could NOT find Slog2 (missing: Slog2_LIBRARY)
-- Could NOT find WrapBrotli (missing: BrotliDec_FOUND BrotliEnc_FOUND BrotliCommon_FOUND)
-- Could NOT find GSSAPI (missing: GSSAPI_LIBRARIES GSSAPI_INCLUDE_DIRS)
-- Could NOT find Libdrm (missing: Libdrm_LIBRARY)
-- Could NOT find EGL (missing: HAVE_EGL EGL_LIBRARY) (found version &quot;1.5&quot;)
-- Could NOT find gbm (missing: gbm_LIBRARY gbm_INCLUDE_DIR)
-- Could NOT find Libinput (missing: Libinput_LIBRARY Libinput_INCLUDE_DIR)
-- Could NOT find md4c (missing: md4c_DIR)
-- Could NOT find OpenGL (missing: OPENGL_opengl_LIBRARY OPENGL_glx_LIBRARY OPENGL_INCLUDE_DIR)
-- Could NOT find WrapOpenGL (missing: WrapOpenGL_FOUND)
-- Could NOT find EGL (missing: HAVE_EGL EGL_LIBRARY) (found version &quot;1.5&quot;)
-- Could NOT find GLESv2 (missing: GLESv2_LIBRARY HAVE_GLESv2 HAVE_GLESv2)
-- Could NOT find WrapVulkanHeaders (missing: Vulkan_INCLUDE_DIR)
-- Searching for tool 'Qt6::moc' in package Qt6CoreTools.
-- Qt6::moc was found at C:/Qt/6.2.2/mingw_64/./bin/moc.exe using package Qt6CoreTools.
-- Tool 'Qt6::rcc' was found at C:/Qt/6.2.2/mingw_64/./bin/rcc.exe.
-- Tool 'Qt6::tracegen' was found at C:/Qt/6.2.2/mingw_64/./bin/tracegen.exe.
-- Tool 'Qt6::cmake_automoc_parser' was found at C:/Qt/6.2.2/mingw_64/./bin/cmake_automoc_parser.exe.
-- Using Qt bundled PCRE2.
-- Using source syncqt found at: C:/Qt/6.2.2/Src/qtbase/libexec/syncqt.pl
-- Running syncqt for module: 'QtCore'
-- Could NOT find Backtrace (missing: Backtrace_LIBRARY)
-- Could NOT find double-conversion (missing: double-conversion_DIR)
-- Could NOT find WrapDoubleConversion (missing: WrapDoubleConversion_FOUND)
-- Could NOT find GLIB2 (missing: GLIB2_LIBRARIES GTHREAD2_LIBRARIES GLIB2_INCLUDE_DIRS)
-- Found the following ICU libraries:
--   i18n (required)
--   uc (required)
--   data (required)
-- Failed to find all ICU components (missing: ICU_LIBRARY) (found version &quot;67.1&quot;)
-- Could NOT find Libb2 (missing: LIBB2_LIBRARY LIBB2_INCLUDE_DIR)
-- Could NOT find LTTngUST (missing: LTTNGUST_LIBRARIES LTTNGUST_INCLUDE_DIRS)
-- Could NOT find WrapSystemPCRE2 (missing: PCRE2_LIBRARIES PCRE2_INCLUDE_DIRS __pcre2_found) (Required is at least version &quot;10.20&quot;)
-- Could NOT find PPS (missing: PPS_LIBRARY)
-- Could NOT find Slog2 (missing: Slog2_LIBRARY)
CMake Warning at qtbase/cmake/QtRpathHelpers.cmake:26 (message):
  No known RPATH_REL_BASE for target platform.
</code></pre>
<pre><code>Configure summary:

Building for: qnx-aarch64le-qcc (arm64, CPU features: neon)
Compiler: rim_qcc 8.3.0
Build options:
  Mode ................................... release
  Optimize release build for size ........ no
  Fully optimize release builds (-O3) .... no
  Building shared libraries .............. yes
  Using C standard ....................... C11
  Using C++ standard ..................... C++17
  Using ccache ........................... no
  Relocatable ............................ yes
  Using precompiled headers .............. yes
  Using LTCG ............................. no
  Target compiler supports:
    NEON ................................. yes
  Sanitizers:
    Addresses ............................ no
    Threads .............................. no
    Memory ............................... no
    Fuzzer (instrumentation only) ........ no
    Undefined ............................ no
  Build parts ............................ libs
Qt modules and options:
  Qt Concurrent .......................... yes
  Qt D-Bus ............................... yes
  Qt D-Bus directly linked to libdbus .... no
  Qt Gui ................................. yes
  Qt Network ............................. yes
  Qt Sql ................................. yes
  Qt Testlib ............................. yes
  Qt Widgets ............................. yes
  Qt Xml ................................. yes
Support enabled for:
  Using pkg-config ....................... no
  udev ................................... no
  Using system zlib ...................... yes
  Zstandard support ...................... no
Qt Core:
  DoubleConversion ....................... yes
    Using system DoubleConversion ........ no
  GLib ................................... no
  ICU .................................... no
  Using system libb2 ..................... no
  Built-in copy of the MIME database ..... yes
  Tracing backend ........................ &lt;none&gt;
  Logging backends:
    journald ............................. no
    syslog ............................... no
    slog2 ................................ no
  PPS .................................... no
  PCRE2 .................................. yes
    Using system PCRE2 ................... no
Qt Sql:
  SQL item models ........................ yes
Qt Network:
  getifaddrs() ........................... no
  IPv6 ifname ............................ no
  libproxy ............................... no
  OpenSSL ................................ yes
    Qt directly linked to OpenSSL ........ no
  OpenSSL 1.1 ............................ yes
  DTLS ................................... yes
  OCSP-stapling .......................... yes
  SCTP ................................... no
  Use system proxies ..................... yes
  GSSAPI ................................. no
  Brotli Decompression Support ........... no
Qt Gui:
  Accessibility .......................... yes
  FreeType ............................... yes
    Using system FreeType ................ yes
  HarfBuzz ............................... yes
    Using system HarfBuzz ................ yes
  Fontconfig ............................. yes
  Image formats:
    GIF .................................. yes
    ICO .................................. yes
    JPEG ................................. yes
      Using system libjpeg ............... yes
    PNG .................................. yes
      Using system libpng ................ yes
  Text formats:
    HtmlParser ........................... yes
    CssParser ............................ yes
    OdfWriter ............................ yes
    MarkdownReader ....................... yes
      Using system libmd4c ............... no
    MarkdownWriter ....................... yes
  EGL .................................... no
  OpenVG ................................. no
  OpenGL:
    Desktop OpenGL ....................... no
    OpenGL ES 2.0 ........................ no
    OpenGL ES 3.0 ........................ no
    OpenGL ES 3.1 ........................ no
    OpenGL ES 3.2 ........................ no
  Vulkan ................................. no
  Session Management ..................... yes
Features used by QPA backends:
  evdev .................................. no
  libinput ............................... no
  INTEGRITY HID .......................... no
  mtdev .................................. no
  tslib .................................. no
  xkbcommon .............................. no
  X11 specific:
    XLib ................................. no
    XCB Xlib ............................. no
    EGL on X11 ........................... no
    xkbcommon-x11 ........................ no
QPA backends:
  DirectFB ............................... no
  EGLFS .................................. no
  EGLFS details:
    EGLFS OpenWFD ........................ no
    EGLFS i.Mx6 .......................... no
    EGLFS i.Mx6 Wayland .................. no
    EGLFS RCAR ........................... no
    EGLFS EGLDevice ...................... no
    EGLFS GBM ............................ no
    EGLFS VSP2 ........................... no
    EGLFS Mali ........................... no
    EGLFS Raspberry Pi ................... no
    EGLFS X11 ............................ no
  LinuxFB ................................ no
  VNC .................................... yes
  QNX:
    lgmon ................................ no
    IMF .................................. no
  XCB:
    Using system-provided xcb-xinput ..... no
    Native painting (experimental) ....... no
    GL integrations:
      GLX Plugin ......................... no
        XCB GLX .......................... no
      EGL-X11 Plugin ..................... no
  Windows:
    Direct 2D ............................ no
    Direct 2D 1.1 ........................ no
    DirectWrite .......................... no
    DirectWrite 3 ........................ no
Qt Widgets:
  GTK+ ................................... no
  Styles ................................. Fusion Windows
Qt Testlib:
  Tester for item models ................. yes
Qt PrintSupport:
  CUPS ................................... no
Qt Sql Drivers:
  DB2 (IBM) .............................. no
  InterBase .............................. no
  MySql .................................. no
  OCI (Oracle) ........................... no
  ODBC ................................... no
  PostgreSQL ............................. yes
  SQLite ................................. yes
    Using system provided SQLite ......... no
Qt 5 Compatibility Libraries:
  iconv .................................. no
Qt QML:
  QML network support .................... yes
  QML debugging and profiling support .... yes
  QML just-in-time compiler .............. yes
  QML sequence object .................... yes
  QML XML http request ................... yes
  QML Locale ............................. yes
Qt QML Models:
  QML list model ......................... yes
  QML delegate model ..................... yes
Qt Quick:
  AnimatedImage item ..................... yes
  Canvas item ............................ yes
  Support for Qt Quick Designer .......... yes
  Flipable item .......................... yes
  GridView item .......................... yes
  ListView item .......................... yes
  TableView item ......................... yes
  Path support ........................... yes
  PathView item .......................... yes
  Positioner items ....................... yes
  Repeater item .......................... yes
  ShaderEffect item ...................... yes
  Sprite item ............................ yes
Qt Tools:
  Qt Assistant ........................... yes
  QDoc ................................... no
  Clang-based lupdate parser ............. no
  Qt Designer ............................ yes
  Qt Distance Field Generator ............ yes
  kmap2qmap .............................. yes
  Qt Linguist ............................ yes
  Mac Deployment Tool .................... no
  pixeltool .............................. yes
  qdbus .................................. yes
  qev .................................... yes
  Qt Attributions Scanner ................ yes
  qtdiag ................................. yes
  qtpaths ................................ yes
  qtplugininfo ........................... yes
  Windows deployment tool ................ no
Qt Quick Templates 2:
  Hover support .......................... yes
  Multi-touch support .................... yes
Qt Quick Controls 2:
  Styles ................................. Basic Fusion Imagine Material Universal macOS Windows

WARNING: QDoc will not be compiled, probably because libclang could not be located. This means that you cannot build the Qt documentation.
Either set CMAKE_PREFIX_PATH or LLVM_INSTALL_DIR to the location of your llvm installation.
On Linux systems, you may be able to install libclang by installing the libclang-dev or libclang-devel package, depending on your distribution.
On macOS, you can use Homebrew's llvm package.
You will also need to set the FEATURE_clang CMake variable to ON to re-evaluate this check.
WARNING: Clang-based lupdate parser will not be available. LLVM and Clang C++ libraries have not been found.
You will need to set the FEATURE_clangcpp CMake variable to ON to re-evaluate this check.

ERROR: The OpenGL functionality tests failed!  You might need to modify the include and library search paths by editing QMAKE_INCDIR_OPENGL[_ES2], QMAKE_LIBDIR_OPENGL[_ES2] and QMAKE_LIBS_OPENGL[_ES2] in the mkspec for your platform.

CMake Error at qtbase/cmake/QtBuildInformation.cmake:72 (message):
  Check the configuration messages for an error that has occurred.
Call Stack (most recent call first):
  qtbase/cmake/QtBuildInformation.cmake:10 (qt_configure_print_summary)
  CMakeLists.txt:87 (qt_print_feature_summary)


-- Configuring incomplete, errors occurred!
See also &quot;C:/Work/External/qt_build/CMakeFiles/CMakeOutput.log&quot;.
See also &quot;C:/Work/External/qt_build/CMakeFiles/CMakeError.log&quot;.
</code></pre>
<p>CMakeOutput.log:</p>
<pre><code>The target system is: QNX -  - 
The host system is: Windows - 10.0.19044 - AMD64
Compiling the CXX compiler identification source file &quot;CMakeCXXCompilerId.cpp&quot; succeeded.
Compiler: C:/Users/Werner.pirkl/qnx710/host/win64/x86_64/usr/bin/q++.exe 
Build flags: 
Id flags:  

The output was:
0


Compilation of the CXX compiler identification source &quot;CMakeCXXCompilerId.cpp&quot; produced &quot;a.out&quot;

The CXX compiler identification is GNU, found in &quot;C:/Work/External/qt_build/CMakeFiles/3.22.0/CompilerIdCXX/a.out&quot;

Compiling the C compiler identification source file &quot;CMakeCCompilerId.c&quot; succeeded.
Compiler: C:/Users/Werner.pirkl/qnx710/host/win64/x86_64/usr/bin/qcc.exe 
Build flags: 
Id flags:  

The output was:
0
</code></pre>
",
74795998,Is there any method for integrating OpenGLES and OpenWFD API?,https://stackoverflow.com/questions/74795998/is-there-any-method-for-integrating-opengles-and-openwfd-api,0,1671009721,"image-processing, graphics, opengl-es, qnx, egl","<p>I am developing an C++ application on QNX 7.0. In the application, I want to render a basic cube via OpenGL ES 3 and display it using OpenWFD API. For QNX, native windowing system is provided via screen API, however, in my case, I am not able to use it. I have access to OpenWFD API and can display content on my screen. I can also draw a cube via OpenGLES. However, I cannot find an efficienty way to pass the OpenGLES rendering output to OpenWFD api for displaying the rendered content.</p>
<p>Is there any way for this kind of architecture to work?</p>
<p>Up to now, I tried some methods listed below:</p>
<ol>
<li><p>I created an  EGLImage via OpenWFD API ( wfdCreateWFDEGLImages(...) ), then feed the EGLImageHandle to OpenGLES as Renderbuffer storage using glEGLImageTargetRenderbufferStorageOES(...) funtion. However, it returns GL_INVALID_OPERATION.</p>
</li>
<li><p>I created a framebuffer and renderbuffer(for off-screen rendering in OpenGLES), create an EGLImage from renderbuffer using EGL API ( eglCreateImage(...) ). Then try to create WFDSource from this EGLImage to be able to bind it to WFD Pipeline. However, wfdCreateSourceFromImage(...) function returns NULL for WFDSource.</p>
</li>
<li><p>I tried to create a wfdwindow using the following struct definitions, and try to create an EGL surface by using this wfdWindow. However, eglCreateWindowSurface(...) gives error and does not accept the wfdWindow I provided.</p>
<pre><code>typedef struct wfd_buffer {  
    WFD_EGLImageType*   image;  
    WFDSource           source;  
} wfd_buffer_t;  

typedef struct wfd_window {  
    WFDDevice       dev;  
    WFDPort         port;  
    WFDPipeline     pipeline;  
    unsigned int    numBuffers;  
    wfd_buffer_t    buffers[MAX_NUM_OF_WFD_BUFFERS];  
} wfd_window_t; 
</code></pre>
</li>
<li><p>I tried to query wfd devices via EGL API ( eglQueryDevicesEXT(..) ), however this extension is not available for me to use.</p>
</li>
</ol>
",
75004824,Why is my program with pthreads taking longer than the sequential one,https://stackoverflow.com/questions/75004824/why-is-my-program-with-pthreads-taking-longer-than-the-sequential-one,-1,1672832100,"c, multithreading, pthreads, posix, qnx","<p>I'm relatively new to multithread programming. I wrote a program which is calculating the squares from 0 - 10000 and saving them into an array. The sequential program is running much faster than the parallel. In my parallel program I have divided  the loop into 8 threads (my machine has 8 cores) but it is much slower! Anyone an idea why this is the case? I have added the screenshots of the execution times.</p>
<pre><code>/*Here is the normal program:*/

#define ARRAYSIZE 10000

int main(void) {

    int array[ARRAYSIZE];

    int i;

    for (i=0; i&lt;ARRAYSIZE; i++)
    {
        array[i]=i*i;
    }

    return 0;
}
</code></pre>
<p><a href=""https://i.sstatic.net/KMq3n.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/KMq3n.jpg"" alt=""enter image description here"" /></a></p>
<pre><code>/*Here is the parallelized calculation. Used from http://ramcdougal.com/threads.html*/

#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;

#define ARRAYSIZE 10000
#define NUMTHREADS 8  /*Cause have 8 core on my machine*/

struct ThreadData {
    int start;
    int stop;
    int* array;
};

void* squarer (struct ThreadData* td);

/* puts i^2 into array positions i=start to stop-1 */
void* squarer (struct ThreadData* td)
{
    struct ThreadData* data = (struct ThreadData*) td;
    int start=data-&gt;start;
    int stop=data-&gt;stop;
    int* array=data-&gt;array;
    int i;
    for(i= start; i&lt;stop; i++)
    {
        array[i]=i*i;
    }

    return NULL;
}

int main(void) {

int array[ARRAYSIZE];
pthread_t thread[NUMTHREADS];
struct ThreadData data[NUMTHREADS];
int i;

int tasksPerThread= (ARRAYSIZE + NUMTHREADS - 1)/ NUMTHREADS;

/* Divide work for threads, prepare parameters */
/* This means in my example I divide the loop into 8 regions: 0 ..1250,1250 .. 2500 etc., 2500 .. 3750 */

for(i=0; i&lt;NUMTHREADS;i++)
{
    data[i].start=i*tasksPerThread;
    data[i].stop=(i+1)*tasksPerThread;
    data[i].array=array;

    data[NUMTHREADS-1].stop=ARRAYSIZE;
}

for(i=0; i&lt;NUMTHREADS;i++)
{
    pthread_create(&amp;thread[i], NULL, squarer, &amp;data[i]);
}

for(i=0; i&lt;NUMTHREADS;i++)
{
    pthread_join(thread[i], NULL);
}

return 0;
}
</code></pre>
<p><a href=""https://i.sstatic.net/3AcVB.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/3AcVB.jpg"" alt=""enter image description here"" /></a></p>
","<p>You want to have a garden party. In preparation, you must move 8 chairs from the house into the garden. You call a moving company and ask them to send 8 movers. They arrive from across town and quickly complete the task, one chair each. The 8 movers drive back to the other end of the town. When they return, they call you and tell you that the task has been completed.</p>
<p>Question: Would the whole process have gone faster if you had moved the 8 chairs yourself?</p>
<p>Answer: Yes, the actual task (moving 8 chairs a short distance) is far too small to involve a moving company. The time spent on transport back and forth far exceeds the time spent on the task itself.</p>
<p>The example above is similar to what your code does.</p>
<p>Starting 8 threads is equivalent to driving from the other end of town to your house.</p>
<p>Stopping 8 threads is equivalent to returning back.</p>
<p>There is far too much wasted time compared to the size of the task to be solved.</p>
<p>Lesson: Only use multi-threading when the task is sufficiently big.</p>
<p>So for your test, you should increase <code>ARRAYSIZE</code> (a lot). Further, you have to add some code that prevents the compiler from doing optimizations that bypass the array assignments.</p>
<p>Try the code below (It's OPs code with a few changes).</p>
<p><strong>Single thread</strong></p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define ARRAYSIZE 1000000000
unsigned array[ARRAYSIZE];


int main(void) {

    unsigned i;

    for (i=0; i&lt;ARRAYSIZE; i++)
    {
        array[i]=i*i;
    }

    srand(time(NULL));
    return array[rand() % ARRAYSIZE] &gt; 10000;
}
</code></pre>
<p>My result: 1.169 s</p>
<p><strong>Multi thread</strong></p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;pthread.h&gt;

#define ARRAYSIZE 1000000000
unsigned array[ARRAYSIZE];
#define NUMTHREADS 8  /*Cause have 8 core on my machine*/

struct ThreadData {
    unsigned start;
    unsigned stop;
    unsigned* array;
};


/* puts i^2 into array positions i=start to stop-1 */
void* squarer (void* td)
{
    struct ThreadData* data = (struct ThreadData*) td;
    unsigned start=data-&gt;start;
    unsigned stop=data-&gt;stop;
    unsigned* array=data-&gt;array;
    unsigned i;
    for(i= start; i&lt;stop; i++)
    {
        array[i]=i*i;
    }

    return NULL;
}

int main(void) {
  pthread_t thread[NUMTHREADS];
  struct ThreadData data[NUMTHREADS];
  int i;

  int tasksPerThread= (ARRAYSIZE + NUMTHREADS - 1)/ NUMTHREADS;

/* Divide work for threads, prepare parameters */
/* This means in my example I divide the loop into 8 regions: 0 ..1250,1250 .. 2500 etc., 2500 .. 3750 */

  for(i=0; i&lt;NUMTHREADS;i++)
  {
    data[i].start=i*tasksPerThread;
    data[i].stop=(i+1)*tasksPerThread;
    data[i].array=array;

    data[NUMTHREADS-1].stop=ARRAYSIZE;
  }

  for(i=0; i&lt;NUMTHREADS;i++)
  {
    pthread_create(&amp;thread[i], NULL, squarer, &amp;data[i]);
  }

  for(i=0; i&lt;NUMTHREADS;i++)
  {
    pthread_join(thread[i], NULL);
  }

  srand(time(NULL));
  return array[rand() % ARRAYSIZE] &gt; 10000;
}
</code></pre>
<p>My result: 0.192 s</p>
"
72357294,Is there any way to know which processes are running on which core in QNX,https://stackoverflow.com/questions/72357294/is-there-any-way-to-know-which-processes-are-running-on-which-core-in-qnx,0,1653367339,"multiprocessing, multicore, qnx, qnx-neutrino","<p>My system is running with QNX6.5 and it has 4 cpu cores. But I don't know which and all processes are running in each core. Is there any way to know in detail.
Thanks in advance</p>
",
74570683,"Use pthread_cancel in QNX system has a memory leak, but it does not exist on the Linux system",https://stackoverflow.com/questions/74570683/use-pthread-cancel-in-qnx-system-has-a-memory-leak-but-it-does-not-exist-on-the,1,1669368715,"c++, linux, pthreads, qnx","<p>I have a code, main thread create 2 thread(thread_1 and thread_2), I use pthread_cancel to cancel thread_1 in thread_2, but the data that I create in thread_1 will not be destructored when I run it in QNX system, but there is no problem in Linux system.</p>
<p>It my test code, when I run it in QNX systemÔºåMyClass and MyClass2 object destructor not be called, so the 100M memory will leak; but run it in Linux systemÔºåit will call MyClass and MyClass2 object destructor. why is there such a difference???</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;pthread.h&gt;
#include &lt;thread&gt;

using namespace std;

pthread_t thread_id_1;
pthread_t thread_id_2;

class MyClass2
{
public:
    MyClass2() {
        cout &lt;&lt; &quot;Build MyClass2&quot; &lt;&lt; endl;
    }
    ~MyClass2() {
        cout &lt;&lt; &quot;Destory MyClass2&quot; &lt;&lt; endl;
    }
};

class MyClass
{
public:
    MyClass() {
        cout &lt;&lt; &quot;Build MyClass&quot; &lt;&lt; endl;
        p = Ôºàchar *Ôºâmalloc(1024 * 1024 *100);
    }
    ~MyClass() {
        cout &lt;&lt; &quot;Destory MyClass&quot; &lt;&lt; endl;
        free(p);
    }
    char *p;
};

void func(int i)
{
    MyClass2 c2;
    std::this_thread::sleep_for(std::chrono::milliseconds(1000));
    cout &lt;&lt; &quot;thread 1 func:&quot; &lt;&lt; i &lt;&lt; endl;
}

static void *thread_1(void *arg)
{
    MyClass my_class;
    int type_value = pthread_setcanceltype(PTHREAD_CANCEL_ASYNCHRONOUS, NULL);
    cout &lt;&lt; &quot;thread_1 set cancle type+++++:&quot; &lt;&lt; type_value &lt;&lt; endl;
    for (int i = 0; i &lt; 10; i++) {
        func(i);
        std::this_thread::sleep_for(std::chrono::milliseconds(1000));
    }
    return nullptr;
}

static void *thread_2(void *arg)
{
    for (int i = 0; i &lt; 10; i++) {
        cout &lt;&lt; &quot;thread_2:&quot; &lt;&lt; i &lt;&lt; endl;
        std::this_thread::sleep_for(std::chrono::milliseconds(10));
    }
    int ret = pthread_cancel(thread_id_1);
    cout &lt;&lt; &quot;otx_thread_2 cancel thread 1 ret:&quot; &lt;&lt; ret &lt;&lt; endl;
    return nullptr;
}

int main(int argc, char *argv[])
{
    cout &lt;&lt; &quot;Main start&quot; &lt;&lt; endl;

    pthread_attr_t attr;
    pthread_attr_init( &amp;attr );
    pthread_attr_setdetachstate(&amp;attr, PTHREAD_CREATE_DETACHED);
    cout &lt;&lt; &quot;Main set detch&quot; &lt;&lt; endl;
    if (pthread_create(&amp;thread_id_1, &amp;attr, thread_1, nullptr) != 0) {
        cout &lt;&lt; &quot;pthread_create() 1 error&quot; &lt;&lt; endl;
        return -1;
    }
    if (pthread_create(&amp;thread_id_2, nullptr, thread_2, nullptr) != 0) {
        cout &lt;&lt; &quot;pthread_create() 2 error&quot; &lt;&lt; endl;
        return -1;
    }
    if (pthread_join(thread_id_2, NULL) != 0) {
        cout &lt;&lt; &quot;pthread_join() 1 error&quot;;
        return -1;
    }
    while (1) {
        cout &lt;&lt; &quot;Main Loop&quot; &lt;&lt; endl;
        std::this_thread::sleep_for(std::chrono::milliseconds(1000));
    }
    return 0;
}
</code></pre>
<p><a href=""https://i.sstatic.net/vX9SU.png"" rel=""nofollow noreferrer"">enter image description here</a>
<a href=""https://i.sstatic.net/A8fSk.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I try it again and again, so I confirm that there is no problem with the code, But I don't understand why there is such a difference</p>
","<p><code>pthread_cancel</code> is outside the scope of the C++ specification.  C++ does not specify its behavior, nor inherit it from C or POSIX.</p>
<p>The difference is simply because QNX and Linux have implemented <code>pthread_cancel</code> differently in a C++ environment.  There is literally nothing more to it than that.</p>
<p>I imagine that the QNX implementation stops the thread in its tracks, whereas the Linux implementation probably induces an exception which unwinds the canceled thread's stack.</p>
"
63927299,Where do I find QNX kernel dumps?,https://stackoverflow.com/questions/63927299/where-do-i-find-qnx-kernel-dumps,1,1600287019,"kernel, dump, qnx","<p>Searching for &quot;qnx kernel dump&quot; on google gives a page like this</p>
<p><a href=""https://www.qnx.com/developers/docs/6.5.0SP1.update/com.qnx.doc.neutrino_technotes/proc_dump.html"" rel=""nofollow noreferrer"">https://www.qnx.com/developers/docs/6.5.0SP1.update/com.qnx.doc.neutrino_technotes/proc_dump.html</a></p>
<p>But no information is given as to how I can access this output.</p>
",
44745063,qnx run error : Attempting to exec a shared lib,https://stackoverflow.com/questions/44745063/qnx-run-error-attempting-to-exec-a-shared-lib,1,1498383572,"c, qnx, qnx-neutrino, momentics","<p>I managed to setup the Neutrino 6.5.0 RTOS in a virtual box and connect to it over qconn from Momentics IDE for Blackberry IDE 2.1.2 .....
I can get the system information perspective view for my Neutrino. </p>

<p>BUT </p>

<p>when I am trying to run my compiled application I am getting the errors : </p>

<p>Could not launch
Cannot find qnx launch process</p>

<p>and </p>

<p>Error starting remote application.
Target launcher@&lt;192.168.56.101:8000>: Error: Attempting to exec a shared lib</p>

<p>SO I manually copied the executable file I compiled to the /tmp dir on my Neutrino virtual machine and run it using ./Test  ,still get this error:
""/bin/sh: ./Test: Attempting to exec a shared lib""</p>

<p>I rechecked the project option and make sure that this is an Application output and not a shared library output type.</p>

<p>Any idea what am I doing wrong ?</p>
",
30882953,Is the epoch of steady_clock relative to when the operating system starts? or to the process itself?,https://stackoverflow.com/questions/30882953/is-the-epoch-of-steady-clock-relative-to-when-the-operating-system-starts-or-to,4,1434518960,"c++, windows, boost, qnx, c++-chrono","<p>Using <code>boost::chrono::steady_clock</code> or <code>std::chrono::steady_clock</code> is suppose to guarantee that physical time is always monotonic and is not affected by date time changes in the system. Here is my question, if I have two processes that need to be immune to system date time changes, is it enough to exchange just the <code>time_since_epoch</code>? In other words, the time interpretation of the two processes to the same time since epoch will be the same? Specifically I need to answer this question for Windows and QNX.</p>

<p>EDIT: Both processes are running in the same computer, same operating system and communicate via IPC calls.</p>
",
57607466,How to get cmake generate -std=c++14 flag for qcc compiler,https://stackoverflow.com/questions/57607466/how-to-get-cmake-generate-std-c14-flag-for-qcc-compiler,3,1566470298,"cmake, c++14, qnx","<p>I'm trying to cross compile some c++ library for QNX neutrino using cmake. In CMakeLists.txt file I specified CMAKE_CXX_STANDARD 14 required, but the resulting compiler command line does not contain the -std=c++14 option.</p>

<pre><code>set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)
</code></pre>

<p>I've tried using target compile features:</p>

<pre><code>target_compile_features(my_library PRIVATE cxx_std_14)
</code></pre>

<p>but that gives me the following error:</p>

<pre><code>CMake Error at CMakeLists.txt:53 (target_compile_features):
    target_compile_features no known features for CXX compiler

    ""QCC""

    version 5.4.0.
</code></pre>

<p>When I'm using check_cxx_compiler_flag feature, it seems to recognize the option:</p>

<pre><code>include(CheckCXXCompilerFlag)
check_cxx_compiler_flag(-std=c++14 CXX14_SUPPORT)
if(CXX14_SUPPORT)
  message(""c++14 support found"")
else()
  message(""c++14 unsupported"")
endif()
</code></pre>

<p>This outputs message</p>

<pre><code>c++14 support found
</code></pre>

<p>Running qcc manually it accepts the -std=c++14 option just fine and the code using std::make_unique compiles just fine.</p>

<p>Also using the native compiler (Ubuntu 18.04, gcc) everything work fine with cmake generated makefiles. make VERBOSE=1 displays the following command line (I removed some directories):</p>

<pre><code>/usr/local/bin/c++  -Dshm_transfer_EXPORTS -I...  -fPIC   -std=gnu++14 -o CMakeFiles/shm_transfer.dir/src/SharedMemoryTransfer.cpp.o -c .../SharedMemoryTransfer.cpp
</code></pre>

<p>as opposed to the command line using qcc toolchain:</p>

<pre><code>.../qnx700/host/linux/x86_64/usr/bin/qcc -lang-c++ -Vgcc_ntox86_64 -lang-c++ -Dshm_transfer_EXPORTS -I...  -fPIC   -o CMakeFiles/shm_transfer.dir/src/SharedMemoryTransfer.cpp.o -c .../SharedMemoryTransfer.cpp
</code></pre>

<p>I would have expected the cmake command to recognize that qcc supports the -std=c++14 option and generates the corresponding command lines because of the CMAKE_CXX_STANDARD setting.</p>
",
73041617,Compiling gRPC examples for QNX,https://stackoverflow.com/questions/73041617/compiling-grpc-examples-for-qnx,0,1658253908,"grpc, qnx","<p>Successfully compiled gRPC for QNX and now trying to build the examples.</p>
<p>Build command:</p>
<pre><code>cmake -DCMAKE_C_COMPILER=qcc -DCMAKE_CXX_COMPILER=q++ ../..
</code></pre>
<p>Linker errors:</p>
<pre><code>[ 90%] Linking CXX executable greeter_client
[ 95%] Linking CXX executable greeter_async_client
[100%] Linking CXX executable greeter_async_server
/home/csa/src/qnx//host/linux/x86_64/usr/bin/x86_64-pc-nto-qnx7.1.0-ld: cannot find -lpthread
/home/csa/src/qnx//host/linux/x86_64/usr/bin/x86_64-pc-nto-qnx7.1.0-ld: cannot find -lpthread
/home/csa/src/qnx//host/linux/x86_64/usr/bin/x86_64-pc-nto-qnx7.1.0-ld: cannot find -lpthread
/home/csa/src/qnx//host/linux/x86_64/usr/bin/x86_64-pc-nto-qnx7.1.0-ld: cannot find -ldl
/home/csa/src/qnx//host/linux/x86_64/usr/bin/x86_64-pc-nto-qnx7.1.0-ld: cannot find -ldl
/home/csa/src/qnx//host/linux/x86_64/usr/bin/x86_64-pc-nto-qnx7.1.0-ld: cannot find -ldl
</code></pre>
<p>I found the following link, looks like it might be cmake issue for -lpthread, but not sure about -ldl.
<a href=""https://gitlab.kitware.com/cmake/cmake/-/issues/21579"" rel=""nofollow noreferrer"">https://gitlab.kitware.com/cmake/cmake/-/issues/21579</a></p>
",
72215663,How to pass data from u-boot bootloader to QNX application via ram?,https://stackoverflow.com/questions/72215663/how-to-pass-data-from-u-boot-bootloader-to-qnx-application-via-ram,1,1652358698,"u-boot, qnx","<p>Using QNX 6.5.x with u-boot as a bootloader, on an ATSAMA5d3x module.</p>
<p>We'd like to pass some amount of data, ~1.5kb, from the bootloader into QNX via RAM, rather than trying to pass it via flash storage.</p>
<p>Is there a mechanism to tell QNX to reserve an area of RAM and not touch it? This would let us mmap it from the QNX application to read the data out of it, without QNX using it for heap or otherwise zeroing it out.</p>
<p>Is there another approach you've used to pass data like this into QNX?</p>
","<p>QNX startup-* programs permit the use of the <code>-r</code> argument to reserve a block of phyiscal address space.   You can supply arguments to startup in the .build file for the bootstrap image (the source to <code>mkifs</code>).</p>
<p>Example:</p>
<pre><code>[image=0x22000000]
[virtual=armle-v7,raw +compress] .bootstrap = {
    # reserve 4k at paddr 0x20000000 and don't clear it
    startup-atsama5d3x-ek -vvv -r 0x20000000,4096,1
    # reset of boot code goes here
}
[+script] .script = {
    # and so on
}
# and so forth
</code></pre>
<p>Ref: <a href=""http://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.utilities/topic/s/startup_options.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/7.1/#com.qnx.doc.neutrino.utilities/topic/s/startup_options.html</a></p>
"
70452458,QNX Slogger2 Vs Syslog,https://stackoverflow.com/questions/70452458/qnx-slogger2-vs-syslog,1,1640191770,"syslog, qnx, systemd-journald","<p>What is the difference between <a href=""http://www.qnx.com/developers/docs/7.0.0/index.html#com.qnx.doc.neutrino.utilities/topic/s/slogger2.html"" rel=""nofollow noreferrer"">Slogger2</a> (System Logger) and Linux based <a href=""https://linux.die.net/man/2/syslog"" rel=""nofollow noreferrer"">syslog</a>?</p>
<p>I understand the <a href=""https://www.loggly.com/blog/why-journald/"" rel=""nofollow noreferrer"">difference between journald and syslog</a>. Slogger2 also gives a way to redirect syslog messages to slogger2.</p>
<p>Is it QNX's version of syslog as it deals with palin text files? Does
Does it also uses <a href=""https://linux.die.net/man/8/logrotate"" rel=""nofollow noreferrer"">logrotate</a> like tool to handle file size?</p>
","<p><code>slogger2</code> (and its predecessor <code>slogger</code>) provide a low-latency in-memory log system.   slogger2 is closer conceptually to the Linux kernel log service (eg. <code>slog2f()</code> is approximately equivalent to <code>printk()</code>), but runs as a user-space daemon independent of the kernel as QNX uses a microkernel architecture.</p>
<p>Like the Linux kernel log, <code>slogger2</code> does not write messages to disk by itself; if you want to store messages in a file, you are required to run another process to manage that (ie. <code>slog2info</code> is analogous to <code>klogd</code>).   It is possible to route syslog into slogger2, to have a single source of message traffic; it is also possible to route slogger2 to syslog, to leverage syslogd's better tools for writing files to disk.</p>
"
72629213,How to improve the performance of HTTP server based on POCO C++ library,https://stackoverflow.com/questions/72629213/how-to-improve-the-performance-of-http-server-based-on-poco-c-library,0,1655286516,"http, tcp, poco-libraries, qnx, iperf","<p>I have a hardware based on ARM processor with QNX RTOS, on which I need to stream http data between two applications http_client and http_server, both based on POCO C++ library. I have create simple client and server programs that stream contents of a file. On the hardware I get http throughput of 1.8 Gbps, whereas iperf give tcp throughput of 27 Gbps. (note that file read time has been deducted to arrive at the http throughput numbers)</p>
<p>I tried the same programs on Linux on Laptop, there too I see a difference in the throughput between http and tcp.</p>
<p>Can someone suggest ways through either Poco configuration, compile-time flags, API usage or setup which can help me achieve higher throughput nearer to the iperf tcp throughput.</p>
<p>Other details of my setup :</p>
<p>I am using the POCO shared release version 1.10.1, compiled with O2 optimization and making use of the template of HTTPFormServer which is given under poco-&gt; Net -&gt; Samples.</p>
<p>I have set the TCPNODELAY to false, which helped me in improving the performance on Linux on laptop, but not on QNX. I wonder why it did not help on hardware. Any pointers on this ?</p>
",
72698811,How to get the max TCP socket buffer size in QNX,https://stackoverflow.com/questions/72698811/how-to-get-the-max-tcp-socket-buffer-size-in-qnx,0,1655805514,"sockets, tcp, qnx","<p>Is it possible to get and set the max tcp socket buffer size via command line in QNX?
if not how can I do it with c++?</p>
",
62640379,"Trying to Write a Basic Test for QNX Functions MsgReceive(), MsgSend(), and MsgReply()",https://stackoverflow.com/questions/62640379/trying-to-write-a-basic-test-for-qnx-functions-msgreceive-msgsend-and-msgr,2,1593440997,"testing, qnx","<p>I am attempting to write a simple test case exercising MsgReceive(), MsgSend(), and MsgReply() but I feel like I am fundamentally misunderstanding how these functions work. Here is my attempt:</p>
<pre><code>printf(&quot;Testing MsgReceive()...\n&quot;);
printf(&quot;Receives message and place it into a buffer.\n&quot;);
chid = ChannelCreate(_NTO_CHF_SENDER_LEN);
if(chid == -1){
    printf(&quot;ChannelCreate FAILED!&quot;);
}
coid = ConnectAttach(0, 0, chid, _NTO_SIDE_CHANNEL, 0);
pid = fork();
if(pid == -1){
    return;
}
            
if(pid == 0){
    msgSend = MsgSend(coid, writemsg, 13, buffer, 13);
    if(msgSend == -1){
        printf(&quot;Child FAILED: %d\n&quot;, msgSend);
    }
}
else{
    msgRec = MsgReceive(chid, buffer, 13, NULL);
    printf(&quot;Sent Message: %s\n&quot;, buffer);
    if(msgRec == -1){
        printf(&quot;Parent FAILED: %d\n&quot;, msgRec);
    }
}
if(pid == 0){
    if(ChannelDestroy(chid) == -1){
        printf(&quot;ChannelDestroy() failed.\n&quot;);
    }
}
</code></pre>
<p>I create a channel and then connect the process to the channel. I fork and have the child send the message and the parent receive it. But I can never get the child to send. It always fails.</p>
",
72345964,The right way to control a loop in QNX,https://stackoverflow.com/questions/72345964/the-right-way-to-control-a-loop-in-qnx,0,1653297022,"c++, rtos, qnx","<p>I'm starting a project on QNX. I'm not familiar with this OS. I'm writing a driver for an SPI external memory. There are plenty of polling loops on HW registers. What is the best way to control these loops to avoid the thread being stuck when the HW fails ?</p>
<p>I could start a timer and check whether it has timed out inside the loop condition but I am wondering if there isn't any easier way (like a watchdog: I didn't find a watchdog API except for the QNX hypervisor).</p>
<p>Advices welcome.</p>
",
71967270,qnx os learning path &amp; automated drive,https://stackoverflow.com/questions/71967270/qnx-os-learning-path-automated-drive,-1,1650623357,"qnx, blackberry-qnx, qnx-ifs","<p>I am flutter developer and i think to learn qnx os and its automation usage and etc ;
I search lot about it and , but did't found something good about it;</p>
<p>Please provide me a Learning path to it</p>
","<p>QNX¬Æ Software Development Platform User's Guide
<a href=""http://www.qnx.com/developers/docs/7.0.0/"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/7.0.0/</a>
<a href=""http://www.qnx.com/developers/docs/7.1/"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/7.1/</a></p>
"
42570869,Error:: QtQuick packages are not installed,https://stackoverflow.com/questions/42570869/error-qtquick-packages-are-not-installed,0,1488516483,"qt, 3d, qnx, qt3d, canvas3d","<p>I am trying to execute the canvas3d project on qnx platform. While execution it throws an error as below </p>

<pre><code>qrc:/main.qml:40:1: module ""QtQuick.Layouts"" is not installed
qrc:/main.qml:39:1: module ""QtQuick.Controls"" is not installed
qrc:/main.qml:38:1: module ""QtCanvas3D"" is not installed
</code></pre>

<p>main.qml has imported below </p>

<p><code>import QtQuick 2.0
 import QtCanvas3D 1.0
 import QtQuick.Controls 1.0
 import QtQuick.Layouts 1.0
</code>
Can anyone help me to figure out how can I install this missing modules?
I am using Qt Creator 3.5.1(enterprise) licensed version.
Thanks in advance.</p>
","<p>I was able to resolve this error by using env variable QML2_IMPORT_PATH.
But Now I am getting an error <code>qrc:/main.qml:37:1: module ""QtCanvas3D"" plugin ""qtcanvas3d"" not found</code></p>

<p>Can some one please let me know what can be done for this?</p>
"
72198002,How to get a list of files open by some process,https://stackoverflow.com/questions/72198002/how-to-get-a-list-of-files-open-by-some-process,0,1652258651,qnx,"<p>On mac i can do</p>
<pre><code>sudo filebyproc.d 2&gt;/dev/null | grep &quot; cat &quot;
</code></pre>
<p>running</p>
<pre><code>cat balbalbla
</code></pre>
<p>i've got</p>
<pre><code>sudo filebyproc.d 2&gt;/dev/null | grep &quot; cat &quot;
Password:
  8    178                       open:entry cat /dev/dtracehelper
 10    964              open_nocancel:entry cat /usr/share/locale/UTF-8/LC_CTYPE
  2    178                       open:entry cat balbalbla
</code></pre>
<p>which is the list of all files open by cat process.</p>
<p>How to do the same (or similar) in QNX?</p>
",
71738646,How to check _findenv SIGSEGV Error in qnx?,https://stackoverflow.com/questions/71738646/how-to-check-findenv-sigsegv-error-in-qnx,0,1649081257,"segmentation-fault, qnx","<p>I'm newbie for qnx application development.
(One process is main application what included in two dynamic library like a.so, b.so)</p>
<p>I have this error for application, but i don't know what to do.</p>
<p>So, could someone help me about this error how to check and how to fix it..</p>
<p>I guess it's related to dynamic library.</p>
<p>Thank you.</p>
<p>Error Message when application stopped.</p>
<p>&quot;Process 184343 (&quot;App&quot;) terminated SIGSEGV code=1 fltno=11 ip=01032174(/usr/lib/ldqnx.so.2@_findenv+0x14c) mapaddr=00032174. ref=00000298
&quot;</p>
<p>I also thought _findenv() is fault but, I didn't use environment variable function in my application like setenv(), getenv(), putenv().</p>
<p>So, I focused on SIGSEGV. Application is quiet huge, I can't show small example here.</p>
<p>App is based on ethernet communication. And then transfer data to other board by using SPI(Serial Communication).</p>
<p>Could you let me know what function call __findenv() in linux, qnx, unix etc...</p>
<p>I don't know how to find keyword to resolve this problem.</p>
",
72030603,Python - Building pex executables (specifically including 3rd party python libs) for QNX OS machines,https://stackoverflow.com/questions/72030603/python-building-pex-executables-specifically-including-3rd-party-python-libs,0,1651069968,"python, build, qnx, pex","<p>Trying to deploy a small python web server to run on a Machine with QNX7.1 OS installed.</p>
<p>For various reasons, I cannot use docker, Pip is also not available on the machine nor can I just pre-install the third party libs I need on the machine (through something like <code>apt-get python-aiohttp</code> etc.). The deployment must be an easily executable file.</p>
<p>I've chosen <a href=""https://github.com/pantsbuild/pex"" rel=""nofollow noreferrer"">Pex</a> as the build tool, which will build in a CI Pipe somewhere and be made available over a custom service that behaves like <code>scp</code>.</p>
<p>My issue is that I'm using a couple of third party libraries and am having trouble getting the QNX compatible python 3rd party package installed at pex build time.</p>
<p>These are the libs I require (Not fixated on specific versions):</p>
<pre><code>aiohttp==3.7.1
aiohttp-cors==0.7.0
aiohttp-jinja2==1.5
aiosignal==1.2.0
async-timeout==4.0.2
attrs==21.4.0
charset-normalizer==2.0.12
frozenlist==1.3.0
idna==3.3
Jinja2==3.1.1
MarkupSafe==2.1.1
multidict==6.0.2
RoboConfigApp==20220427
yarl==1.7.2 
</code></pre>
<p>From the pex documentation; there's an option to specify a platform however I'm clearly not using the correct platform string or not understanding what's happening.</p>
<p>Output of <code>uname -a</code> on the machine is: <code>QNX-7.1.0-x86pc-x86_64</code> Python is 3.8.6 is system python which I must use (yes I've read the QNX docs relating to it's use.).</p>
<p>I've tried setting the platform as:</p>
<pre><code>PLATFORM=qnx-x86_64-cp-3.8.6-cp38
PLATFORM=QNX-7.1.0-x86pc-x86_64
PLATFORM=unix-x86_64-cp-3.8.6-cp38
PLATFORM=linux-x86_64-cp-3.8.6-cp38
PLATFORM=unix-cp38-cp38-qnx_7_1_0_x86pc
PLATFORM=unix-x86pc-x86_64-cp-3.8.6-cp38
</code></pre>
<p>Does someone understand my issue and can point me in the right direction?</p>
",
70364999,Klockwork Error with dependency (SqliteAgent),https://stackoverflow.com/questions/70364999/klockwork-error-with-dependency-sqliteagent,0,1639576819,"java, sqlite, dependencies, qnx, klocwork","<p>Good afternoon,</p>
<p>I am trying to add the klockwork plugin in QNX (eclipse based) which is using Java 1.6 version (It is needed this version). I have Klockwork version 9.6 installed. But I have some problems.</p>
<p>The results on the internet say that we need to add a variable in the system: _JAVA_OPTIONS = -Djava.net.preferIPv4Stack=true but it still doesn't work.</p>
<p>When I look for something about sql in the Klockwork installation folder, there is a file called sqlite_jni . But it is strange that it does not work because of a dependency on Klockwork when Klockworks desktop works fine.</p>
<p>When I execute eclipse with debug mode enabled, It shows these errors:</p>
<blockquote>
<p>Exception in thread &quot;Thread-3&quot; java.lang.UnsatisfiedLinkError: no sqlite_jni in java.library.path                                                   at java.lang.ClassLoader.loadLibrary(Unknown Source)                                                                                        at java.lang.Runtime.loadLibrary0(Unknown Source)                                                                                           at java.lang.System.loadLibrary(Unknown Source)                                                                                             at com.klocwork.desktopdb.SqliteJniLoader.initDefaultLibraries(SqliteJniLoader.java:28)                                                     at com.klocwork.desktopdb.SqliteAgent.(SqliteAgent.java:21)                                                                         at com.klocwork.inforceeclipse.problems.LocalProblemsStorage.readProblemUpdates(LocalProblemsStorage.java:95)                               at com.klocwork.inforceeclipse.problems.AbstractProblemsStorage.reloadProblems0(AbstractProblemsStorage.java:186)                           at com.klocwork.inforceeclipse.problems.AbstractProblemsStorage$1.run(AbstractProblemsStorage.java:159)                                     at java.lang.Thread.run(Unknown Source)<br />
WARN : [com.klocwork.licensing.LibInfo:41]: Could not determine library path:<br />
ERROR: [com.klocwork.licensing.FlexLicenseServer:92]: Warning: Cannot find valid loccounter (loccounter.dll)                                Exception in thread &quot;Thread-13&quot; java.lang.NoClassDefFoundError: Could not initialize class com.klocwork.desktopdb.SqliteAgent                       at com.klocwork.inforceeclipse.problems.LocalProblemsStorage.readProblemUpdates(LocalProblemsStorage.java:95)                               at com.klocwork.inforceeclipse.problems.AbstractProblemsStorage.reloadProblems0(AbstractProblemsStorage.java:197)                           at com.klocwork.inforceeclipse.problems.AbstractProblemsStorage$1.run(AbstractProblemsStorage.java:159)                                     at java.lang.Thread.run(Unknown Source)</p>
</blockquote>
<p>And also It appears this dialog:</p>
<p><a href=""https://i.sstatic.net/qRUme.png"" rel=""nofollow noreferrer"">Database dialog error</a></p>
<p>Best regards and thanks in advance!</p>
",
71784364,Qt 6.2.4 for QNX710 on Ubuntu 20.04 - Qt version is not properly installed,https://stackoverflow.com/questions/71784364/qt-6-2-4-for-qnx710-on-ubuntu-20-04-qt-version-is-not-properly-installed,1,1649343080,"c++, qt, cmake, qt-creator, qnx","<p>I tried to build Qt 6.2.4, installed via qt-unified-linux-x64-4.3.0-1-online.run on Ubuntu 20.04 LTS in a Virtual Box.
<a href=""https://i.sstatic.net/TXao9.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/TXao9.png"" alt=""enter image description here"" /></a></p>
<p>I installed Qt 6.2.4 in ~/Qt6 for Desktop gcc 64-bit and in source code.</p>
<p>QNX 7.1 is installed in ~/qnx710.</p>
<p>I sourced qnxsdp-env.sh:</p>
<pre><code>$ . ~/qnx710/qnxsdp-env.sh
</code></pre>
<p>I added Qt6.2.4, Ninja and CMake to PATH:</p>
<pre><code>$ export PATH=$PATH:~/Qt6/6.2.4/gcc_64/bin
$ export PATH=$PATH:~/Qt6/Tools/Ninja
$ export PATH=$PATH:~/Qt6/Tools/CMake/bin
</code></pre>
<p>Copied the qnx.cmake example from <a href=""https://doc.qt.io/qt-6/building-qt-for-qnx.html#creating-a-toolchain-file-for-qnx"" rel=""nofollow noreferrer"">https://doc.qt.io/qt-6/building-qt-for-qnx.html#creating-a-toolchain-file-for-qnx</a></p>
<pre><code>$ cat ~/cmake_support/toolchains/qnx.aarch64le.cmake 
set(CMAKE_SYSTEM_NAME QNX)

set(arch gcc_ntoaarch64le)

set(CMAKE_C_COMPILER qcc)
set(CMAKE_C_COMPILER_TARGET ${arch})
set(CMAKE_CXX_COMPILER q++)
set(CMAKE_CXX_COMPILER_TARGET ${arch})

set(CMAKE_SYSROOT $ENV{QNX_TARGET})
</code></pre>
<p>Created a build directory and configured qt:</p>
<pre><code>$ mkdir ~/Qt6/6.2.4/qnx_build
$ cd ~/Qt6/6.2.4/qnx_build
$ cmake -GNinja -DCMAKE_TOOLCHAIN_FILE=~/cmake_support/toolchains/qnx.aarch64le.cmake -DQT_HOST_PATH=~/Qt6/6.2.4/gcc_64 -DCMAKE_INSTALL_PREFIX=~/Qt6/6.2.4/qnx ../Src
</code></pre>
<p>Compile and install</p>
<pre><code>$ cmake --build . --parallel &amp;&amp; cmake --install .
</code></pre>
<p>This all went fine.</p>
<p>Then I tried to add the new Qt Version to Qt Creator, but this fails with Qt version is not properly installed, please run make install.
Details: Invalid Qt version.</p>
<p><a href=""https://i.sstatic.net/iUlg8.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/iUlg8.png"" alt=""1f784bbb-84f7-4bad-9485-418f8c0441b7-image.png"" /></a></p>
<p>And of course, once creating a kit, it fails and can't be used.</p>
<p>Any idea how to fix this?</p>
","<p>The Qt version was indeed not properly installed.</p>
<p>qmake expects a specific directory for target libraries</p>
<pre><code>$ ~/Qt6/6.2.4/qnx/bin/qmake -v
QMake version 3.1
Using Qt version 6.2.4 in /home/werner/qnx710/target/qnx7/home/werner/Qt6/6.2.4/qnx/lib
</code></pre>
<p>So to fix QT Creator, I simply had to create a symbolic link:</p>
<pre><code>$ cd ~/qnx710/target/qnx7
$ mkdir -p home/werner
$ ln -s ~/Qt6 .
</code></pre>
"
71392941,QNX_HOST environment variable not set,https://stackoverflow.com/questions/71392941/qnx-host-environment-variable-not-set,2,1646732922,"qnx, qnx-neutrino, blackberry-qnx, qnx-ifs","<p>I am compiling mlpack using QNX.Keep reporting the following errors:
CMake Error at <code>CMakeLists.txt:28 (message):QNX_HOST environment variable not set!!!</code>
I have added the following to <code>CMakeLists.txt</code>:</p>
<pre><code>set (QNX_HOST ‚Äú/data/QNX/qnx700/host/linux‚Äù)
set (QNX_TARGET ‚Äú/data/QNX/qnx700/target/qnx7‚Äù)
</code></pre>
<p>I first executed the following command:</p>
<pre><code>source /etc/bash.bashrc_qnx qnx_aarch64
source /data/QNX/qnx700/qnxsdp-env.sh
</code></pre>
<p>=&gt;</p>
<pre><code>QNX_HOST=/data/QNX/qnx700/host/linux/x86_64
QNX_TARGET=/data/QNX/qnx700/target/qnx7
MAKEFLAGS=-I/data/QNX/qnx700/target/qnx7/usr/include
</code></pre>
<p>And <code>cmake ..</code> But <code>sudo make</code> command still report an error‚Äì‚Äú<code>error: environment variables QNX_HOST and QNX_TARGET not defined</code>‚Äù.The following is the content of part document CMakeLists.txt:</p>
<pre><code>set(CMAKE_SYSTEM_NAME QNX)
set(CMAKE_HOST_SYSTEM_NAME QNX)
set(QNX_PROCESSOR arm)
set(CMAKE_SYSTEM_VERSION 7.0.0)
set(CMAKE_CROSSCOMPILING 1)
set( TOOLCHAIN QNX )
set(CMAKE_SYSROOT &quot;$ENV{TOOLCHAIN_PATH}&quot;)
#set (QNX_HOST &quot;/data/QNX/qnx700/host/linux&quot;)
#set (QNX_TARGET &quot;/data/QNX/qnx700/target/qnx7&quot;)
set(QNX_HOST &quot;$ENV{QNX_HOST}&quot;)
set(QNX_TARGET &quot;$ENV{QNX_TARGET}&quot;)
message(STATUS &quot;*********************************&quot;)
message(STATUS &quot;${QNX_HOST}&quot;)
message(STATUS &quot;${QNX_TARGET}&quot;)
message(STATUS &quot;*********************************&quot;)
#Check environment variables
if (&quot;$ENV{QNX_HOST}&quot; STREQUAL &quot;&quot;)
    #message(FATAL_ERROR &quot;QNX_HOST environment variable not set&quot;)
endif()

if (&quot;$ENV{QNX_TARGET}&quot; STREQUAL &quot;&quot;)
    #message(FATAL_ERROR &quot;QNX_TARGET environment variable not set&quot;)
endif()
set(CMAKE_C_COMPILER &quot;/data/QNX/qnx700/host/linux/x86_64/usr/bin/aarch64-unknown-nto-qnx7.0.0-gcc&quot;)
set(CMAKE_CXX_COMPILER &quot;/data/QNX/qnx700/host/linux/x86_64/usr/bin/aarch64-unknown-nto-qnx7.0.0-g++&quot;)
#set(CMAKE_CXX_COMPILER &quot;/usr/bin/x86_64-linux-gnu-g++&quot;)
set(CMAKE_CXX_STANDARD 14) # C++14...
set(CMAKE_CXX_STANDARD_REQUIRED ON) #...is required...
set(CMAKE_CXX_EXTENSIONS ON) #...without compiler extensions like gnu++14
# search for programs in the build host directories
SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
# for libraries and headers in the target directories
SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
SET(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)
</code></pre>
<p>When I running <code>make</code> without sudo, it still report an error‚Äì-</p>
<pre><code>[ 10%] Linking CXX executable ../../bindings/julia/mlpack/build/bin/generate_jl_sparse_coding
../../../../lib/libmlpack.so.3.4: undefined reference to `dpotrf_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dpotri_'
../../../../lib/libmlpack.so.3.4: undefined reference to `ddot_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgbsvx_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgeqrf_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dposvx_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgemm_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgesdd_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgels_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dnrm2_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dlansy_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dpotrs_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dtrcon_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgesv_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dsyevd_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgbcon_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgbtrs_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dposv_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgetri_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgemv_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgesvd_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgbtrf_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dlange_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dtrtrs_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgecon_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dlangb_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dsyrk_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgetrf_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgesvx_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dpbtrf_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgetrs_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgelsd_'
../../../../lib/libmlpack.so.3.4: undefined reference to `ilaenv_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dsyev_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgbsv_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dorgqr_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dtrtri_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dgtsv_'
../../../../lib/libmlpack.so.3.4: undefined reference to `dpocon_'
collect2: error: ld returned 1 exit status
src/mlpack/methods/sparse_coding/CMakeFiles/generate_jl_sparse_coding.dir/build.make:119: recipe for target 'src/mlpack/bindings/julia/mlpack/build/bin/generate_jl_sparse_coding' failed
make[2]: *** [src/mlpack/bindings/julia/mlpack/build/bin/generate_jl_sparse_coding] Error 1
CMakeFiles/Makefile2:6388: recipe for target 'src/mlpack/methods/sparse_coding/CMakeFiles/generate_jl_sparse_coding.dir/all' failed
make[1]: *** [src/mlpack/methods/sparse_coding/CMakeFiles/generate_jl_sparse_coding.dir/all] Error 2
Makefile:145: recipe for target 'all' failed
</code></pre>
<p>Does anyone know what should I do ?</p>
",
71400316,Valgrind install specific tools only?,https://stackoverflow.com/questions/71400316/valgrind-install-specific-tools-only,1,1646766746,"c, valgrind, qnx","<p>I'm trying to install valgrind onto a QNX-based system with limited memory. I want to run memcheck to see if there are any memory leaks in my codebase. I saw on <a href=""https://valgrind.org/info/tools.html"" rel=""nofollow noreferrer"">https://valgrind.org/info/tools.html</a> that the valgrind distribution comes with a lot of tools bundled, but I only want to run memcheck.</p>
<p>Is there a way to install a specific profiling tool from valgrind without installing the rest?</p>
",
32819930,How do I include a .cpp/.h file pair in qnx momentics?,https://stackoverflow.com/questions/32819930/how-do-i-include-a-cpp-h-file-pair-in-qnx-momentics,0,1443433300,"c++, include, qnx, momentics","<p>Im new to QNX and and not experienced with larger software projects in general.
Im trying to include the tinyXML2 library into my QNX Momentics project. I have the .cpp and the .h file of the library but I dont understand how I should correctly include these files into my project so they can be referenced from my main code(included with an #include  statement)</p>

<p>hope someone can help</p>

<p>thanks</p>
","<ol>
<li>First you should put library source files (*.cpp and *.h) into /src/ for library building.</li>
<li>When you need to use this library in your project - just
<code>#include ""library_name/lib.h""</code>
library header.</li>
</ol>
"
57173995,Using qnx.cmake shows error &quot;CMAKE_C_COMPILER is not a full path to an existing compiler tool.&quot;,https://stackoverflow.com/questions/57173995/using-qnx-cmake-shows-error-cmake-c-compiler-is-not-a-full-path-to-an-existing,0,1563930871,"c, cmake, qnx","<p>I am using CMake with QNX Momentics. For that I executed the command</p>

<pre><code>cmake -DCMAKE_TOOLCHAIN_FILE=/my-path/qnx.cmake
</code></pre>

<p>on terminal which shown me the below mentioned error:</p>

<pre><code>ERROR:-
""-- The C compiler identification is unknown
CMake Error at CMakeLists.txt:7 (project):
  The CMAKE_C_COMPILER:
    /home/mobis/MTCI/Test/host/linux/x86_64/usr/bin/ntox86_64-gcc
  is not a full path to an existing compiler tool.
  Tell CMake where to find the compiler by setting either the environment
  variable ""CC"" or the CMake cache entry CMAKE_C_COMPILER to the full path to
  the compiler, or to the compiler name if it is in the PATH.""
</code></pre>

<ol>
<li><p>I have checked for <code>ntox86_64-gcc</code> compiler in my local pc and it is present at <code>/hom/Test/host/linux/x86_64/usr/bin</code> location.</p></li>
<li><p>I have tried to build by giving compiler path at command line with CMake but it shows same error.</p></li>
<li><p>Tried below solution even after that same error:</p>

<p><a href=""https://stackoverflow.com/questions/45140273/cmake-c-compiler-is-not-a-full-path-to-an-existing-compiler-tool"">CMAKE_C_COMPILER is not a full path to an existing compiler tool</a></p>

<pre><code>export CC=/usr/bin/gcc
export CXX=/usr/bin/g++
</code></pre></li>
</ol>

<p>Please find below my <strong>qnx.cmake</strong>:</p>

<pre><code>set(CMAKE_SYSTEM_NAME QNX)
set(CMAKE_HOST_SYSTEM_NAME QNX)
set(CMAKE_SYSTEM_VERSION 7.0.0)
set(arch ntox86_64)
set(QNX_PROCESSOR x86_64)
SET( TOOLCHAIN QNX )

#Check environment variables
if (""$ENV{QNX_HOST}"" STREQUAL """")
    message(FATAL_ERROR ""QNX_HOST environment variable not set"")
endif()

if (""$ENV{QNX_TARGET}"" STREQUAL """")
    message(FATAL_ERROR ""QNX_TARGET environment variable not set"")
endif()

set(QNX_HOST ""$ENV{QNX_HOST}"")
set(QNX_TARGET ""$ENV{QNX_TARGET}"")
set(CMAKE_C_COMPILER ""${QNX_HOST}/usr/bin/${arch}-gcc"")
set(CMAKE_CXX_COMPILER ""${QNX_HOST}/usr/bin/nto${QCC_NTOARCH}-g++"")


set(CMAKE_C_FLAGS_DEBUG ""-g"")
set(CMAKE_C_FLAGS_MINSIZEREL ""-Os -DNDEBUG"")
set(CMAKE_C_FLAGS_RELEASE ""-O3 -DNDEBUG"")
set(CMAKE_C_FLAGS_RELWITHDEBINFO ""-O2 -g"")
set(CMAKE_CXX_FLAGS_DEBUG ""-g -D_DEBUG"")
set(CMAKE_CXX_FLAGS_MINSIZEREL ""-Os -DNDEBUG"")
set(CMAKE_CXX_FLAGS_RELEASE ""-O3 -DNDEBUG"")
set(CMAKE_CXX_FLAGS_RELWITHDEBINFO ""-O2 -g"")

set(CMAKE_FIND_ROOT_PATH ""${QNX_TARGET}"")
set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
</code></pre>

<p>Please find below my <strong>CMakeLists.txt</strong>:</p>

<pre><code>cmake_minimum_required(VERSION 3.14.2)
set(CMAKE_CXX_FLAGS ""${CMAKE_CXX_FLAGS} -std=c++11"")
set(CMAKE_BUILD_TYPE Release)
project(Test VERSION 1.0     DESCRIPTION ""CoreLSP FOlder structure     project""   LANGUAGES C)
set(SRCS 
   main.c
   printing.c
   ) 
add_executable(Test ${SRCS})
</code></pre>

<p>Expected:</p>

<ul>
<li>The project should be built successfully and makefile should be produced so that I could import project into QNX Momentics IDE (Linux based Host OS).</li>
</ul>
",
70116377,How to remove a terminated thread from a running process,https://stackoverflow.com/questions/70116377/how-to-remove-a-terminated-thread-from-a-running-process,0,1637868461,"c, multithreading, rtos, qnx, qnx-neutrino","<p>Sorry if the question is quite basic but I've looked up the QNX documentation, trying every function that can terminate a thread which doesn't work.</p>
<p>I have this test program that creates 2 thread and makes one of them (the one with the main()) run forever while the other terminates on <strong>pthread_exit()</strong></p>
<pre><code>#include &lt;pthread.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

void *thread(void *arg) {
  char *ret;

  if ((ret = (char*) malloc(20)) == NULL) {
    perror(&quot;malloc() error&quot;);
    exit(2);
  }
  int input;
  printf(&quot;type a num to exit\n&quot;);
  scanf(&quot;%d&quot;,&amp;input);
  strcpy(ret, &quot;This is a test&quot;);


  pthread_exit(ret);
}

int main() {
  pthread_t thid;
  void *ret;

  if (pthread_create(&amp;thid, NULL, thread, NULL) != 0) {
    perror(&quot;pthread_create() error&quot;);
    exit(1);
  }

  while(1){

  }


  if (pthread_join(thid, &amp;ret) != 0) {
    perror(&quot;pthread_create() error&quot;);
    exit(3);
  }

  printf(&quot;thread exited with '%s'\n&quot;, ret);
}
</code></pre>
<p>Upon start-up, typing <strong>pidin | grep</strong> will return two threads in one process as expected. But after one thread is terminated, running <strong>pidin | grep</strong> again still shows two threads, with one of them having DEAD status. I know that the DEAD thread cannot be accessed anymore unless joined when they are not detached. However, I want to know if there is a way to exit one thread and completely remove it from the process, so typing <strong>pidin | grep</strong> on the process again will only show one thread running instead of two.</p>
<p>Thanks.</p>
",
69555271,–°.Creating threads,https://stackoverflow.com/questions/69555271/%d0%a1-creating-threads,-1,1634126769,"c, multithreading, pthreads, qnx, qnx-neutrino","<p>the task is as follows:</p>
<p>Write a program that takes as parameters a set of data file names (an arbitrary number) and runs all files for parallel processing (using threads). As a processing, use the sorting method (quickSort).</p>
<p>I ran this program through vmbox on the QNX operating system.It has compiled but does nothing.I have a text file with numbers in my project folder and nothing happens to them.or there should be several of them..(i mean files)And one more thing. I get one warning when compiling. After this sign <code>}</code>, which &quot;closes&quot; the <code>void *FileToArray</code>  The warning is as follows: control reaches end of non-void function.How to fix it?</p>
<p>I did it on the basis of methodological guidelines.But maybe I missed something. And I would be grateful if you could tell me what I'm doing wrong.</p>
<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;
#include &lt;sys/syspage.h&gt;


void quickSort (int *b,int left, int right){
    int sort;
    int Dleft = left;
    int Dright = right;
    sort = b[left];
    printf (&quot;%d&quot;,pthread_self());
    while(left&lt;right){
        while((b[right]&gt;=sort)&amp;&amp;(left&lt;right))
        right--;
        if (left!=right){
            b[left]=b[right];
            left++;
        }
        while((b[left]&lt;=sort)&amp;&amp;(left&lt;right))
        left++;
        if(left!=right)
        {
            b[right]=b[left];
            right --;
        }
    }
    b[left]=sort;
    sort=left;
    left=Dleft;
    right=Dright;
    if(left&lt;sort)
    quickSort(b,left,sort-1);
    if(right&gt;sort)
    quickSort(b,sort+1,right);
    
}
void *FileToArray(void *name){
    int i =0,j =0;
    int *a=(int*)malloc(sizeof(int)*2);
    FILE *f=fopen(name,&quot;r&quot;);
    printf(&quot;start - %p\n&quot;,name);
    while (feof(f)==0){
        fscanf(f, &quot;%d&quot;,&amp;a[i]);
        i++;
        a=(int*)realloc(a,sizeof(int)*i+1);
    }
    fclose(f);
    quickSort(a,0,i-2);
    f=fopen(name,&quot;w&quot;);
    for (j=0;j&lt;i-1;j++){
        fprintf(f, &quot;%d\n&quot;,a[j]);
    }
    free(a);
    fclose(f);
    printf(&quot;finish - %p\n&quot;,name);
}
int num_lines_per_cpu;
int num_cpus;
int main(int argc, char** argv) {
    int j;
    pthread_t *thread_ids;
    num_cpus = syspage_ptr-&gt;num_cpu;
    thread_ids=malloc(sizeof(pthread_t)*num_cpus);
    num_lines_per_cpu=argc%num_cpus;
    for(j=1;j&lt;argc;j++){
        pthread_create (&amp;thread_ids[j-1],NULL,FileToArray,argv[j]);
    }
    for(j=0;j&lt;argc-1;j++){
        pthread_join(thread_ids[j],NULL);
    }
    return EXIT_SUCCESS;
}
</code></pre>
<p><a href=""https://i.sstatic.net/cu11j.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/cu11j.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.sstatic.net/Xprnf.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Xprnf.png"" alt=""enter image description here"" /></a></p>
",
70016043,Why curly brackets won&#39;t put remote ssh execution in background,https://stackoverflow.com/questions/70016043/why-curly-brackets-wont-put-remote-ssh-execution-in-background,1,1637220917,"linux, bash, ssh, qnx","<p>I wanted to use compound commands to execute remotely a few, quite short commands in background but I noticed that ssh waits until all commands are executed. I've tried several options and that's the result:</p>
<pre><code>time ssh $IP 'sleep 20 &gt;/dev/null 2&gt;&amp;1 &amp;'

real    0m1,776s
user    0m0,003s
sys 0m0,003s

time ssh $IP 'sh -c &quot; sleep 20; &quot; &gt;/dev/null 2&gt;&amp;1 &amp;'

real    0m1,850s
user    0m0,007s
sys 0m0,000s

time ssh $IP '( sleep 20; ) &gt;/dev/null 2&gt;&amp;1 &amp;'

real    0m1,742s
user    0m0,000s
sys 0m0,007s

time ssh $IP '{ sleep 20; } &gt;/dev/null 2&gt;&amp;1 &amp;'

real    0m21,876s # &lt;--- ssh waits until sleep is over
user    0m0,003s
sys 0m0,003s
</code></pre>
<p>Why { } blocks ssh from exiting after starting background process?</p>
<p>PS
Target machine runs QNX 7 with sh shell. Not bash.</p>
",
69622922,How to run pexpect on waited process using multiprocessing?,https://stackoverflow.com/questions/69622922/how-to-run-pexpect-on-waited-process-using-multiprocessing,0,1634593771,"python, python-2.7, multiprocessing, pexpect, qnx","<p>I am running Python 2.7 on a QNX system and I'm running into an issue where pexpect throws the following error:</p>
<pre><code>ExceptionPexpect: isalive() encountered condition where &quot;terminated&quot; is 0, but there was no child process. Did someone else call waitpid() on our process?
</code></pre>
<p>The circumstances for this error are as follows: I have two files,  <code>pexpectTest.py</code> and <code>testPexpectError.py</code>.</p>
<p>pexpectTest.py</p>
<pre>
    import multiprocessing
    import pexpect
    import sys
    
    pexp = pexpect.spawn('python testPexpectError.py')
    pexp.delaybeforesend = False
    pexp.logfile = sys.stdout

    def test():
        pexp.sendline('line')
        pexp.expect('>', timeout=None)
        pexp.close()
    
    mp = multiprocessing.Process(target=test)
    mp.start()
    mp.join()
</pre>
<p>testPexpectError.py</p>
<pre>
    import time
    
    while 1:
        input = raw_input("">"")
        print input
        
        if input == 'exit':
           break
        
        time.sleep(1)
</pre>
<p>When called from a multiprocessing.Process, the exception at the top of this post gets thrown.
When called from the main thread, the exception does not get thrown.</p>
<p>My main questions are:</p>
<ol>
<li><p>What is causing pexpect to react to the wait call in testPexpectError.py when expect is called from a multiprocessing.Process vs when expect is called in the main thread (if this even is the issue)?</p>
</li>
<li><p>Is there any way around this?</p>
</li>
</ol>
","<p>Remember, the key distinguishing feature of <code>multiprocessing</code> is that it spawns a function <em>inside a separate process</em>.</p>
<p>File descriptors are not shared across process boundaries (a child may get a <em>copy</em> of the parent's FDs, but this is an optional per-FD flag -- see <a href=""https://docs.python.org/3/library/os.html#fd-inheritance"" rel=""nofollow noreferrer"">https://docs.python.org/3/library/os.html#fd-inheritance</a> describing the interface Python puts on top of that layer).</p>
<p>Likewise, parent/child relationships only apply to the original parent: You can use <code>waitpid()</code> to reap a child process, but not a sibling (a fellow child of the same parent, which is the relationship your copy of <code>python testPexpectError.py</code> and the <code>multiprocessing</code>-spawned subprocess have here).</p>
<p>If you really need to use <code>multiprocessing</code> here, move the <code>spawn()</code> into your <code>test()</code> function, so the child process is having its output and exit status read by its parent (rather than by a sibling), and everything will work.</p>
"
69541718,how to get a.out file?,https://stackoverflow.com/questions/69541718/how-to-get-a-out-file,-2,1634046390,"c, qnx, qnx-neutrino","<p>I have created a program in the ide and want to get a.out file. But after executing the command, I didn't find anything in the project folder.What's wrong?</p>
<p><a href=""https://i.sstatic.net/I6LSN.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/I6LSN.png"" alt=""enter image description here"" /></a></p>
<p>UPD</p>
<p><a href=""https://i.sstatic.net/S2Wv6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/S2Wv6.png"" alt=""enter image description here"" /></a>
upd</p>
<p><a href=""https://i.sstatic.net/4lyFR.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/4lyFR.png"" alt=""enter image description here"" /></a></p>
<p><strong>UPD4:</strong> i found this file , but now i can't execute it...</p>
<p><a href=""https://i.sstatic.net/8Dhqg.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/8Dhqg.png"" alt=""enter image description here"" /></a></p>
",
69514254,"C program, creating processes , PID",https://stackoverflow.com/questions/69514254/c-program-creating-processes-pid,1,1633860832,"c, pid, qnx","<p>The task is as follows</p>
<p>Write a program that would run another process in memory and leave it running in an infinite loop. When the program is restarted, it must remove the previously started process from memory (you can use kill).</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;signal.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;spawn.h&gt;
#include &lt;sys/wait.h&gt;

int main(void){
    int pid = getpid(); // we find out the PID of the current process and store it in a variable
    FILE *file = fopen(&quot;example.txt&quot;, &quot;r&quot;); // getting information from a file about a child process
    int filePid = 0;
    fscanf(file, &quot;%d&quot;, filePid);
    fclose(file);
    
    switch (filePid){
        case -1:{ // if there is no child process, then run it and write the PID to a file
            filePid = fork();
            file = fopen(&quot;example.txt&quot;, &quot;w&quot;);
            fprintf(file, &quot;%d&quot;, filePid);
            fclose(file);
            break;
        }
        case 0:{ // if this process is a child, then we go into an infinite loop
            for(;;){
                sleep(7); // waiting for seven seconds so that the system is not heavily loaded
            }
            break;
        }
        default:{ // if this program is started again with a child process, then we send a signal to the child process
            kill(filePid, SIGKILL); // we send a signal to the child process so that it ends, and after that we write the information to the file
            file = fopen(&quot;example.txt&quot;, &quot;w&quot;); // we write information to the file that the child process is missing
            fprintf(file, &quot;%d&quot;, -1);
            fclose(file);
        }
    }
    return EXIT_SUCCESS;
}
</code></pre>
<p><a href=""https://i.sstatic.net/honGL.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/honGL.png"" alt=""enter image description here"" /></a>
/Yes, I have to do it through the qnx operating system./</p>
<p>the errors are as follows..I'm a little confused with getpid, because I haven't used the pid variable anywhere.
<a href=""https://i.sstatic.net/61L5D.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/61L5D.png"" alt=""enter image description here"" /></a></p>
<p>and another mistake.</p>
<p><a href=""https://i.sstatic.net/FHA33.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/FHA33.png"" alt=""enter image description here"" /></a></p>
<p>I will be grateful for your help.since I'm a little confused...</p>
<p><strong>UPD:</strong></p>
<p>I can't get the value 0</p>
<p><a href=""https://i.sstatic.net/INTbo.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/INTbo.png"" alt=""enter image description here"" /></a></p>
<p>UPD: how could it execute both cases, i mean &quot;if&quot; and &quot;else&quot; blocks at the same time?</p>
<p><a href=""https://i.sstatic.net/FRQ8D.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/FRQ8D.png"" alt=""enter image description here"" /></a></p>
","<blockquote>
<p>how could it execute both cases, i mean &quot;if&quot; and &quot;else&quot; blocks at the same time?</p>
</blockquote>
<p>You have to have a clear understanding of how <code>fork</code> works, when you use <code>fork</code> two identical processes are created <code>parent</code> and <code>child</code> and they run simultaneously, when you say <code>filePid = fork()</code> and if the operation is successful then the <code>parent</code> process will hold the process id of the child process and <code>child</code> process will hold <code>0</code>. So here in parent process <code>filePid == child process ID</code> and in child process <code>filePid == 0</code>.</p>
<p>See <code>man fork</code></p>
<blockquote>
<p>On success, the PID of the child process is returned in the parent,
and 0 is returned in the child.  On failure, -1 is returned in the
parent, no child process is created, and errno is set appropriately.</p>
</blockquote>
<p>So whatever you put in the <code>if (filePid == 0)</code> block will be executed by the child process and whatever you put in the <code>else</code> block will be executed by the parent process simultaneously.</p>
<p><a href=""https://www.csl.mtu.edu/cs4411.ck/www/NOTES/process/fork/create.html"" rel=""nofollow noreferrer"">This</a> will be helpful if you want to know more about <code>fork</code>.</p>
"
33677089,JPEG image on qnx window,https://stackoverflow.com/questions/33677089/jpeg-image-on-qnx-window,2,1447347629,"jpeg, libjpeg, qnx, qnx-neutrino, blackberry-qnx","<p>I'm working on a project where I have jpg files and I have to show them on the QNX screen. I want to read a JPEG file using libjpeg and decode it and show it on qnx window using window pixmap.
I tried writing my code as below but it responds with nothing. The screen stays black.</p>
<p>I want to make it clear that my JPEG file is in YCbCr (4.2.0 subsampled) but it doesn't matter really. JPEG file in sRGB format is fine too.</p>
<p>Here is my code looks like</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;jpeglib.h&gt;
#include &lt;jpegint.h&gt;

#ifdef __QNX__
#include &lt;time.h&gt;
#include &lt;screen/screen.h&gt;
#include &lt;png.h&gt;
#include &lt;sys/netmgr.h&gt;
#include &lt;sys/neutrino.h&gt;
#include &lt;dirent.h&gt;
#include &lt;img/img.h&gt;
#endif

screen_context_t screen_ctx;
screen_window_t screen_win;
screen_buffer_t screen_pbuf = 0;
screen_pixmap_t screen_pix;

int rect[4] = { 0, 0 };
int usage = 0;
screen_buffer_t screen_buf[2];



FILE *JPEG_open(char *filename)
{
   unsigned char c1, c2;
   FILE *fd = fopen(filename, &quot;rb&quot;);
   if (fd != NULL)
   {
      c1 = fgetc(fd);
      c2 = fgetc(fd);
      if (c1 == 0xff &amp;&amp; c2 == 0xd8)
         rewind(fd);
      else
      {
         fclose(fd);
         fd = NULL;
      }
   }
   return fd;
}


void JPEG_read_header(FILE *fd, int *pixtype, int *xdim, int *ydim)
{
   // JPEG declarations
   struct jpeg_decompress_struct dinfo;
   struct jpeg_error_mgr jerr;

   // Initialize the JPEG decompression object with default error handling
   dinfo.err = jpeg_std_error(&amp;jerr);
   jpeg_create_decompress(&amp;dinfo);
   jpeg_stdio_src(&amp;dinfo, fd);

   // Read file header, set default decompression parameters
   jpeg_read_header(&amp;dinfo, TRUE);
   jpeg_calc_output_dimensions(&amp;dinfo);
   *xdim = dinfo.output_width;
   *ydim = dinfo.output_height;

   // Determine pixel type
   if (dinfo.out_color_space == JCS_GRAYSCALE){
      *pixtype = JPEG_GRAY;
      printf(&quot;Image format is - JPEG_GRAY&quot;);
   }
   else if(dinfo.out_color_space == JCS_YCbCr){
      printf(&quot;Image format is - JCS_YCbCr&quot;);
   }
   else{
      *pixtype = JPEG_RGB;
      printf(&quot;Image format is - JPEG_RGB&quot;);
   }

   // Close JPEG decompressor and input file
   jpeg_destroy_decompress(&amp;dinfo);
   rewind(fd);
}

/*---------------------------------------------------------------------------*/
/* Purpose:  This reads JPEG data.                                           */
/*---------------------------------------------------------------------------*/
void JPEG_read_data(FILE *fd, char *data)
{
   // JPEG declarations
   struct jpeg_decompress_struct dinfo;
   struct jpeg_error_mgr jerr;
   JSAMPARRAY buffer;
   JSAMPROW ptr;
   int stride, row, value, index = 0;

   // Initialize the JPEG decompression object with default error handling
   dinfo.err = jpeg_std_error(&amp;jerr);
   jpeg_create_decompress(&amp;dinfo);
   jpeg_stdio_src(&amp;dinfo, fd);

   // Read file header, set default decompression parameters
   jpeg_read_header(&amp;dinfo, TRUE);
   printf(&quot;safjlasdfj&quot;);
   jpeg_calc_output_dimensions(&amp;dinfo);
   jpeg_start_decompress(&amp;dinfo);

   // Calculate number of samples per row in output buffer
   stride = dinfo.output_width * dinfo.output_components;
   buffer = (*dinfo.mem-&gt;alloc_sarray) ((j_common_ptr) &amp; dinfo, JPOOL_IMAGE,(JDIMENSION) stride, (JDIMENSION) 1);

   // Process JPEG scanlines
   while (dinfo.output_scanline &lt; dinfo.output_height)
   {
      jpeg_read_scanlines(&amp;dinfo, buffer, 1);
      ptr = buffer[0];
      for (row = 0; row &lt; stride; row++)
      {
         value = GETJSAMPLE(*ptr++);
         data[index++] = (unsigned char) value;
      }
   }

   // Finish decompression and release memory
   jpeg_finish_decompress(&amp;dinfo);
   jpeg_destroy_decompress(&amp;dinfo);
}





int main (int argc, char *argv[])
{

   printf(&quot;JPEG_read_data&quot;);

   screen_create_context(&amp;screen_ctx, SCREEN_APPLICATION_CONTEXT);
   screen_create_window(&amp;screen_win, screen_ctx);
   usage = SCREEN_USAGE_NATIVE;
   screen_set_window_property_iv(screen_win, SCREEN_PROPERTY_USAGE, &amp;usage);

   screen_create_window_buffers(screen_win, 2);
   screen_get_window_property_iv(screen_win, SCREEN_PROPERTY_BUFFER_SIZE, rect+2);
   screen_get_window_property_pv(screen_win, SCREEN_PROPERTY_RENDER_BUFFERS, (void **)screen_buf);

   int bg[] = { SCREEN_BLIT_COLOR, 0x00000000, SCREEN_BLIT_END };
   screen_fill(screen_ctx, screen_buf[0], bg);

   int format = SCREEN_FORMAT_RGB888;
   int size[2] = {1280, 768};
   screen_create_pixmap(&amp;screen_pix, screen_ctx); // TODO: Check failure
   screen_set_pixmap_property_iv(screen_pix, SCREEN_PROPERTY_FORMAT, &amp;format);
   usage = SCREEN_USAGE_WRITE | SCREEN_USAGE_NATIVE;
   screen_set_pixmap_property_iv(screen_pix, SCREEN_PROPERTY_USAGE, &amp;usage);
   screen_set_pixmap_property_iv(screen_pix, SCREEN_PROPERTY_BUFFER_SIZE, size);
   screen_create_pixmap_buffer(screen_pix);

   char *realPixels;
   int realStride;
   screen_get_pixmap_property_pv(screen_pix, SCREEN_PROPERTY_RENDER_BUFFERS, (void**)&amp;screen_pbuf);
   screen_get_buffer_property_pv(screen_pbuf, SCREEN_PROPERTY_POINTER, (void **)&amp;realPixels);
   //screen_get_buffer_property_iv(screen_pbuf, SCREEN_PROPERTY_STRIDE, &amp;realStride);

   JPEG_read_data(JPEG_open(&quot;/usr/local/share/images/48.jpg&quot;), realPixels);

   int hg[] = {
      SCREEN_BLIT_SOURCE_WIDTH, 1280,
      SCREEN_BLIT_SOURCE_HEIGHT, 768,
      SCREEN_BLIT_DESTINATION_X, 0,
      SCREEN_BLIT_DESTINATION_Y, 0,
      SCREEN_BLIT_DESTINATION_WIDTH, 1280,
      SCREEN_BLIT_DESTINATION_HEIGHT, 768,
      SCREEN_BLIT_TRANSPARENCY, SCREEN_TRANSPARENCY_SOURCE_OVER,
      SCREEN_BLIT_END
   };

   screen_blit(screen_ctx, screen_buf[0], screen_pbuf, hg);
   screen_post_window(screen_win, screen_buf[0], 1, rect, 0);
   while(1){
   }

   return (0);
}
</code></pre>
","<p>I found the answer of my question really quickly. Now I don't use libjpeg and instead I use libimg which uses jpeg decoder (img_codec_jpg.so) and provide a generic api for all the decoders for qnx. here are the working code -</p>
<pre><code>   #include &lt;stdio.h&gt;
   #include &lt;stdlib.h&gt;
   #include &lt;jpeglib.h&gt;
   #include &lt;jpegint.h&gt;
   
   #ifdef __QNX__
   #include &lt;time.h&gt;
   #include &lt;screen/screen.h&gt;
   #include &lt;png.h&gt;
   #include &lt;sys/netmgr.h&gt;
   #include &lt;sys/neutrino.h&gt;
   #include &lt;dirent.h&gt;
   #include &lt;img/img.h&gt;
   #endif
   
   screen_context_t screen_ctx;
   screen_window_t screen_win;
   const char* img_path = &quot;usr/local/share/images/48.jpg&quot;; /* Relative path to image asset */
   int viewport_size[2] = { 0, 0 };
   
   
   static int decode_setup(uintptr_t data, img_t *img, unsigned flags)
   {
       screen_window_t screen_win = (screen_window_t)data;
       screen_buffer_t screen_buf;
       int size[2];
   
       size[0] = img-&gt;w;
       size[1] = img-&gt;h;
       screen_set_window_property_iv(screen_win, SCREEN_PROPERTY_BUFFER_SIZE, size);
       screen_create_window_buffers(screen_win, 1);
   
       screen_get_window_property_pv(screen_win, SCREEN_PROPERTY_RENDER_BUFFERS, (void **)&amp;screen_buf);
       screen_get_buffer_property_pv(screen_buf, SCREEN_PROPERTY_POINTER, (void **)&amp;img-&gt;access.direct.data);
       screen_get_buffer_property_iv(screen_buf, SCREEN_PROPERTY_STRIDE, (int *)&amp;img-&gt;access.direct.stride);
   
       img-&gt;flags |= IMG_DIRECT;
       return IMG_ERR_OK;
   }
   
   static void decode_abort(uintptr_t data, img_t *img)
   {
       screen_window_t screen_win = (screen_window_t)data;
       screen_destroy_window_buffers(screen_win);
   }
   
   int load_image(screen_window_t screen_win, const char *path)
   {
       img_decode_callouts_t callouts;
       img_lib_t ilib = NULL;
       img_t img;
       int rc;
   
       rc = img_lib_attach(&amp;ilib);
       if (rc != IMG_ERR_OK) {
          printf(&quot;Failed to load lib \n&quot;);
           return -1;
       }
   
       memset(&amp;img, 0, sizeof(img));
       img.flags |= IMG_FORMAT;
       img.format = IMG_FMT_PKLE_XRGB8888;
   
       memset(&amp;callouts, 0, sizeof(callouts));
       callouts.setup_f = decode_setup;
       callouts.abort_f = decode_abort;
       callouts.data = (uintptr_t)screen_win;
   
       rc = img_load_file(ilib, path, &amp;callouts, &amp;img);
       img_lib_detach(ilib);
   
       return rc == IMG_ERR_OK ? 0 : -1;
   }
   
   
   
   int main(int argc, char **argv)
   {
       const int usage = SCREEN_USAGE_WRITE;
   
       screen_buffer_t screen_buf = NULL;
       int rect[4] = { 0, 0, 0, 0 };
   
       /* Setup the window */
       screen_create_context(&amp;screen_ctx, 0);
       screen_create_window(&amp;screen_win, screen_ctx);
       screen_set_window_property_iv(screen_win, SCREEN_PROPERTY_USAGE, &amp;usage);
   
       load_image(screen_win, img_path);
   
       screen_get_window_property_pv(screen_win, SCREEN_PROPERTY_RENDER_BUFFERS, (void **)&amp;screen_buf);
       screen_get_window_property_iv(screen_win, SCREEN_PROPERTY_BUFFER_SIZE, rect+2);
       viewport_size[0] = rect[2];
       viewport_size[1] = rect[3];
       screen_set_window_property_iv(screen_win, SCREEN_PROPERTY_SOURCE_SIZE , viewport_size);
   
       screen_post_window(screen_win, screen_buf, 1, rect, 0);
   
   
       while(1){
   
       }
   }
</code></pre>
<p>If it helped for you leave a comment. or let me know if you're still facing the problem.
Thanks,Satish</p>
"
34555207,Not found /proc/self/maps for QNX plaform,https://stackoverflow.com/questions/34555207/not-found-proc-self-maps-for-qnx-plaform,1,1451642768,"operating-system, virtual-memory, qnx, memory-mapping","<p>We have a code written for Linux, where we are parsing the maps file using std::ifstream ifs(""/proc/self/maps"");. I am porting that code for QNX platform where I can see the /proc/self/ folder is available but the maps file is not available.</p>

<ul>
<li>Who is creating the /proc/self/maps file in Linux?</li>
<li>How to make this code work in QNX platform?</li>
</ul>
",
23558296,Finding the heap usage of the process thread wise in qnx,https://stackoverflow.com/questions/23558296/finding-the-heap-usage-of-the-process-thread-wise-in-qnx,0,1399618323,"multithreading, memory-leaks, heap-memory, qnx","<p>My application running on a qnx machine is leading to serious memory leak over a period of time.It has 8 threads.I want to see a trend of heap usage by individual threads over a period of time to narrow down the problem. Using the flags available in pidin i am able to see stack usage trend alone.Is there any way to get the heap usage trend over a period of time ?</p>
",
4468991,Recommendations for UML tool to model C++/QNX (Eclipse-CDT)?,https://stackoverflow.com/questions/4468991/recommendations-for-uml-tool-to-model-c-qnx-eclipse-cdt,0,1292576760,"uml, eclipse-cdt, qnx","<p>Can someone recommend a UML modelling toolfor QNX? I'm not bothered about generating code (although it'd be nice) I just want to knock something up and I'm looking for some steer.</p>
<p>I've had a quick look at the mdt-uml2tools Eclipse plugin but I don't seem to be able to do compositions/aggregations, I guess because it's java related.</p>
<p>Any thoughts or recommendations?</p>
","<p>A number of comercial UML tool ventors support Eclipse integartion, for example:</p>
<p><a href=""http://www.visual-paradigm.com/product/sde/"" rel=""nofollow noreferrer"">Visual Paradigm SDE</a></p>
<p><a href=""http://www.sparxsystems.com.au/products/mdg/link/eclipse/index.html"" rel=""nofollow noreferrer"">Enterprise Architect Eclipse MDG Link</a></p>
<p><a href=""http://www.sparxsystems.com.au/products/mdg/int/eclipse/index.html"" rel=""nofollow noreferrer"">Enterprise Architect Eclipse MDG Integration</a></p>
<p>However if code generation is not a requirement, do you require such tight integration with Eclipse?</p>
"
6426146,Moving from void* and casting to an ABC with PVFs (will there be a speed hit?),https://stackoverflow.com/questions/6426146/moving-from-void-and-casting-to-an-abc-with-pvfs-will-there-be-a-speed-hit,0,1308663357,"c++, real-time, qnx","<p>I've just inherited (ahem) a QNX realtime project which uses a void*/downcasting/case statement mechanism to handle messaging. I'd prefer to switch to an abstract base class with pure virtual functions instead but I'm wondering if the original solution was done like that for speed reasons? it looks a lot like it was written originally in C and got moved at some point to C++, so I'm guessing that could be the reason behind it.</p>
<p>Any thoughts on this are appreciated. I don't want to make the code nice, safe and neat and then have it fail for performance reasons during testing.</p>
","<p>I doubt that performance will be a concern. If there are sufficient disparate values in the switch/case your compiler may not even optimize it into a jump table, setting up the possibility that the virtual dispatch could be <em>faster</em> than the switch.</p>

<p>If a pure virtual interface makes sense design-wise I would definitely go that way (prototype and profile it if you're really concerned).</p>
"
69019890,python subprocess.Popen throwing error while after a Thread is activated,https://stackoverflow.com/questions/69019890/python-subprocess-popen-throwing-error-while-after-a-thread-is-activated,1,1630526165,"python, subprocess, qnx","<p>I looked around, but I didn't see any information on this particular problem so I thought I'd ask it here:</p>
<p>Whenever I try to run a subprocess.Popen call after starting up a random thread, I get an OSError. My assumption is that there is some aspect to subprocess.py that I don't understand in relation to multithreading.</p>
<p>I am running python 2.7.3 on a QNX system.</p>
<p>Code test:</p>
<pre><code>import subprocess
import time
from threading import Thread

def Test():
  while(1):
     print &quot;Testing.&quot;
     time.sleep(1)

if __name__==&quot;__main__&quot;:
   subprocess.Popen('ls') # runs just fine

   Thread(target=Test).start()

   subprocess.Popen('ls') # throws OSError
</code></pre>
<p>Traceback</p>
<pre><code>Traceback (most recent call last):
   File &quot;test.py&quot;, line 16 in &lt;module&gt;
      subprocess.Popen('ls')
   File &quot;usr/local/lib/python2.7/subprocess.py&quot;, line 679, in __init__
      errread, errwrite)
   File &quot;usr/local/lib/python2.7/subprocess.py&quot;, line 1143, in _execute_child
      self.pid = os.fork()
OSError: [Errno 89] Function not implemented
</code></pre>
","<p>QNX is not designed to support <code>fork()</code> within a process after the process has already spawned new threads. From the QNX documentation...</p>
<blockquote>
<p>Suppose you have a process and you haven't created any threads yet (i.e., you're running with one thread, the one that called main()). When you call fork(), another process is created, also with one thread. This is the simple case.</p>
<p>Now suppose that in your process, you've called pthread_create() to create another thread. When you call fork(), it will now return ENOSYS (meaning that the function is not supported)! Why?</p>
<p>Well, believe it or not, this is POSIX compatible ‚Äî POSIX says that fork() can return ENOSYS. What actually happens is this: the Neutrino C library isn't currently built to handle the forking of a process with threads. When you call pthread_create(), the function sets a flag, effectively saying, ‚ÄúDon't let this process fork(), because I'm not prepared to handle it.‚Äù Then, in the library fork() function, this flag is checked, and, if set, causes fork() to return ENOSYS.</p>
</blockquote>
<p>(<a href=""https://www.qnx.com/developers/docs/6.5.0SP1.update/com.qnx.doc.neutrino_getting_started/s1_procs.html"" rel=""nofollow noreferrer"">source</a>, read the <code>Process creation and threads</code> section.)</p>
<p>I'm assuming <code>Thread(target=Test).start()</code> calls <code>pthread_create()</code> and accounts for the error you are seeing.</p>
<p>It is also worth noting the definition of <code>ENOSYS</code> also specifies the function is not implemented. See the following definition...</p>
<pre><code>ENOSYS Function not implemented (POSIX.1-2001).
</code></pre>
<p>(<a href=""https://man7.org/linux/man-pages/man3/errno.3.html"" rel=""nofollow noreferrer"">source</a>)</p>
<p>Thus, this is an OS level constraint. Not an issue with Python!</p>
"
68836147,Launch QNX on QEMU emulating Cortex-A15,https://stackoverflow.com/questions/68836147/launch-qnx-on-qemu-emulating-cortex-a15,2,1629304346,"arm, qemu, u-boot, qnx, qnx-ifs","<p>I have IFS images supposed to run on board similar to OMAP5 uEVM. I am trying to run it on a QEMU virtual machine with the same Cortex-A15 CPU.</p>
<p>I have a bundle of questions, but first of all I would like to ask is it eminently doable?</p>
<p>TLDR</p>
<p>I decided to use U-Boot as a bootloader. I compiled it with arm-linux-gnueabi-gcc, arm-linux-gnueabihf-gcc from Ubuntu and arm-eabi-gcc-7.5 from linaro. All 3 U-Boot versions work. It looks like QNX binaries don't use hard float (armhf or armle-v7) even if target CPU support it. Is the gcc version important? Do I have to use one from the QNX toolchain to build U-Boot?</p>
<p>The image must be based on QNX 6.5. ifsdump gives me</p>
<pre><code>Decompressed 3333189 bytes-&gt; 9535664 bytes
   Offset     Size  Name
        0        8  *.boot
        8      100  Startup-header flags1=0xd flags2=0 paddr_bias=0x7fce00000000
                       preboot_size=0x8
                       image_paddr=0x80100008 stored_size=0x347e78
                       startup_size=0x1a108 imagefs_size=0x9180b0
                       ram_paddr=0x80100008 ram_size=0x9321b8
                       startup_vaddr=0x8010097c
      108    1a008  startup.*
    1a110       5c  Image-header mountpoint=/
                       flags=0x4 script=3 boot=3758096386 mntflg=0
    1a16c     15b4  Image-directory
     ----     ----  Root-dirent
                       gid=0 uid=0 mode=0755 ino=1 mtime=606f22bf
    1c000    94000  proc/boot/procnto-smp-instr
                       gid=0 uid=0 mode=0777 ino=3758096386 mtime=606f1eb4
----- procnto-smp-instr - ELF32LE ET_EXEC EM_ARM -----
 e_flags              : 0x5000002
 e_entry              : 0xfe051c60
 e_phoff              : 52
 e_phentsize          : 32
 e_phnum              : 4
 segment 0
   p_type               : Unknown(1879048193)
   p_offset             : 566704
   p_vaddr              : 0xFE0A65B0
   p_paddr              : 0xFE0A65B0
   p_filesz             : 32
   p_memsz              : 32
   p_flags              : R--
   p_align              : 4
 segment 1
   p_type               : PT_LOAD
   p_offset             : 4096
   p_vaddr              : 0xFE01D000
   p_paddr              : 0x8011D000
   p_filesz             : 550320
   p_memsz              : 550320
   p_flags              : R-X
   p_align              : 4096
 segment 2
   p_type               : PT_LOAD
   p_offset             : 557056
   p_vaddr              : 0xFE0A4000
   p_paddr              : 0x801A4000
   p_filesz             : 46584
   p_memsz              : 46584
   p_flags              : RW-
   p_align              : 4096
 segment 3
   p_type               : PT_NULL
   p_offset             : 0
   p_vaddr              : 0x0
   p_paddr              : 0x0
   p_filesz             : 0
   p_memsz              : 0
   p_flags              : ---
   p_align              : 4
</code></pre>
<p>I extracted the image with <code>dumpifs -u QNX-IFS.raw QNX-IFS</code> and copied it to a virtual drive.</p>
<p>My RAM space starts at 0x40000000 (virt-6.0 machine) but the target board at 0x80100000. So I adjusted original <code>startup_vaddr=0x8010097c</code> and executed</p>
<pre><code>fatload virtio 0:1 0x40400000 QNX-IFS.raw
go 0x4040097c
</code></pre>
<p>It hangs forever. Startup-header and startup.* seems to be hardware specific, doesn‚Äôt it? But it‚Äôs goal is to run /proc/boot/procnto-smp-instr and startup scripts.</p>
<p>Next I tried to launch a kernel using bootelf. It crashes with:</p>
<pre><code>=&gt; bootelf 0x4041c000
## Starting application at 0xfe051c60 ...
prefetch abort
pc : [&lt;fe051c5c&gt;]          lr : [&lt;bff598e0&gt;]
reloc pc : [&lt;3e0fbc5c&gt;]    lr : [&lt;000038e0&gt;]
</code></pre>
<p>Prefetch abort means that it references memory out of range. This magic address comes from the elf header. It implies that it reads the elf-header correctly and tries to launch it.</p>
<pre><code>readelf -a proc/boot/procnto-smp-instr
ELF Header:
  Magic:   7f 45 4c 46 01 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF32
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              EXEC (Executable file)
  Machine:                           ARM
  Version:                           0x1
  Entry point address:               0xfe051c60
  Start of program headers:          52 (bytes into file)
  Start of section headers:          0 (bytes into file)
  Flags:                             0x5000002, Version5 EABI, &lt;unknown&gt;
  Size of this header:               52 (bytes)
  Size of program headers:           32 (bytes)
  Number of program headers:         4
  Size of section headers:           0 (bytes)
  Number of section headers:         0
  Section header string table index: 0

There are no sections in this file.

There are no sections to group in this file.

Program Headers:
  Type           Offset   VirtAddr   PhysAddr   FileSiz MemSiz  Flg Align
  EXIDX          0x08a5b0 0xfe0a65b0 0xfe0a65b0 0x00020 0x00020 R   0x4
  LOAD           0x001000 0xfe01d000 0x8011d000 0x865b0 0x865b0 R E 0x1000
  LOAD           0x088000 0xfe0a4000 0x801a4000 0x0b5f8 0x0b5f8 RW  0x1000
  NULL           0x000000 0x00000000 0x00000000 0x00000 0x00000     0x4
</code></pre>
<p>Both boards have the same 2Gb of RAM but different virtual memory address space. I decided to extend my board memory to 3Gb that makes the entry point address in range. Then I tried to launch a kernel again. It crashes again with new error:</p>
<pre><code>=&gt; bootelf 0x4041c000
## Starting application at 0xfe051c60 ...
undefined instruction
pc : [&lt;fee13c18&gt;]          lr : [&lt;fff598e0&gt;]
reloc pc : [&lt;feebdc18&gt;]    lr : [&lt;000038e0&gt;]
sp : fee14d40  ip : 00000030     fp : 00000028
r10: 00000000  r9 : fef15ed8     r8 : 00000000
r7 : fef30620  r6 : 00000000     r5 : 00000000  r4 : 4041c000
r3 : fe051c60  r2 : 00000001     r1 : fef30620  r0 : 00000000
Flags: nZCv  IRQs off  FIQs off  Mode SVC_32
Code: 00000000 00000000 00000000 00000000 (fee140cf)
Resetting CPU ...
</code></pre>
<p>On one hand /proc/boot/procnto-smp-instr is elf-executable for Cortex-A15, on the other hand kernel is not a regular executable. Header implies that it is hardware specific.</p>
<p>Is there any chase to run it?</p>
<p>Also I found a package with kernel for Cortex-A15 on community qnx web site. It contains four versions of procnto*. But they are relocatable object files for armle-v7. Is it possible to link it to make it executable?</p>
<p>I am really not experienced in arm development neither QNX. I would really appreciate any thought or advice.</p>
","<p>Your main problem here is that Arm boards are generally pretty different from each other, and so bootloaders and OS kernels typically have to be built with support for whatever board they are going to run on. (This is very different from the x86 world, where basically every machine looks more-or-less like a standard PC and software is all built to run on that.)</p>
<p>So the short answer is that unless the QNX images you have were built to be pretty generic &quot;run on a lot of different things, and take a device tree file to tell them about the hardware&quot;[*], then they are only going to run on QEMU if QEMU has a model of the hardware that the QNX image is expecting. There is no QEMU model of OMAP5.</p>
<p>[*] You can build Linux like this. You can also build Linux to be very specifically targeted to a given board, with no extra device driver support for anything else. I don't know what QNX lets you do.</p>
"
35139728,Is there a QNX virtual machine for QEMU,https://stackoverflow.com/questions/35139728/is-there-a-qnx-virtual-machine-for-qemu,4,1454358586,"virtual-machine, emulation, qemu, qnx","<p>I am developing on a Windows machine but I have to test it on a PowerPC running QNX. I don't have constant access to the PowerPC, and I just can use it for some test. I was wondering if I could debug my code on a QNX virtual machine on QEMU emulating the PowerPC.</p>
<p>I have found the QEMU binaries for Windows <a href=""http://lassauge.free.fr/qemu/"" rel=""nofollow noreferrer"">here</a> but I can not find the QNX VM for QEMU. Has anyone done this before?</p>
",
29790841,Convert from unix timespec to NTP,https://stackoverflow.com/questions/29790841/convert-from-unix-timespec-to-ntp,1,1429688380,"ntp, qnx, qnx-neutrino, timespec","<p>I need to convert from unix timespec to NTP timestamp: Epoch, seconds from era, fraction of second.</p>

<p>NTP Timestamp is explained here: <a href=""https://www.eecis.udel.edu/~mills/time.html"" rel=""nofollow"">NTP Timestamp</a></p>

<p>Here is my code. Do you think that it is OK?</p>

<pre><code>void unix_ns_2ntp(struct ntp_time *ntp, const struct timespec *ts)
{
    uint64_t era_and_offset = ((uint64_t)tv-&gt;tv_sec) + ((uint64_t)UNIX_NTP_OFFSET);
    uint32_t era = era_and_offset&gt;&gt;32;
    ntp-&gt;hi = (uint32_t)(era_and_offset);
    ntp-&gt;lo = (uint32_t)((double)ts-&gt;tv_nsec * (double)(1LL&lt;&lt;32) * 1.0e-9);
}
</code></pre>
",
66096389,Start time of a process in QNX,https://stackoverflow.com/questions/66096389/start-time-of-a-process-in-qnx,1,1612762781,"process, qnx, qnx-neutrino","<p>I tried to get the start time of a process in QNX using the <strong>ps</strong> command i.e. <strong>ps -A -o &quot;pid, stime, cmd&quot;</strong>, but it's showing the start time of all processes as <strong>00.00</strong> (seconds field is missing).</p>
<p>How to get start time of all processes in QNX using command ?</p>
",
62017172,QNX: Detect memory leak in program,https://stackoverflow.com/questions/62017172/qnx-detect-memory-leak-in-program,3,1590479700,"memory-leaks, qnx","<p>For: QNX Software Development Platform 6.5.0</p>

<p>I have run into a problem on a QNX 6.5.0 system where my program silently exists, and has been found to be due to a race condition similar to this post here:
<a href=""https://stackoverflow.com/questions/13339462/thread-stops-randomly-in-the-middle-of-a-while-loop"">Thread stops randomly in the middle of a while loop</a></p>

<p>I have done some research and found that QNX has some built in tools to monitor memory and detect any leaks that are present in the program, however the instructions I have come across are for the QNX 6.5.0 IDE GUI, and I am running QNX on a server in command line.</p>

<p>example: <a href=""http://www.qnx.com/developers/docs/6.5.0/index.jsp?topic=%2Fcom.qnx.doc.ide.userguide%2Ftopic%2Fmemory_DetecMemLeaks_.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/6.5.0/index.jsp?topic=%2Fcom.qnx.doc.ide.userguide%2Ftopic%2Fmemory_DetecMemLeaks_.html</a></p>

<p>I'm kind of stuck with this as there isn't really a simple way to do this as the software designed is for logging purposes and is taking thousands of entries per second, and silently exists after a few hours. So I can't sit here waiting 2 hours each round.</p>

<p>Has anyone had experience with debugging mem leaks in QNX?</p>

<p><strong>Edit:</strong> I am also using boost::lockfree::spsc_queue which may be causing the crash.</p>
","<p>I was able to solve this by utilising Valgrind. I compiled my program and valgrind for linux and was able to debug my issue this way.</p>
"
68129348,Maximum value of the PID in QNX,https://stackoverflow.com/questions/68129348/maximum-value-of-the-pid-in-qnx,0,1624616017,"qnx, qnx-neutrino","<p>Do you know what is the maximum value of Process ID both in 32-bit and 64-bit QNX systems and if there is a header where it is defined?</p>
<p>Thank you.</p>
","<p>The maximum value for a pid_t in QNX is the largest positive integer representable in that type.  For QNX 6.x, where pid_t == int32_t, that would be INT_MAX from &lt;limits.h&gt;.   I don't have QNX 7.x handy to check, so you'll have to check the definition (try &lt;sys/target_nto.h&gt;) to find out what's being used there.</p>
"
67830057,Unable to ssh into QNX 6.5.0 VirtualBox session,https://stackoverflow.com/questions/67830057/unable-to-ssh-into-qnx-6-5-0-virtualbox-session,1,1622766133,"ssh, qnx","<p>I've reinstalled the QNX RTOS 6.5.0 on virtualbox of which I was able to ssh into using the following command: <code>ssh root@127.0.0.1 -p 3022</code>. The network settings inside my VirtualBox environment is set to NAT, and port forwarding set to:</p>
<p><a href=""https://i.sstatic.net/GgpXC.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/GgpXC.png"" alt=""QNX VirtualBox Network settings"" /></a></p>
<p>When attempting to connect with <code>-vvv</code> flags:</p>
<pre><code>$ ssh -vvv root@127.0.0.1 -p 3022
OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017
debug1: Reading configuration data /home/main/.ssh/config
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: /etc/ssh/ssh_config line 19: Applying options for *
debug2: resolving &quot;127.0.0.1&quot; port 3022
debug2: ssh_connect_direct: needpriv 0
debug1: Connecting to 127.0.0.1 [127.0.0.1] port 3022.
debug1: Connection established.
debug1: identity file /home/main/.ssh/id_rsa type 0
debug1: key_load_public: No such file or directory
debug1: identity file /home/main/.ssh/id_rsa-cert type -1
debug1: key_load_public: No such file or directory
debug1: identity file /home/main/.ssh/id_dsa type -1
debug1: key_load_public: No such file or directory
debug1: identity file /home/main/.ssh/id_dsa-cert type -1
debug1: key_load_public: No such file or directory
debug1: identity file /home/main/.ssh/id_ecdsa type -1
debug1: key_load_public: No such file or directory
debug1: identity file /home/main/.ssh/id_ecdsa-cert type -1
debug1: key_load_public: No such file or directory
debug1: identity file /home/main/.ssh/id_ed25519 type -1
debug1: key_load_public: No such file or directory
debug1: identity file /home/main/.ssh/id_ed25519-cert type -1
debug1: Local version string SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3
ssh_exchange_identification: Connection closed by remote host
</code></pre>
<p>On QNX I have the following options modified in <code>/etc/ssh/sshd_config</code>:</p>
<pre><code>PermitRootLogin yes
PermitEmptyPasswords yes
Subsystem sftpd /usr/libexec/sftp-server
</code></pre>
<p>I am also able to ssh into my laptop via the vm, however not the other way around. I also tried ssh'ing into my laptop which works, then ssh'ing back into the vm in the same vm session and am presented with the same error.</p>
","<p>Solved. The solution was to generate new rsa and dsa keys with:</p>
<pre><code>random -t
ssh-keygen -t rsa -f /etc/ssh/ssh_host_key -b 1024
ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key
ssh-keygen -t dsa -f /etc/ssh/ssh_host_dsa_key
</code></pre>
<p>and then add sshd to the <code>/etc/group</code> list: <code>sshd:x:6:root</code></p>
<p>then re-run sshd: <code>/usr/sbin/sshd</code></p>
<p>source: <a href=""https://stackoverflow.com/questions/150737/how-do-you-install-an-ssh-server-on-qnx"">How do you install an ssh server on qnx?</a></p>
<p>To extend on the above sourced solution, I found that on reboot I was no longer able to ssh into the VM. This was solved by going into <code>/etc/rc.d/</code> and adding the line <code>/usr/sbin/sshd</code> to the <code>rc.local</code> file.</p>
"
17116332,Are there any free or open-source persistent publish/subscribe (PPS) systems?,https://stackoverflow.com/questions/17116332/are-there-any-free-or-open-source-persistent-publish-subscribe-pps-systems,1,1371239877,"linux, cluster-computing, message-queue, raspberry-pi, qnx","<p>I've been working with QNX lately and found their Persistent Publish/Subscribe (PPS) to be very useful. Does anyone know if there are any systems that are similar to QNX PPS that might work with the Raspberry Pi?</p>
",
23246651,"The ported Node.js to QNX OS, is it accessible somewhere?",https://stackoverflow.com/questions/23246651/the-ported-node-js-to-qnx-os-is-it-accessible-somewhere,1,1398261593,"node.js, qnx","<p>I have read on <a href=""http://qnxauto.blogspot.de/2012/12/meet-qnx-concept-team-allan-hudgins-web.html"" rel=""nofollow"">QNX blog</a> that <strong>Node.js is ported to QNX OS</strong>, but I cannot find any more details in this regard. I tried to contact the mentioned person on that post, but received no reply yet. I also asked the same question on QNX Foundry27 forums, waiting for an answer.</p>

<p>Does anyone know if the ported Node.js to QNX OS is accessible somewhere?</p>
","<p>I have received the ported source code.</p>

<p>And here it is shared with you : <a href=""http://blog.hemnik.com/2014/06/nodejs-for-qnx-source-code.html"" rel=""nofollow"">http://blog.hemnik.com/2014/06/nodejs-for-qnx-source-code.html</a> !</p>
"
66737669,QNX 6.5 - Repack ifs root stage 2 for MIB2,https://stackoverflow.com/questions/66737669/qnx-6-5-repack-ifs-root-stage-2-for-mib2,3,1616361585,qnx,"<p>I have been working on a custom patch for my car with MIB2 unit for some time and would like to try my modified MIBRoot file.
The command I used to repack everything is:</p>
<p>mkxfs -t ifs -nn -o ./ -r / ./mkifs_attributes.txt ./ifs_extracted ./patched_ifs.ifs</p>
<p>But the problem is that the repackaging is not working properly, because the mkifs_attribute.txt file used is probably not fine for my MIB2 or I have a version that is not correct.
In fact, when I do a:</p>
<p>diff -r ./original/ifs_extracted ./repack/ifs_extracted</p>
<p>all files in ./repack/ifs_extracted are different from the originals, when instead only the MIBRoot file should be different.</p>
<p>my mkifs_attribute contain this:</p>
<pre><code>#Porsche PCM4/MIB2 ifs-root (stage 2) attributes file
#Before packing FS: EXPORT QNX_TARGET=&quot;/&quot;
#Command to pack: mkxfs -t ifs -nn -o ./ -r / attributes.txt /unpacked_fs /packed_fs.ifs

[-followlink]        #Do not resolve links
[compress=2]         #LZO Compression
[-bigendian]         #Little Endian (ARMLE)
[-autolink]          #Do not auto link shared objects
[perms=777]          #chmod 777
[uid=0 gid=0]        #chown root:root

#You can add a script to be executed after mount here, one line only
#[+script] .script = {
#touch /dev/shmem/AudioFadedIn; touch /dev/shmem/production_mode}

#Symlinks. Add lines here to match your dumpifs symlinks
#[type=link] dest_file=source_file
[type=link] /lib/SPC_configuration.so=/lib/libSPC_configuration.so
[type=link] /lib/AudioConfig_ARM.so=/lib/libAudioConfig_ARM.so
[type=link] /lib/AudioConfig_DSP.so=/lib/libAudioConfig_DSP.so
[type=link] /usr/bin/flashunlock=/usr/bin/flashlock
[type=link] /usr/bin/libi2c-inic-master.so=/lib/libi2c-inic-master.so.1.0
[type=link] /lib/librdshbfpga.so.1.0.0=/lib/librdshbfpga.so
[type=link] /lib/libSysMoCCAFrameworkSharedSo.so=/lib/libSysMoCCAFrameworkSharedSo.so.6
[type=link] /lib/AudioConfig_DSP.so=/lib/libAudioConfig_DSP.so
[type=link] /lib/liba2itodspipc.so=/lib/liba2itodspipc.so.1
</code></pre>
<p>Or am i wrong something?
If anyone has a correct mkxfs and mkxfs_attribute.txt could you please provide it to me so I can give it a try?</p>
",
66565252,Connect to QNX on QEMU via ssh,https://stackoverflow.com/questions/66565252/connect-to-qnx-on-qemu-via-ssh,0,1615381045,"windows, ssh, qemu, qnx, qnx-neutrino","<p>I would like to connect to QNX(running on the QEMU on Windows) via ssh.
Does anyone know maybe what I need to set up, configure to do this?
Thanks in advance.</p>
",
59217242,QNX gdb integration with VS or VSCode,https://stackoverflow.com/questions/59217242/qnx-gdb-integration-with-vs-or-vscode,2,1575651010,"visual-studio, visual-studio-code, gdb, vscode-debugger, qnx","<p>I am trying to set up a project in VSCode or Visual Studio (both actually), to build and debug software on QNX target.
So far, I can get debugging by attaching to process to work properly, however, when I am setting up debugging session to run the process:</p>

<pre><code>        ""customLaunchSetupCommands"": [
            {
                ""text"": ""-enable-pretty-printing"",
                ""ignoreFailures"": true
            },
            {
                ""text"": ""set solib-search-path &lt;mypath on host&gt;"",
                ""ignoreFailures"": true
            },
            {
                ""text"": ""file &lt;exe on host&gt;"",
                ""description"": ""load file"",
                ""ignoreFailures"": false
            },
            {
                ""text"": ""handle SIGQUIT nostop"",
                ""ignoreFailures"": true
            },
            {
                ""description"": ""Connect to target"",
                ""text"": ""target qnx &lt;mytarget&gt;"",
                ""ignoreFailures"": false
            },
            {
                ""text"": ""upload &lt;exe on host&gt; &lt;exe on target&gt;"",
                ""ignoreFailures"": false
            },
            {
                ""text"": ""run"",
                ""ignoreFailures"": false
            }
        ],
</code></pre>

<p>debugging session fails:
<a href=""https://i.sstatic.net/g8ZJ5.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/g8ZJ5.png"" alt=""error message""></a>
I get the same error in Visual Studio and VSCode.
I am using gdb locally on host (ntoaarch64-gdb that came with QNX installation)</p>
","<p>Had the exact same problem, after some testing with different attributes the following is working:</p>
<pre><code>{
  &quot;version&quot;: &quot;0.2.1&quot;,
  &quot;defaults&quot;: {},
  &quot;configurations&quot;: [
    {
      &quot;type&quot;: &quot;cppdbg&quot;,
      &quot;targetArchitecture&quot;: &quot;arm&quot;,
      &quot;project&quot;: &quot;CMakeLists.txt&quot;,
      &quot;projectTarget&quot;: &quot;$target&quot;,
      &quot;program&quot;: &quot;$path-to-binary&quot;,
      &quot;name&quot;: &quot;$name&quot;,
      &quot;miDebuggerPath&quot;: &quot;C:/qnx660/host/win32/x86/usr/bin/ntoarmv7-gdb.exe&quot;,
      &quot;MIMode&quot;: &quot;gdb&quot;,
      &quot;externalConsole&quot;: true,
      &quot;launchCompleteCommand&quot;: &quot;exec-run&quot;,
      &quot;stopOnEntry&quot;: true,


      &quot;setupCommands&quot;: [
        {
          &quot;description&quot;: &quot;setup target&quot;,
          &quot;text&quot;: &quot;target qnx 192.168.101.11:8000&quot;
        },
        {
          &quot;description&quot;: &quot;upload&quot;,
          &quot;text&quot;: &quot;upload $path /tmp/test-signals&quot;
        },
        {
          &quot;description&quot;: &quot;load symbols&quot;,
          &quot;text&quot;: &quot;file $path&quot;
        }
      ]
    }
  ]
}
</code></pre>
<p>I think the most important part is to remove the run command and add <strong>&quot;launchCompleteCommand&quot;: &quot;exec-run&quot;</strong>.</p>
<p>Hope this helps someone as it was driving me crazy :)</p>
"
66257673,Does QNX support copy-on-write for child process?,https://stackoverflow.com/questions/66257673/does-qnx-support-copy-on-write-for-child-process,1,1613642713,"qnx, mmu, copy-on-write","<p>As we know on Linux, after the parent process creates a child process by using <code>fork</code>, the child process will have the same memory map as the parent process for the data segment.
When the child process modifies some variables, the Linux kernel will catch this access, and create a page, copy it, and remap this page for the child process, then the new value actually goes into the new page, this is the copy-on-write what I am talking about.
As we know, QNX is a real-time OS, so my question is whether QNX has this mechanism?</p>
",
66111622,How to find out what image version is installed on QNX?,https://stackoverflow.com/questions/66111622/how-to-find-out-what-image-version-is-installed-on-qnx,1,1612833157,"qnx, neutrino","<p>I am trying to find out what image version is installed on a QNX box.</p>
<p>Checking this link: <a href=""http://www.qnx.com/developers/docs/6.5.0/index.jsp?topic=%2Fcom.qnx.doc.neutrino_utilities%2Fp%2Fprocnto.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/6.5.0/index.jsp?topic=%2Fcom.qnx.doc.neutrino_utilities%2Fp%2Fprocnto.html</a></p>
<p>I went into /sbin/ and had a look in there but there aren't any binaries I can see that would provide this information.</p>
<p>I attempted to run the command <code>pci -v</code> which printed a lot of system info, but no image version/information.</p>
","<p>You can try:</p>
<pre><code>uname -a
</code></pre>
<p>More info here: <a href=""http://www.qnx.com/developers/docs/7.0.0/index.html#com.qnx.doc.neutrino.utilities/topic/u/uname.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/7.0.0/index.html#com.qnx.doc.neutrino.utilities/topic/u/uname.html</a></p>
"
62555471,error &quot;CARES_SIZEOF_LONG &amp; CARES_SIZEOF_ARES_SOCKLEN_T definition is missing!&quot;,https://stackoverflow.com/questions/62555471/error-cares-sizeof-long-cares-sizeof-ares-socklen-t-definition-is-missing,0,1593003072,"grpc, qnx","<p>I am trying to cross compile gRPC with QNX7 for ARM.
I am using cmake for c++.</p>
<p>I am using following command:</p>
<p>I am getting following error message while compiling</p>
<pre><code>[ 42%] Building CXX object CMakeFiles/grpc_unsecure.dir/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_libuv.cc.o
[ 42%] Building CXX object CMakeFiles/grpc_unsecure.dir/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc.o
In file included from /usr/include/ares.h:23:0,
                 from /local/mnt/workspace/grpc/grpc/src/core/ext/filters/client_channel/resolver/dns/c_ares/grpc_ares_ev_driver_posix.cc:23:
/usr/include/ares_rules.h:72:4: error: #error &quot;CARES_SIZEOF_LONG definition is missing!&quot;
 #  error &quot;CARES_SIZEOF_LONG definition is missing!&quot;
    ^
/usr/include/ares_rules.h:82:4: error: #error &quot;CARES_SIZEOF_ARES_SOCKLEN_T definition is missing!&quot;
 #  error &quot;CARES_SIZEOF_ARES_SOCKLEN_T definition is missing!&quot;
    ^
</code></pre>
<p>Does anybody face this issue before? How I can solve this?</p>
","<p>I tried to delete the cares library which was installed in my ubuntu system, so that it should use the cross compiler cares library.</p>
"
65990805,readlink() error while reading /proc/self/exefile on QNX,https://stackoverflow.com/questions/65990805/readlink-error-while-reading-proc-self-exefile-on-qnx,0,1612174438,"qnx, qnx-neutrino, blackberry-qnx, qnx-ifs","<p>I am working on QNX platform, in which I need to get the path of executable which is running.</p>
<p>I have wrote a small peice of code, which is returning always -1:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;errno.h&gt;
#include &lt;string.h&gt;

extern int errno;

int main( int argc, char** argv )
{
    char buf[512] = {0};
    const char mypath[100] = &quot;/proc/self/exefile&quot;;
    errno = 0;
    printf(&quot;The value readlink:: %d %s\n&quot;,readlink(mypath, buf, 512 ), strerror( errno ));    
    return( 0 );
}
</code></pre>
<p>When I ran above code then I get following output:</p>
<pre><code>The value readlink:: -1 No such file or directory
</code></pre>
<p>Am I missing anything?
What needs to be done to get my current exe path in QNX?</p>
",
53455045,"Only pwd command succeeds in Paramiko, others fail with &quot;ksh: ...: cannot execute - No such file or directory&quot;",https://stackoverflow.com/questions/53455045/only-pwd-command-succeeds-in-paramiko-others-fail-with-ksh-cannot-execut,2,1543032033,"python, shell, ssh, paramiko, qnx","<p>Successfully able to create an SSH connection between my windows machine and an QNX (~linux) system.  </p>

<p>Only command that gets any output (stdout) is 'pwd`.</p>

<pre><code># SSH Connection stuff

stdin, stdout, stderr = client.exec_command('pwd')
output = stdout.readlines()
error = stderr.readlines()
readback = [output, error]

for index, val in enumerate(readback):
    readback = '\n'.join(val)
    print(""%s:\t%s"") %(index, readback)
</code></pre>

<p>Sample output of 'pwd':</p>

<pre class=""lang-none prettyprint-override""><code>0: /home/rxm
1:
</code></pre>

<p>When I change the command from <code>pwd</code> to <code>ls</code>:</p>

<pre class=""lang-none prettyprint-override""><code>0:  
1:  ksh: ls: cannot execute - No such file or directory
</code></pre>

<p>I get this same error when trying other simple commands, e.g. <code>pidin</code>, <code>ifconfig</code>, etc.</p>

<p>All the necessary commands works when I use PuTTY and create an SSH connection.</p>

<p>Has anyone seen this behavior.  Didn't have a whole luck when going the <code>invoke.shell</code> route either.  Thanks.</p>
","<p><code>pwd</code> is probably built in to your shell, whereas all the other commands you're running are not.  <code>ls</code> is not found because <code>$PATH</code> is not set, so you can either set the <code>PATH</code> environment variable, or use a full path when invoking commands, such as <code>/bin/ls</code>.</p>
"
13176361,How to mount a qnx partition as read -write enabled only for executing particular lines of code?,https://stackoverflow.com/questions/13176361/how-to-mount-a-qnx-partition-as-read-write-enabled-only-for-executing-particula,2,1351770349,"linux, mount, qnx, qnx-neutrino","<p>ie the partition of interest is already mounted as read-only.the partition need to be mounted as a rw enabled partition for executing particular lines of script alone.After that the partition should go to it's previous state of read only.</p>
","<p>To remout a partition read-write:</p>

<pre><code>mount /mnt/mountpoint -oremount,rw
</code></pre>

<p>and to remout read-only</p>

<pre><code>mount /mnt/mountpoint -oremount,ro
</code></pre>
"
65793885,Convert errno to exit codes,https://stackoverflow.com/questions/65793885/convert-errno-to-exit-codes,0,1611067773,"c++, linux, error-handling, errno, qnx","<p>I'm working on lib which uses a lot of file system functions.</p>
<p>What I want is that my function returns various of <strong>error codes</strong> (not just -1 as error) depending on <strong>errno</strong> in case file system function fails.</p>
<p>Although I could use <strong>errno values</strong> directly but I want to create some abstraction layer between my functions <strong>error codes</strong> and <strong>system errno</strong> (e.g. my error values begins on -1000 and are negative whereas errno values are positive).</p>
<p>My question what is the best way to implement it.</p>
<p>For now I see two possible solution:</p>
<ol>
<li>use an enum with error codes and <strong>switch case</strong> function to translate, e.g.:</li>
</ol>
<pre><code>    typedef enum {
    MY_ERROR_EPERM  = -1104,  /* Operation not permitted                  */
    MY_ERROR_ENOENT = -1105,  /* No such file or directory                */
//  ...
    } MyReturnCodes_t;
int ErrnoToErrCode(unsigned int sysErrno) {
        int error = ENOSYS;
        switch(sysErrno) {
        case EPERM: error = MY_ERROR_EPERM; break;
        case ENOENT: error = MY_ERROR_ENOENT; break;
//      ...
        }
        return error;
}
</code></pre>
<ol start=""2"">
<li>use translation directly in <strong>enum</strong>:</li>
</ol>
<pre><code>#define ERR_OFFSET -1000
typedef enum {
    MY_ERROR_EPERM  = ERR_OFFSET - EPERM,   /* Operation not permitted   */
    MY_ERROR_ENOENT = ERR_OFFSET - ENOENT,  /* No such file or directory */
    MY_ERROR_ESRCH  = ERR_OFFSET - ESRCH,   /* No such process           */
 //  ...
} MyReturnCodes_t;
</code></pre>
<p>Which way is more constant?</p>
<p>One more point: This library should be used both on <strong>QNX</strong> and <strong>Linux OS</strong>, what is the proper way to align errno codes (which different in some cases)?</p>
","<p>I¬¥d go for a <code>std::map</code> in a dedicated function. You don't have to care about gaps or anything as long as you use the provided error macros:</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;errno.h&gt;
#include &lt;map&gt;

namespace MyError
{
    
enum MyReturnCode: int 
{
    MY_INVALID_VAL  = 0    ,  /* Invalid Mapping                          */
    MY_ERROR_EPERM  = -1104,  /* Operation not permitted                  */
    MY_ERROR_ENOENT = -1105,  /* No such file or directory                */
};

MyReturnCode fromErrno(int e)
{
    static const std::map&lt;int, MyReturnCode&gt; mapping {
        { EPERM, MY_ERROR_EPERM},
        { ENOENT, MY_ERROR_ENOENT}
    };
    
    if(mapping.count(e))
        return mapping.at(e);
    else
        return MY_INVALID_VAL;
}

}

int main()
{
    std::cout &lt;&lt; MyError::fromErrno(ENOENT) &lt;&lt; std::endl;
    std::cout &lt;&lt; MyError::fromErrno(42) &lt;&lt; std::endl;

    return 0;
}
</code></pre>
<p><a href=""http://coliru.stacked-crooked.com/a/1da9fd44d88fb097"" rel=""nofollow noreferrer"">http://coliru.stacked-crooked.com/a/1da9fd44d88fb097</a></p>
"
64072247,Why is gdb refusing to load my shared objects and what is the validation operation,https://stackoverflow.com/questions/64072247/why-is-gdb-refusing-to-load-my-shared-objects-and-what-is-the-validation-operati,2,1601074611,"gdb, embedded, dynamic-linking, qnx, shared-objects","<h2>Main question:</h2>
<p>In Ubuntu trying to debug an embedded application running in QNX, I am getting the following error message from gdb:</p>
<p><code>warning: Shared object &quot;$SOLIB_PATH/libc.so.4&quot; could not be validated and will be ignored.</code>,</p>
<p><strong>Q: What is the &quot;validation&quot; operation going on ?</strong></p>
<p>After some research I found that the information reported by <code>readelf -n libfoo.so</code> contains a build-id and that this is compared against something and there could be a mismatch causing gdb to refuse to load the library. If that's the case <strong>what ELF file's build-id is the shared object's build-id compared against ? Can I find this information parsing the executable file ?</strong></p>
<h2>More context:</h2>
<p>I have a <em>.core</em> file for this executable. I am using a version of gdb provided by QNX and making sure I use <code>set sysroot</code> and <code>set solib-search-path</code> to where I installed the QNX toolchain.</p>
<p>My full command to launch gdb in Ubuntu is :</p>
<p><code>$QNX_TOOLCHAIN_PATH/ntox86_64-gdb --init-eval-command 'set sysroot $SYSROOT_PATH' --init-eval-command 'set solib-search-path $SOLIB_PATH --init-eval-command 'python sys.path.append(&quot;/usr/share/gcc-8/python&quot;);' -c path-to-exe.core path-to-executable-bin</code></p>
<p>Gdb is complaining that it cannot load shared objects :</p>
<p><code>warning: Shared object &quot;$SOLIB_PATH/libc.so.4&quot; could not be validated and will be ignored.</code></p>
","<p>The big thing here is to make sure you're using the exact same binary that is on the target (that the program runs over). This is often quite difficult with libc, especially because libc/ldqnx are sometimes &quot;the same thing&quot; and it confuses gdb.</p>
<p>The easiest way to do this is to log your mkifs output (on the linux host):</p>
<pre><code>make 2&gt;&amp;1 | tee build-out.txt
</code></pre>
<p>and read through that, search for libc.so.4, and copy the binary that's being pulled onto the target into . (wherever you're running gdb) so you don't need to mess with SOLIB paths (the lazy solution).</p>
<p>Alternatively, scp/ftp a new libc (one that you want to use, and ideally one that you have associated symbols for) into /tmp and use LD_LIBRARY_PATH to pull that one (and DL_DEBUG=libs to confirm, if you need). Use that same libc to debug</p>
<p>source: I work at QNX and even we struggle with gdb + libc sometimes</p>
"
64168302,How to debug uncaught exception core dump in C++,https://stackoverflow.com/questions/64168302/how-to-debug-uncaught-exception-core-dump-in-c,3,1601626691,"c++, gcc, embedded, libstdc++, qnx","<p>The application I'm working on crashed on the client machine and I have the following callstack from the core dump:</p>
<pre><code>#0  SignalKill () at /MyBuildDir/lib/c/kercalls/aarch64/SignalKill.S:8
#1  0x0000000001041d2c in abort () at /MyBuildDir/lib/c/ansi/abort.c:92
#2  0x000000007b1688d0 in __gnu_cxx::__verbose_terminate_handler () at ../../../../../libstdc++-v3/libsupc++/vterminate.cc:95
#3  0x000000007b166400 in __cxxabiv1::__terminate (handler=) at ../../../../../libstdc++-v3/libsupc++/eh_terminate.cc:47
#4  0x000000007b165238 in __cxa_call_terminate (ue_header=ue_header@entry=0x109dd5f0) at ../../../../../libstdc++-v3/libsupc++/eh_call.cc:54
#5  0x000000007b165d68 in __cxxabiv1::__gxx_personality_v0 (version=, actions=6, exception_class=, ue_header=0x109dd5f0, context=0x100c3bd0) at ../../../../../libstdc++-v3/libsupc++/eh_personality.cc:676
#6  0x00000000819f66f0 in _Unwind_RaiseException_Phase2 (exc=exc@entry=0x109dd5f0, context=context@entry=0x100c3bd0) at ../../../libgcc/unwind.inc:62
#7  0x00000000819f6f30 in _Unwind_Resume (exc=0x109dd5f0) at ../../../libgcc/unwind.inc:230
#8  0x000000008052cf04 in MyClass::MyFunction(unsigned int)
...
</code></pre>
<p>Looking at the call stack <em>I assume</em> this is caused by an uncaught exception which leads to <code>std::terminate</code>. Unfortunately I can't reproduce this behavior on the development machine.</p>
<p>Can you please help me with some debugging techniques to determine which exception was thrown? <code>MyClass::MyFunction</code> doesn't have any <code>throw</code>, but it uses several <code>std::</code> types. May I assume the <code>throw</code> was somehow inlined in <code>MyClass::MyFunction</code> considering the next frame in the call stack is <code>_Unwind_Resume</code>? May I exclude <code>throw</code> during stack unwinding(double <code>throw</code>)?</p>
<p>EDIT 1:</p>
<p>The executable was compiled with GCC 5.4.0 and the runtime is libstdc++.so.6.0.21</p>
<p>EDIT 2: values on frame 7</p>
<pre><code>(gdb) info locals
this_context = {reg = {0x100c3760, 0x100c3768, 0x100c3770, 0x100c3778, 0x0 &lt;repeats 15 times&gt;, 0x100c3780, 0x100c3788, 0x100c3790, 0x100c3798, 0x100c37a0, 0x100c37a8, 0x100c37b0, 0x100c37b8, 0x100c37c0, 0x100c37c8, 0x100c3750, 0x100c3758, 0x0 &lt;repeats 41 times&gt;, 
    0x100c37d0, 0x100c37d8, 0x100c37e0, 0x100c37e8, 0x100c37f0, 0x100c37f8, 0x100c3800, 0x100c3808, 0x0 &lt;repeats 18 times&gt;}, cfa = 0x100c3f90, ra = 0x8052cf04 &lt;MyClass::MyFunction(unsigned int)+860&gt;, lsda = 0x0, bases = {tbase = 0x0, dbase = 0x0, 
    func = 0x819f6eb8 &lt;_Unwind_Resume&gt;}, flags = 4611686018427387904, version = 0, args_size = 0, by_value = '\000' &lt;repeats 97 times&gt;}
cur_context = {reg = {0x100c3760, 0x100c3768, 0x100c3770, 0x100c3778, 0x0 &lt;repeats 15 times&gt;, 0x100c3fa0, 0x100c3fa8, 0x100c3fb0, 0x100c3fb8, 0x100c3fc0, 0x100c3fc8, 0x100c3fd0, 0x100c3fd8, 0x100c3fe0, 0x100c3fe8, 0x100c3f90, 0x100c3f98, 0x0 &lt;repeats 41 times&gt;, 
    0x100c37d0, 0x100c37d8, 0x100c37e0, 0x100c37e8, 0x100c37f0, 0x100c37f8, 0x100c3800, 0x100c3808, 0x0 &lt;repeats 18 times&gt;}, cfa = 0x100c41b0, ra = 0x8011f384 &lt;ClientClass::~ClientClass()+204&gt;, lsda = 0x8229ebd2, bases = {tbase = 0x0, dbase = 0x0, 
    func = 0x8011f2b8 &lt;ClientClass::~ClientClass()&gt;}, flags = 4611686018427387904, version = 0, args_size = 0, by_value = '\000' &lt;repeats 97 times&gt;}
(gdb) p exc
$1 = (struct _Unwind_Exception *) 0x109dd5f0
(gdb) p *exc
Cannot access memory at address 0x109dd5f0
</code></pre>
",
64139132,Information about the processor using the pidin command,https://stackoverflow.com/questions/64139132/information-about-the-processor-using-the-pidin-command,0,1601474169,qnx,"<p>Good afternoon. Is it possible to use the pidin command to get data only about the processor model?</p>
","<p><code>pidin info</code> is hardcoded to a fixed output format; you could write a brief script to pipe it through any of the usual POSIX text manipulation tools such as <code>awk</code> to extract the portion you want.</p>
<p>Alternately, you could write a program to access the same information directly from the system page and format it yourself.  See the <a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.neutrino.lib_ref/topic/s/syspage_entry.html"" rel=""nofollow noreferrer"">SYSPAGE_ENTRY() macro</a> and <a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.neutrino.building/topic/syspage/cpuinfo.html"" rel=""nofollow noreferrer"">the cpuinfo page documentation</a> for details on what's available for programs to read there.  The startup library stores a friendly CPU name in the <code>cpuinfo.name</code> element, which can be accessed like so:</p>
<pre><code>#include &lt;sys/syspage.h&gt;

const char* get_cpu0_name() {
    struct cpuinfo_entry* cpu = SYSPAGE_ENTRY(cpuinfo);
    return &amp;SYSPAGE_ENTRY(strings)-&gt;data[cpu-&gt;name];
}
</code></pre>
"
64103693,QNX&#39;s shutdown_system is not function well when ZMQ lib is used,https://stackoverflow.com/questions/64103693/qnxs-shutdown-system-is-not-function-well-when-zmq-lib-is-used,1,1601301542,"zeromq, qnx, system-shutdown","<p>When QNX's <code>shutdown_system()</code> is called from command line (<code>shutdown</code>) or from within any process, it's expected to restart the system,<br>when called as <code>shutdown_system(SHUTDOWN_REBOOT, 0);</code></p>
<p>There are several processes running on our QNX system. For interproces communication we are using <code>libzmq</code>.</p>
<p>When <code>shutdown_system</code> is called from command line, it is working all good. The system is restarted <a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.neutrino.lib_ref/topic/s/shutdown_system.html"" rel=""nofollow noreferrer"">as expected.</a></p>
<p>But when the <code>shutdown_system</code> is called from a particular process ( when <code>libzmq</code> calls are enabled ) what is observed is that the process from which <code>shutdown_system</code> is called is killed and the QNX system goes off network. But all other processes are running well on QNX system.</p>
<p>I commented all zmq's related calls and rerun the system, this time <code>shutdown_system</code> when called from within a process restarts the system as expected.</p>
<p>Something in ZeroMQ is stopping the <code>SIGTERM | SIGKILL</code> to other process and also stopping the restart of the system. I tried disconnecting the ZeroMQ connection before issuing the <code>system_shutdown</code> in process, but it did not help.</p>
",
63996048,Is there any guarantee that multiple type_index instances for a type will compare equal?,https://stackoverflow.com/questions/63996048/is-there-any-guarantee-that-multiple-type-index-instances-for-a-type-will-compar,2,1600704460,"c++, qnx","<p>I have some code which expects <code>type_index</code> instances for a particular type created in a shared library and instances created in an executable (for the same particular type) to compare equal.</p>
<p>However, I have encountered a case where this does not work on QNX 7:</p>
<pre><code>// idxlib.h

#include &lt;typeindex&gt;
#include &lt;string&gt;
#include &lt;iostream&gt;

#ifdef BUILD_LIB
#define LIB_EXPORT __attribute__((visibility(&quot;default&quot;)))
#else
#define LIB_EXPORT 
#endif

template &lt;typename T&gt;
class Templ 
{
};

class LIB_EXPORT LibType 
{
public:
    LibType();

    template &lt;typename T=int&gt;
    void templateMethod(int arg = 0) const
    {

#ifndef REMOVE_INSTANTIATION
        if (arg == 42)
        {
            // arg is never 42. This code path is not taken, but it instantiates the template
            templateMethod();
        }
#endif

        if (mti == std::type_index(typeid(Templ&lt;int&gt;)))
            std::cout &lt;&lt; &quot;Type indexes the same&quot; &lt;&lt; std::endl;
        else
            std::cout &lt;&lt; &quot;Type indexes NOT the same&quot; &lt;&lt; std::endl;
    }

    void normalMethod();

protected:
    std::type_index mti;
};

</code></pre>
<pre><code>// idxlib.cpp

#include &quot;idxlib.h&quot;

LibType::LibType() : mti(std::type_index(typeid(Templ&lt;int&gt;))) {}

void LibType::normalMethod()
{
    templateMethod();
}
</code></pre>
<pre><code>// sharedidx.cpp

#include &quot;idxlib.h&quot;

int main(int argc, char* argv[])
{
    LibType lt;

    if (argc == 65)
        // argc is not 65, so don't call it, just instantiate it
        lt.templateMethod();
    lt.normalMethod();
    return 0;
}
</code></pre>
<p>Build, scp and run:</p>
<pre><code>QCC -Vgcc_ntox86_64 -g -fPIC -o idxlib.cpp.o -c idxlib.cpp -DBUILD_LIB -fvisibility=hidden -fvisibility-inlines-hidden
QCC -Vgcc_ntox86_64 -g -shared  -o libidx.so idxlib.cpp.o 
QCC -Vgcc_ntox86_64 -g -o sharedidx libidx.so  sharedidx.cpp

scp -i ~/qnxinstall/id_rsa_qnx sharedidx libidx.so qnxuser@${QNXBOX}:/home/qnxuser/test

echo
echo &quot;comparison fails:&quot;
ssh -i ~/qnxinstall/id_rsa_qnx -t qnxuser@${QNXBOX} &quot;cd /home/qnxuser/test &amp;&amp; LD_LIBRARY_PATH=/home/qnxuser/test ./sharedidx&quot;

QCC -Vgcc_ntox86_64 -g -shared -fPIC -o idxlib.cpp.o -c idxlib.cpp -DREMOVE_INSTANTIATION -DBUILD_LIB -fvisibility=hidden -fvisibility-inlines-hidden
QCC -Vgcc_ntox86_64 -g -shared  -o libidx.so idxlib.cpp.o 
QCC -Vgcc_ntox86_64 -g -o sharedidx libidx.so -DREMOVE_INSTANTIATION sharedidx.cpp -fvisibility=hidden  -fvisibility-inlines-hidden

scp -i ~/qnxinstall/id_rsa_qnx sharedidx libidx.so qnxuser@${QNXBOX}:/home/qnxuser/test

echo
echo &quot;comparison works:&quot;
ssh -i ~/qnxinstall/id_rsa_qnx -t qnxuser@${QNXBOX} &quot;cd /home/qnxuser/test &amp;&amp; LD_LIBRARY_PATH=/home/qnxuser/test ./sharedidx&quot;
</code></pre>
<p>Output:</p>
<pre><code>Type indexes NOT the same
Type indexes the same
</code></pre>
<p>So, the type_index comparison fails when there is a template instantiation which contains a template instantiation of itself.</p>
<p>Is it a bug in QNX 7, or is my expectation (that it should ever work) wrong?</p>
<p>Is this code relying on implementation-defined behavior? Or undefined behavior?</p>
<p>QNX 7 QCC compiler is based on GCC 5.4 and uses a standard library based on libc++ from the same era. I have tested GCC 5.4 (and clang with libc++ and libstdc++) on Linux and I do not get the same behavior. I have also tried with and without <code>_LIBCPP_NONUNIQUE_RTTI_BIT</code> defined.</p>
<p>So, I'm assuming this is a result of the linker rather than the compiler. Could that be true?</p>
<p>Are the GCC compilers just &quot;too helpful&quot; in making this work on Linux across shared library boundaries?</p>
",
49038323,how to list all tables in qnx qdb,https://stackoverflow.com/questions/49038323/how-to-list-all-tables-in-qnx-qdb,1,1519851106,"sql, database, qnx, qnx-neutrino, blackberry-qnx","<p>I am trying to list all tables under qnx qdb in sql. I am not able to get a suitable command. How do you list tables in a database in qdb. I am able to connect to the database but I do not know what tables are currently in it.</p>
","<p>Once you get your interactive session, type <code>?</code> and hit <code>Enter</code>.</p>
<p>A possible alternative is to make a backup of the DB (<code>qdbc -d &lt;database&gt; -B</code>), which will give you a sqlite file that you can load using a sqlite viewer and use usual sqlite commands (in this case, <code>.tables</code>).</p>
"
40189975,Can&#39;t mount flash drive,https://stackoverflow.com/questions/40189975/cant-mount-flash-drive,0,1477124940,"linux, qnx, usb-flash-drive","<p>Is there somebody who knows how to mount usb flash drive in QNX Neutrino OS properly?
I have two versions of QNX, the first version is installed on VMWare virtual machine and second is installed on other PC(this image OS I have assembled myself).</p>

<p>When I connect usb flash to the first, it is mount properly and automatically at /fs/usb0, there is sloginfo output:</p>

<pre><code>Oct 22 10:12:58    2    19   900 devb-umass 1.00A (Jun 20 2012 13:41:13)
Oct 22 10:12:58    2     5     0 libcam.so (Jun 20 2012 13:40:15) bver 6050001
Oct 22 10:12:58    2     5   100 cam-disk.so (Jun 20 2012 13:40:19)
</code></pre>

<p>In my own assembled QNX, I'm trying to connect flash in next way:</p>

<pre><code>io-usb -dohci -dehci -duhci
</code></pre>

<p>then I check the output of USB utility:</p>

<pre><code>USB 1 (EHCI) v1.10, v1.01 DDK, v1.01 HCD

Device Address             : 1
Vendor                     : 0x0951 (Kingston)
Product                    : 0x1665 (DataTraveler 2.0)
Class                      : 0x00 (Independent per interface)
</code></pre>

<p>after that, I'm trying:</p>

<pre><code>devb-umass cam pnp umass vid=0x0951,did=0x1665,devno=1
</code></pre>

<p>I suppose, I have made mistake somewhere, because usb flash is not appeared as /fs/usb0</p>

<p>Any help is appreciated. Thanks.</p>
","<p>Well, I suppose I have found the solution:</p>

<p>I've seen, that usb flash drive is appeared at /dev as hd1t11, where 11 is type of OS, in my case it is FAT32.</p>

<p>I've connected it next way:</p>

<pre><code>devb-umass cam pnp
mount -tdos /dev/hd1t11 /mnt/usb/
</code></pre>
"
63226570,Not able torun greeter_client helloworld sample project on QNX,https://stackoverflow.com/questions/63226570/not-able-torun-greeter-client-helloworld-sample-project-on-qnx,0,1596445402,"grpc, qnx, qnx-neutrino","<p>I have cross-compiled the code successfully for QNX ARM 7.0, and able to generate the binaries.</p>
<p>Very first thing I am going to do is to run the helloworld code on the target. So I built the helloworld code available in cpp folder(since I am using cpp). I copied only two files greeter_server and greeter_client in target machine.
I am able to start server using greeter_server successfully.
But when I run greeter_client in another window, I get failure message.</p>
<pre><code>14: DNS resolution failed
Greeter received: RPC failed
</code></pre>
<p><a href=""https://drive.google.com/file/d/1_kv0PxlcvzHlffVxdQn-KkBBmALQ3x2P/view?usp=sharing"" rel=""nofollow noreferrer"">Here is the logs</a> after enabling GRPC_TRACE=ALL, GRPC_VERBOSITY=DEBUG.</p>
<p>Please help me know the issue.</p>
<p>We do not have DNS server, I tried using GRPC_DNS_RESOLVER=native, but did not helped.
Let me know if anyone knows to configure the DNS in QNX.</p>
",
62787378,grpc_out: protoc-gen-grpc: Plugin failed with status code 1,https://stackoverflow.com/questions/62787378/grpc-out-protoc-gen-grpc-plugin-failed-with-status-code-1,0,1594181128,"grpc, qnx","<p>I have cross compiled gRPC (v1.27.3) for QNX 7 (ARM) platform. I am using the protobuf which was already available for our system (QNX ARM v3.11.4).</p>
<p>I used following cmake command to build gRPC for compilation process</p>
<pre><code>cmake -DCMAKE_CROSSCOMPILING=1 -DgRPC_BUILD_TESTS=OFF -DgRPC_PROTOBUF_PROVIDER=package -DgRPC_SSL_PROVIDER=package -DgRPC_ZLIB_PROVIDER=package -DOPENSSL_CRYPTO_LIBRARY=$QNX_TARGET/aarch64le/usr/lib/libcrypto.a -DOPENSSL_SSL_LIBRARY=$TARGET/aarch64le/usr/lib/libssl.a -DCMAKE_BUILD_TYPE=Release -DCMAKE_TOOLCHAIN_FILE=/tmp/qnxarm/toolchain.cmake -DCMAKE_INSTALL_PREFIX=/tmp/qnxarm/inst ../..

make plugins

make -j4 

sudo make install
</code></pre>
<p>After compiling, I am able to see the binaries in <code>/tmp/qnxarm/inst </code> folder.</p>
<p>I copied those binaries in our code to compile the application for QNX.</p>
<p>While compiling I am getting this issue:</p>
<pre><code>&lt;local_directory&gt;/grpc/aarch64/qnx/bin/grpc_cpp_plugin: program not found or is not executable
Please specify a program using absolute path or make sure the program is available in your PATH system variable
--grpc_out: protoc-gen-grpc: Plugin failed with status code 1.
lib/qmonitor/proto/CMakeFiles/QMonitorProto.dir/build.make:105: recipe for target 'lib/qmonitor/proto/QAicMonitorInternal.grpc.pb.cc' failed
make[2]: *** [lib/qmonitor/proto/QAicMonitorInternal.grpc.pb.cc] Error 1
</code></pre>
<p>Please help me to know what is wrong? or what should be done to solve this.</p>
<p>Do we need to add the PATH in gRPCTargets.cmake file which is generated in lib folder?</p>
","<p>You've compiled the gRPC tools for your QNX ARM system -- so the version of grpc_cpp_plugin you made is expecting to be run on your QNX system, not your build host.</p>
<p>The usual approach for this sort of thing is to make a second copy of gRPC compiled for your build host, and then instruct your application build to link the libraries from the cross build, but call the grpc_cpp_plugin compiled for the build host.</p>
"
62385485,Not able to cross compile gRPC for QNX platform using aarch64-unknown-nto-qnx7.0.0-g++-5.4.0 compiler,https://stackoverflow.com/questions/62385485/not-able-to-cross-compile-grpc-for-qnx-platform-using-aarch64-unknown-nto-qnx7-0,0,1592214170,"c++, c++11, qnx, qnx-neutrino","<p>I am trying to cross compile gRPC code with QNX aarch64-unknown-nto-qnx7.0.0-g++-5.4.0 compiler.
I am using a toolchain.cmake file to compile.</p>

<p>toolchain.cmake:</p>

<pre><code>SET(CMAKE_SYSTEM_NAME QNX)
SET(CMAKE_SYSTEM_PROCESSOR arm)
set(CMAKE_CROSSCOMPILING 1)
set(CMAKE_SYSROOT ""$ENV{TOOLCHAIN_PATH}"")
set(CMAKE_C_COMPILER ""$ENV{TOOLCHAIN_PATH}/usr/bin/aarch64-unknown-nto-qnx7.0.0-gcc-5.4.0"")
set(CMAKE_CXX_COMPILER ""$ENV{TOOLCHAIN_PATH}/usr/bin/aarch64-unknown-nto-qnx7.0.0-g++-5.4.0"")
set(CMAKE_CXX_FLAGS ""-Vgcc_ntoaarch64 -O2 -Wc,-Wall -DBUILDENV_qss -g -Os -Wall -march=armv8-a -mcpu=cortex-a57 -mtune=cortex-a57 \
        -fstack-protector-strong -DNDEBUG -DFMT_HEADER_ONLY -EL -DVARIANT_le -std=c++11 -stdlib=libstdc++ -lang-c++ \
        -I . \
        -I$ENV{TOOLCHAIN_PATH}/usr/include \
        -I$ENV{TOOLCHAIN_PATH}/usr/include/WF \
        -I$ENV{TOOLCHAIN_PATH}/usr/include/KHR \
        -I$ENV{INSTALL_ROOT_nto}/usr/include \
        -Wl,-L$ENV{INSTALL_ROOT_nto}/aarch64le/lib \
        -Wl,-L$ENV{INSTALL_ROOT_nto}/aarch64le/usr/lib \
        -Wl,-L$ENV{TOOLCHAIN_PATH}/aarch64le/lib \
        -Wl,-L$ENV{TOOLCHAIN_PATH}/aarch64le/usr/lib"")
</code></pre>

<p>I am getting following error, even though I have used -std=c++11 (gnu++11 also tried):</p>

<pre><code>error: #error ""C++ versions less than C++11 are not supported.""
error: 'constexpr' does not name a type
error: '__to_gcc_order' is not a member of 'std::__1::__gcc_atomic'
error: 'NormalizeLogSeverity' is not a member of 'absl'
</code></pre>

<p>Please help me to solve this issues.</p>
","<p>There was some licencing issue, with which I was unable to build the code.</p>
<p>After updating the license this issue got resolved.</p>
"
43127708,mq_timedreceive reporting EAGAIN error with O_NONBLOCK not set,https://stackoverflow.com/questions/43127708/mq-timedreceive-reporting-eagain-error-with-o-nonblock-not-set,0,1490905647,"c, unix, ipc, qnx","<p>The <code>timespec</code> sent to the <code>mq_timedreceive</code> is set to be 20 seconds. After 20 seconds has elapsed, the <code>errno</code> returns &quot;Resource temporarily unavailable&quot; (<code>EAGAIN</code>). Furthermore this sends a signal and crashes the process. What I am expecting to happen is a <code>ETIMEDOUT</code> response and my code to keep executing. I have made sure that the queue is not with with <code>O_NONBLOCK</code> so there shouldn't be a reason why for <code>EAGAIN</code></p>
<pre><code>event_type get_event_timed(mqd_t channel, struct timespec ts) {
    //get timed touch event from devi-atmel-mxt
    ssize_t ret = -1;
    char Buffer[ASYNC_BUFFER_SIZE] = {0};

    event_type *event;

    //mq_monotonic will block for duration specfifed by timespec
    //will return -1 &amp;&amp; ETIMEDOUT if no event withing duration
    ret = mq_timedreceive(channel, Buffer, ASYNC_BUFFER_SIZE, NULL, &amp;ts);
    if ((-1 == ret) &amp;&amp; (errno == ETIMEDOUT)) {
        slogf(_SLOGC_INPUT, _SLOG_ERROR, &quot;[ASYNC_LOGGER] %s TIMEDOUT\n&quot;, __func__);
        //return TIMEDOUT
        *event = TIMEDOUT;
    }
    else if (-1 == ret) {
        slogf(_SLOGC_INPUT, _SLOG_ERROR, &quot;[ASYNC_LOGGER] %s error: %s\n&quot;, __func__, strerror(errno));
        //return ERROR
        *event = ERROR;
    }
    else {
        //printf(&quot;mq_recieve sucess\n&quot;);
        slogf(_SLOGC_INPUT, _SLOG_ERROR, &quot;[ASYNC_LOGGER] get_event_timed: mq_recieve success\n&quot;);
        //casting buffer into event_type
        event = (event_type *)Buffer;
    }
    slogf(_SLOGC_INPUT, _SLOG_ERROR, &quot;[ASYNC_LOGGER] %s buffer is: %d\n&quot;, __func__, *event);
    return *event;
}
</code></pre>
",
62637342,Python and Pytest calling a shell command containing tail fails,https://stackoverflow.com/questions/62637342/python-and-pytest-calling-a-shell-command-containing-tail-fails,0,1593430944,"python, pytest, qnx","<p>Environment:
platform qnx -- Python 2.7.12, pytest-4.6.9, py-1.8.1, pluggy-0.13.1
plugins: json-report-1.2.1, shell-0.2.3</p>
<p>Note:
I know Python2.7 is old and unsupported, but there's no other version available for QNX at the moment.</p>
<p>Problem:</p>
<p>I'm running a tests that should kill a service when a certain keyword appears in its log. For this, I need it to be ran in the background.
For this, I'm using the following shell command:</p>
<pre><code>def test_kill_process():
    expected_output=&quot;XXXXXXXXX&quot;
    expected_rc=0
    check_kill_process(expected_output, expected_rc)

import os
def check_kill_process(expected_output, expected_rc):
    test_log = File(r&quot;/path/to/log&quot;)
    erase_log_entry = &quot;Action&quot;
    service=MyService()
    service.start()
    sleep(2)
    kill_command = &quot;tail -f &quot; + test_log.file_path + &quot; | grep --line-buffered &quot; + erase_log_entry + \
            &quot; | while read ; do kill &quot; + service.pid + &quot; ; done &amp;&quot;
    os.popen(kill_command)
    service.action()
    f = open(test_log.file_path, &quot;r&quot;)
    output = f.read()
    assert re.search(expected_output, output)
</code></pre>
<p>========================================================================</p>
<p>Without Pytest or even Python, works like a charm.</p>
<p>If I try using subprocess module to run the command, the test freezes indefinitely.
If I try to use os.popen or os.system, the command ends in error:</p>
<pre><code>tail:  read failed in '/path/to/logfile' (Invalid argument)
</code></pre>
<p>Moreover, if I try the same thing, with only a &quot;cat&quot; I get this:</p>
<pre><code>--stdout--: Broken pipe
</code></pre>
<p>Thanks in advance if anyone has any ideea!</p>
",
62327916,Cannot read file of a supplementary group,https://stackoverflow.com/questions/62327916/cannot-read-file-of-a-supplementary-group,0,1591889356,"linux, file-permissions, qnx","<p>I have two groups manually created in /etc/group:</p>

<pre><code>file-owner:x:300:user
user:x:400:
</code></pre>

<p>I have a configuration file, owned by the user/group <code>file-owner</code>. I don't want other users to read it.</p>

<pre><code> ls -l /tmp/my-configs.txt         
 -r--r-----   1   file-owner   file-owner   1054552  Jun 11  12:22  /tmp/my-configs.txt
</code></pre>

<p>I run a process with id <code>user:user</code> but I cannot read the configuration file owned by <code>file-owner</code>.</p>

<p>Am I doing something wrong?</p>
",
62218250,Wrapping cmake build with makefile,https://stackoverflow.com/questions/62218250/wrapping-cmake-build-with-makefile,4,1591368903,"makefile, cmake, qnx","<p>I have a project with existing makefile based build system, where I want to add existing cmake based component.</p>

<p>What is best way to integrated cmake configure step? As a $(shell ) call evaluating some variable? That runs configure on each invocation...</p>

<p>How to integrate building itself? Just (MAKE) -C cmake-build-dir [targets]?</p>
","<p>The goal of CMake is to generate a Makefile, so I would go with something like this:</p>

<pre><code>CMAKE_BUILD_DIR := some_dir
CMAKE_SOURCE_DIR := some_src_dir

$(CMAKE_BUILD_DIR)/Makefile: $(CMAKE_SOURCE_DIR)/CMakeLists.txt
    cmake -S $(&lt;D) -B $(@D)

.PHONY: $(CMAKE_BUILD_DIR)/built_executable_or_library  # to allow CMake's make check the build
$(CMAKE_BUILD_DIR)/built_executable_or_library: $(CMAKE_BUILD_DIR)/Makefile
    $(MAKE) -C $(@D) $(@F)
</code></pre>

<p>This should call CMake configure step when the Makefile does not exist and run <code>make</code> directly to build whatever you need (probably you would need to tailor called targets to your needs). CMake's generated Makefiles check the generated build system itself, so it will be reconfigured as needed.</p>
"
61718381,"Qnx-neutrino can&#39;t format my partitions with fdisc, process freezes",https://stackoverflow.com/questions/61718381/qnx-neutrino-cant-format-my-partitions-with-fdisc-process-freezes,0,1589142988,"formatting, qnx, qnx-neutrino","<p>I'm trying to format my HDD 250Gb in QNX-neutrino OS running on Oracle VM in Windows 10. I mounted my HDD and everything looks fine. I run command</p>

<pre><code>fdisk /dev/hd1
</code></pre>

<p>And create 4 partitions with next sizes: </p>

<pre><code>1325, 124684, 17265, 47496 MB
</code></pre>

<p>After that I run command:</p>

<pre><code>mount -e /dev/hd1
</code></pre>

<p>And when I tried to format created partitions with commands:</p>

<pre><code>mkqnx6fs ‚Äìq ‚Äìb4096 /dev/hd1t177

mkqnx6fs ‚Äìq ‚Äìb4096 /dev/hd1t178

mkqnx6fs ‚Äìq ‚Äìb4096 /dev/hd1t179

mkqnx6fs ‚Äìq ‚Äìb4096 /dev/hd1t180
</code></pre>

<p>the process starts and never end. Terminal is just frezees. What can I do to fix it? Or there is another way to format my partitions in this system?</p>
","<p>VM Ware didn't suit me, because it counted cylinders incorrectly.</p>

<p>I find the solution. The problem was due to poor contact of the USB cable with my hard drive. I tried changing the usb cable and usb port and it worked fine.</p>
"
62023494,ZeroMQ : a thread stops exactly after 2 hours in a while(1)-loop. Why &amp; how to resolve this?,https://stackoverflow.com/questions/62023494/zeromq-a-thread-stops-exactly-after-2-hours-in-a-while1-loop-why-how-to-r,1,1590500485,"multithreading, process, zeromq, qnx, qnx-neutrino","<p>It does not crash so there is no core to analyse. It simply stops.</p>

<p>I have experimented multiple times. It stops exactly after 2 hours.<br>
<strong>OS</strong> : qnx6.5.0<br>
<strong>LIBs</strong> : ZeroMQ and Protobuf</p>

<p>I just have a single thread, it looks something like this :</p>

<pre><code>dummyFrontEnd::dummyFrontEnd():context(1),socket(context,ZMQ_PUB) {

}
</code></pre>

<pre><code>void dummyFrontEnd::Init()
{
    socket.connect(""tcp://127.0.0.1:5555"");
    cout &lt;&lt; ""Connecting .... "" &lt;&lt; endl;
}
</code></pre>

<pre><code>void dummyFrontEnd::SendCANalyserTable(const std::string&amp; filename)
{
    ...

    zmq::message_t create_values( protoTable.ByteSizeLong()
                                + sizeof(uint16_t)
                                  );

    *((uint16_t*)create_values.data()) = TABLEMSG_ID;       // ID

    protoTable.SerializeToArray( create_values.data()
                               + sizeof(uint16_t),
                                 protoTable.ByteSizeLong()
                                 );

    try {
            socket.send(create_values,ZMQ_NOBLOCK);
           }
    catch (int e){
            std::cout &lt;&lt; ""SPD exception e : ""
                      &lt;&lt;  e
                      &lt;&lt; std::endl;
           }

    protoTable.clear_columnvalues();
    usleep(1);

    }

}
</code></pre>

<pre><code>void main(){
...

...
  while(1) {
    if (arguments.canalyser_filename != """") {
        dmyFntEnd.SendCANalyserTable(arguments.canalyser_filename);

        if (arguments.verbose) {
            cout &lt;&lt; ""DummyFrontEnd""
                 &lt;&lt; ""completed sending CANalyser table""
                 &lt;&lt;  endl;
        }
    }
  }
...
...
}
</code></pre>
",
150737,How do you install an ssh server on qnx?,https://stackoverflow.com/questions/150737/how-do-you-install-an-ssh-server-on-qnx,10,1222723279,"ssh, qnx","<p>I'm working on a qnx device, and I want to be able to ssh into it.  Does anyone have a primer on getting something like openSSH up and running?</p>
","<p>Depending on whether it's 6.2, 6.3 or 6.4 you will actually go about it in a different manner.</p>

<p>6.2 has ""Installer"" or ""Install Software from QNX"" in Photon, a GUI program that lets you download and install it kind of like Fedora's Pup, YaST or the likes. The command-line equivalent is cl-installer.</p>

<p>6.3 does not have the 6.2 package filesystem, but supports it if needed. On 6.3, the easiest way would be to get the 6.2's package from <a href=""http://download.qnx.com/contrib/repository621a/"" rel=""noreferrer"">http://download.qnx.com/contrib/repository621a/</a> , unpack it (it's just a tarball) - you should be able to figure out which file goes where.</p>

<p>6.4 has support for pkgsrc which would be my preferred way of doing it there.</p>
"
57287648,undefined reference to `socketpair&#39;,https://stackoverflow.com/questions/57287648/undefined-reference-to-socketpair,1,1564565682,"c++, client-server, qnx","<p>I have written socket client code run fine with Linux GCC but through error on QNX platform. It through error as <strong>undefined reference to `socketpair'</strong></p>

<p><strong>compile command:</strong> aarch64-unknown-nto-qnx7.0.0-gcc  ss1.c </p>

<p><strong>Buid error</strong></p>

<pre><code>/tmp/cc8ssnim.o: In function `main':
ss1.c:(.text+0x34): undefined reference to `socketpair'
collect2: error: ld returned 1 exit status
</code></pre>

<p><strong>Edited After john comment</strong></p>

<p>Comiple time error fixed by adding -lsocket i get run time error as </p>

<p><strong>setsockopt: Protocol not available</strong></p>

<p>Example code taken from <a href=""http://www.qnx.com/developers/docs/qnx_4.25_docs/tcpip50/prog_guide/sock_ipc_tut.html"" rel=""nofollow noreferrer"">HERE</a> </p>

<pre><code>// Server side C/C++ program to demonstrate Socket programming
#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;string.h&gt;
#include&lt;iostream&gt;
#include &lt;sys/types.h&gt;
#define PORT 8080
int main(int argc, char const *argv[])
{
    int server_fd, new_socket, valread;
    struct sockaddr_in address;
    int opt = 1;
    int addrlen = sizeof(address);
    char buffer[1024] = {0};
    char hello[500] = {};

    // Creating socket file descriptor
    if ((server_fd = socket(AF_INET, SOCK_STREAM, 0)) == 0)
    {
        perror(""socket failed"");
        exit(EXIT_FAILURE);
    }

    // Forcefully attaching socket to the port 8080
    if (setsockopt(server_fd, SOL_SOCKET, SO_REUSEADDR | SO_REUSEPORT,
                &amp;opt, sizeof(opt)))
    {
        perror(""setsockopt"");
        exit(EXIT_FAILURE);
    }
    address.sin_family = AF_INET;
    address.sin_addr.s_addr = INADDR_ANY;
    address.sin_port = htons( PORT );

    // Forcefully attaching socket to the port 8080
    if (bind(server_fd, (struct sockaddr *)&amp;address,
                sizeof(address))&lt;0)
    {
        perror(""bind failed"");
        exit(EXIT_FAILURE);
    }
    if (listen(server_fd, 3) &lt; 0)
    {
        perror(""listen"");
        exit(EXIT_FAILURE);
    }
    if ((new_socket = accept(server_fd, (struct sockaddr *)&amp;address,
                    (socklen_t*)&amp;addrlen))&lt;0)
    {
        perror(""accept"");
        exit(EXIT_FAILURE);
    }
    ab:
    std::cout&lt;&lt;""Enter send to client\n"";
    std::cin&gt;&gt;hello;
    valread = read( new_socket , buffer, 1024);
    printf(""Received in server = %s\n"",buffer );
        memset( buffer, '\0', sizeof(char)*1024 );

    send(new_socket , hello , strlen(hello) , 0 );
    memset( hello, '\0', sizeof(char)*500 );
    goto ab;
    //printf(""Hello message sent\n"");
    return 0;
}
</code></pre>
",
7884355,Multitasking RTOS on AVR,https://stackoverflow.com/questions/7884355/multitasking-rtos-on-avr,2,1319513237,"real-time, avr, rtos, avr-gcc, qnx","<p>I have an AT90USB162 AVR chip which I want to run a multitasking RTOS, so I am evaluating possible RTOS for using with my AVR chip. Which multitasking RTOS's are supported by AVR? Maybe QNX? (Is it possible to run a QNX kernel on an AVR microchip?). </p>

<p>Thanks in advance.</p>
","<p>The Atmel AT90USB162 is an 8-bit AVR RISC-based microcontroller -- QNX would be a stretch, and AVR is not in their <a href=""http://community.qnx.com/sf/wiki/do/viewPage/projects.bsp/wiki/BSPAndDrivers"">BSP directory</a></p>

<p><a href=""http://micrium.com/page/downloads/ports/atmel?"">Micrium</a> supports AVR with uC/OS-II</p>

<p><a href=""http://www.freertos.org/"">FreeRTOS</a> also supports AVR</p>
"
61316634,Creating a c++ Program to execute other programs in qnx,https://stackoverflow.com/questions/61316634/creating-a-c-program-to-execute-other-programs-in-qnx,0,1587365448,"c++, qnx","<p>I am trying to write a program in <code>c++</code> for <code>QNX</code> which executes other programs.</p>

<p>For this I have 4 files to be handled.</p>

<pre><code>file1
file2.l
file3.c
file4.bin
</code></pre>

<p>The algorithm is</p>

<pre><code>if file1 is not present then execute file2.l
Execute file3.c
Execute file4.bin
</code></pre>

<p>This is the code which I have tried.</p>

<pre><code>#include&lt;fstream&gt;
#include&lt;iostrea&gt;
using namespace std;
int main(){
    ifstream ifile;
    ifile.open(""file1"");
    if(!ifile){
  //      system(""Code to run file2.l program in termnal"")

    }

   // system(""Code to run file3.c program in termnal"")
    system(""./file4.bin"")
</code></pre>

<p>I need to know how to execute <code>file2.l</code> and <code>file3.c</code> using <code>c++</code> in <code>QNX</code></p>
",
61213850,Latency between thread test: Linux bare metal machine vs QNX on a VM,https://stackoverflow.com/questions/61213850/latency-between-thread-test-linux-bare-metal-machine-vs-qnx-on-a-vm,0,1586885981,"c++, linux, pthreads, qnx","<p>I recently did a latency comparison on these two setups:
a) Ubuntu 16.04 running on a 12 core host;
b) A guest QNX running a VMware on a laptop host (4 cores assigned to the QNX VM) - I do not have a better setup currently for QNX.</p>

<p>The test scenario:
10 threads running, each thread sends out a message to a randomly chosen receiving thread every 30ms-ish - very low message rate indeed; the message mechanism is implemented using conditional variables and each thread has its own dedicated rx prod-consumer queue and its own conditional variable and mutex - so no interference between queues. I measure the time between the message got constructed/sent and the receiving thread gets the message. The mean and std_dev min max are all captured for each thread.</p>

<p>The result is surprisingly favoring QNX (although it is running on a VM). 10us vs 40us. </p>

<p>for a thread on Linux (seconds): mean=0.000038076 std_dev=2.7523e-05 min=0.000000254 max=0.000177410 sampleSize=1023
for a thread QNX (seconds): mean=0.000011351 std_dev=0.000105937 min=0.000000000 max=0.000999987 sampleSize=969</p>

<p>I noticed that the QNX side the clock is not as precise (resolution wise) as the Linux side since I do see the min latency measurable is 0. </p>

<p>I just wonder if it conforms with other people's experiences - does Linux thread conditional wake-up take 40us in average?
Btw, if the QNX time precision is in 100us and Linux is in nanosec, does this diff impact stat? 
Thanks.</p>
",
60934057,Terminal input doesn&#39;t work in QNX running on VM or x86 hardware,https://stackoverflow.com/questions/60934057/terminal-input-doesnt-work-in-qnx-running-on-vm-or-x86-hardware,2,1585582473,"shell, virtual-machine, virtualbox, qnx","<p>I'm doing a university project on QNX RTOS (using an academic license). I'm following <a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.neutrino.building/topic/bsp/bsp_build.html"" rel=""nofollow noreferrer"">Building a BSP</a>.</p>

<p>So far I've managed to build (using <code>bios_mkusbimage</code> script in the BSP archive) .img file for x86_64 target. Then I converted <code>.img</code> to <code>.vdi</code> file (<code>VBoxManage convertdd input.img output.vdi</code>) and finally loaded it. The result is: <a href=""https://i.sstatic.net/k9uvk.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/k9uvk.png"" alt=""vm starting output""></a></p>

<p>Or, as text:</p>

<pre><code>Loading IFS...decompressing...done 
System page at phys:000000000010c000 user:ffff808000003000 kern 808000006000 

Starting next program at vffff80000007388b MFLAGS=1 .11 ClockCycles offsets within tolerance elcome to Q. Neutrino SDP 7.0 on x8664 system 
Starting slogger2 server ...
Starting PCI server ... 
Set PCI device list ... 
Starting EIDE block driver ... 
unable to access /dev/hd0t179 'ot3Tt11:7.n:nele7i7la:TensleieCted 
Starting USD host ... 
Starting devb-umass o audio device has been detected 
Starting input services ... 
Starting serial driver ... 
Starting consoles ... 
Starting shells ... 
#
</code></pre>

<p>The OS seems to boot successfully, but I'm unable to type anything.</p>

<p>I'm looking either for a way to fix the keyboard input, or get a SSH/telnet/... connection to the QNX shell.</p>
",
37057652,How to diagnose &quot;Entering an unknown directory&quot;,https://stackoverflow.com/questions/37057652/how-to-diagnose-entering-an-unknown-directory,2,1462472631,"makefile, qnx","<p>I'm getting up to speed on this QNX project with a bunch of make files I'm still getting the gist of coming from a Visual Studio background. The build output from momentics leaves much to be desired but there's one particular error that I wish there were more feedback for.</p>

<pre><code>make: Entering an unknown directory
make: Leaving an unknown directory
make: *** P:\Sources_xxx\xxxx\ProjectX\x86\o: No such file or directory.  Stop.
make[1]: *** [ProjectX] Error 2
</code></pre>

<p>We're porting code that built in VC++ so I can't just back up to the last change which introduced this error since it's all coming at once. I suppose there's something wrong with the make file but don't have the debugging skills in QNX <code>make</code> to get the <code>make</code> output to tell me what directory it's struggling with. Is the directory that's being said to be unknown the same as the ProjectX\x86\o??</p>
",
60832003,Compiling Eigen to run on QNX 6,https://stackoverflow.com/questions/60832003/compiling-eigen-to-run-on-qnx-6,0,1585056376,"eigen, qnx","<p>I am having difficulty in getting Eigen 3.3.7 to compile using QNX 6.5.0 or 6.6.0. When I attempt to compile the simple first program example, from the <a href=""http://eigen.tuxfamily.org/dox/GettingStarted.html"" rel=""nofollow noreferrer"">Eigen getting started page</a>.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;Eigen/Dense&gt;
using Eigen::MatrixXd;
int main()
{
  MatrixXd m(2,2);
  m(0,0) = 3;
  m(1,0) = 2.5;
  m(0,1) = -1;
  m(1,1) = m(1,0) + m(0,1);
  std::cout &lt;&lt; m &lt;&lt; std::endl;
}
</code></pre>

<p>Compiling with:</p>

<pre><code>qcc -I. test_eigen.cpp
</code></pre>

<p>I get 18 errors all similar too:</p>

<pre><code>In file included from ./Eigen/Core:411,
                 from ./Eigen/Dense:1,
                 from test_eigen.cpp:14:
./Eigen/src/Core/arch/CUDA/Half.h: In function 'Eigen::half Eigen::half_impl::exp(const Eigen::half&amp;)':
./Eigen/src/Core/arch/CUDA/Half.h:454: error: '::expf' has not been declared
</code></pre>

<p>While I can fix these errors by adding 'std' before each missing function, this suggests there is a bigger problem that I need to fix. I have a feeling there are some clashing namespaces or preprocessor definitions. Any help would be gratefully received. </p>
",
30517961,How to send SIGTERM to a process by process name in QNX cpp code?,https://stackoverflow.com/questions/30517961/how-to-send-sigterm-to-a-process-by-process-name-in-qnx-cpp-code,1,1432851265,"c++, qnx","<p>E.g: I have a process called foo.</p>

<p>Typically in console, I can type <code>slay foo</code> then foo terminates.
Also, in a cpp code I can issue a system call with <code>system(""slay foo"");</code></p>

<p>I know the system() is a heavy fork call that should be avoid. Is there any other function in <code>&lt;csignal&gt;</code> or <code>&lt;cstdlib&gt;</code> I can choose?</p>

<p>I've read SignalKill() and SignalKill_r(), both need pid which I cannot provide.</p>
","<p>It's not as simple as one might think. Linux doesn't provide a <code>syscall</code> that gives you the <code>PID</code> of a process by its name.</p>

<p>Assuming <code>QNX</code>s filesystem is similar to standard UNI, you might want to read <a href=""https://web.archive.org/web/20160326151210/http://phoxis.org/2013/09/13/find-process-ids-of-a-running-process-by-name/"" rel=""nofollow noreferrer"">this article</a> to understand how to find a process's <code>PID</code> using its name, and then use that <code>PID</code> with <code>SignalKill</code> or <code>SignalKill_r</code></p>

<p>Here's the code to find a process's <code>PID</code> using its name in C. I can't test it on <code>QNX</code>, but it works on <code>Ubuntu</code>.</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;ctype.h&gt;
#include &lt;dirent.h&gt;
#include &lt;libgen.h&gt;

/* checks if the string is purely an integer
 * we can do it with `strtol' also
 */
int check_if_number (char *str)
{
  int i;
  for (i=0; str[i] != '\0'; i++)
  {
    if (!isdigit (str[i]))
    {
      return 0;
    }
  }
  return 1;
}

#define MAX_BUF 1024
#define PID_LIST_BLOCK 32

int *pidof (char *pname)
{
  DIR *dirp;
  FILE *fp;
  struct dirent *entry;
  int *pidlist, pidlist_index = 0, pidlist_realloc_count = 1;
  char path[MAX_BUF], read_buf[MAX_BUF];

  dirp = opendir (""/proc/"");
  if (dirp == NULL)
  {
    perror (""Fail"");
    return NULL;
  }

  pidlist = malloc (sizeof (int) * PID_LIST_BLOCK);
  if (pidlist == NULL)
  {
    return NULL;
  }

  while ((entry = readdir (dirp)) != NULL)
  {
    if (check_if_number (entry-&gt;d_name))
    {
      strcpy (path, ""/proc/"");
      strcat (path, entry-&gt;d_name);
      strcat (path, ""/comm"");

      /* A file may not exist, it may have been removed.
       * dut to termination of the process. Actually we need to
       * make sure the error is actually file does not exist to
       * be accurate.
       */
      fp = fopen (path, ""r"");
      if (fp != NULL)
      {
        fscanf (fp, ""%s"", read_buf);
        if (strcmp (read_buf, pname) == 0)
        {
          /* add to list and expand list if needed */
          pidlist[pidlist_index++] = atoi (entry-&gt;d_name);
          if (pidlist_index == PID_LIST_BLOCK * pidlist_realloc_count)
          {
            pidlist_realloc_count++;
            pidlist = realloc (pidlist, sizeof (int) * PID_LIST_BLOCK * pidlist_realloc_count); //Error check todo
            if (pidlist == NULL)
            {
              return NULL;
            }
          }
        }
        fclose (fp);
      }
    }
  }


  closedir (dirp);
  pidlist[pidlist_index] = -1; /* indicates end of list */
  return pidlist;
}

int main (int argc, char *argv[])
{
  int *list, i;

  if (argc != 2)
  {
    printf (""Usage: %s proc_name\n"", argv[0]);
    return 0;
  }
  list = pidof (argv[1]);
  for (i=0; list[i] != -1; i++)
  {
    printf (""%d "", list[i]);
  }
  free (list);
  if (list[0] != -1)
  {
    printf (""\n"");
  }
  return 0;
}
</code></pre>
"
60040085,Can an &quot;unlinked&quot; memory in QNX be freed,https://stackoverflow.com/questions/60040085/can-an-unlinked-memory-in-qnx-be-freed,0,1580736014,"c++, memory, qnx","<p>I am developing a program, which is dealing with some graphics rendering. I am using a 3rd. party library for the rendering so all I do is to create objects and request their rendering from the library. The loading and freeing of resources like textures and fonts is done by that library. My program is running on QNX 7. </p>

<p>My problem is that after I run the program for some time (which is not that much) I am seeing that the memory, used by the process is growing quite fast, which is not OK. In my program I am changing the graphics content a lot, which causes the program to load new images and fonts and unload those, which are not used currently. All this processing is done by the code from the third-party library and I can put my own code to see that allocated memory is freed - the library I am talking about has methods which display how much CPU and GPU memory is used and also has methods to free the memory. I am able to display the currently used memory, call the method to free the memory and then again print the used memory. I see that the used memory has dropped, which is what I expect. </p>

<p>I use the <strong>pidin mem</strong> command to display the used memory from each process. I am able to see that my process cleans some memory when I call the 3rd. party library function. However, it is not able to clean enough memory. </p>

<p>What I saw in the <strong>pidin mem</strong> output are lots of blocks, which are named as ""**unlinked**"". Below is part of the output I've got from <strong>pidin</strong>:</p>

<pre><code>163879   1 MyGraphApp  12r SIGWAITINFO         0  175M   32K(516K)*
           libm.so.3          @ b52a000              96K  4096
           libstdc++.so.6     @ b544000            1044K  4096
           libsocket.so.3     @ b716000             124K  4096
           **unlinked**       @24d90000 (       0)       2048K
           **unlinked**       @24f90000 (       0)        128K
           **unlinked**       @24fb0000 (       0)        128K
           **unlinked**       @24fd0000 (  210000)         64K
           **unlinked**       @24fe0000 (       0)        128K
           **unlinked**       @25000000 (       0)        128K
           **unlinked**       @25020000 (  21f000)        4096
           **unlinked**       @25021000 (  21f000)         36K
           **unlinked**       @2502a000 (       0)       5400K
           **unlinked**       @25570000 (  235000)       6164K
           **unlinked**       @25b75000 (  227000)         28K
           **unlinked**       @25b7c000 (  22d000)        8192
           **unlinked**       @25b7e000 (       0)        128K
           **unlinked**       @25b9e000 (       0)        128K
           **unlinked**       @25bbe000 (  840000)         60K
           **unlinked**       @25bcd000 (  22e000)        4096
           **unlinked**       @25bce000 (  850000)       5804K
           **unlinked**       @26179000 (  22e000)         28K
</code></pre>

<p>As you can see my application uses 175MB of memory. When I start the application in the beginning this memory is below 100MB. I see that the only part, which is growing are these ""**unlinked**"" blocks. </p>

<p>What is this ""**unlinked**"" memory? My understanding is that this is memory, which has been deallocated but it is not returned to the OS. Is my understanding correct?</p>

<p>Most importantly - can I free the memory marked as ""**unlinked**""? Who is responsible to do this - my application and probably the code from the third-party library or the OS itself? Any information regarding this issue and how it might be fixed will be highly appreciated.</p>

<p>PS: I want to mention that the 3rd. party library and my application are developed using C++.</p>

<p>Best Regards</p>
",
59729949,How to get the runtime of one Thread in selected interval?,https://stackoverflow.com/questions/59729949/how-to-get-the-runtime-of-one-thread-in-selected-interval,0,1578990412,"multithreading, qnx, momentics","<p>I want to measure the runtime of multiple threads in Momentics, like it is shown in the CPU usage view of the <code>.kev</code> file. The only difference is, I don't want to see the time the thread was running in the whole diagnostics session, but between two custom placed User Events.</p>

<p>So I have </p>

<pre class=""lang-cpp prettyprint-override""><code>//Some code where multiple Threads are started/executed/interrupted and continued

TraceEvent(_NTO_TRACE_INSERTUSRSTREVENT, 101, ""Start of measurement"");

//Some code where multiple Threads are started/executed/interrupted and continued

TraceEvent(_NTO_TRACE_INSERTUSRSTREVENT, 102, ""End of measurement"");

//Some code where multiple Threads are started/executed/interrupted and continued
</code></pre>

<p>and want to get the sum of the runtime of all threads, but only in the time interval between by both user events.</p>

<p>Is there a way to do this in momentics?</p>

<p>Goal is to have an excel file with the runtimes, automated creation is not required here, but mentioned for clarification of the usecase.</p>

<p>Ideas I've already had:</p>

<ul>
<li>Coding

<ul>
<li><a href=""http://www.qnx.com/developers/docs/6.4.1/neutrino/lib_ref/g/getrusage.html"" rel=""nofollow noreferrer"">rusage</a></li>
<li>posix Time measurement</li>
<li>the point with this is, I'm working on a huge system where I can't effortless find and modify the start and end of each Thread</li>
</ul></li>
<li>After Measurement

<ul>
<li>some really dirty excel hack which takes the running and ready event of each thread and calculates the runtime</li>
</ul></li>
</ul>
",
59631922,Is it possible to use Clang-Tidy with QNX?,https://stackoverflow.com/questions/59631922/is-it-possible-to-use-clang-tidy-with-qnx,2,1578412943,"c++, qnx, clang-tidy","<p>I have a QNX specific code and I want to use clang-tidy for static analysis. Is this possible?</p>

<p>I am struggling because clang-tidy is supported by the clang compiler, and QCC (QNX compiler) is based on GCC.</p>
",
59216189,Running an executable without re-uploading it on QNX gdb,https://stackoverflow.com/questions/59216189/running-an-executable-without-re-uploading-it-on-qnx-gdb,1,1575646848,"gdb, qnx","<p>According to very brief documentation on <a href=""https://www.qnx.com/developers/docs/6.4.1/neutrino/prog/using_gdb.html"" rel=""nofollow noreferrer"">https://www.qnx.com/developers/docs/6.4.1/neutrino/prog/using_gdb.html</a>, the sequence of launching an executable to debug is</p>

<pre><code>target qnx ...
upload ...
run
</code></pre>

<p>I.e. I am forced to upload a file to the target every time I start a gdb session. Is there a way I can debug executable already on the target?</p>
","<p>Found it!</p>

<p><code>set nto-executable &lt;path on target&gt;</code></p>
"
53907270,Remote debug binary for QNX target using windows,https://stackoverflow.com/questions/53907270/remote-debug-binary-for-qnx-target-using-windows,1,1545600240,"remote-debugging, qnx","<p>I want to debug a precompiled and closed-source binary, with QNX x86 as target. The host machine is running win 10 x64.</p>

<p>The binary in question (lets call it hdd) needs a bunch of libraries, which are available in the same dir (/root). If I log in locally to the qnx machine and invoke the ./hdd command, it finds every lib and runs correctly. Later I need it started with some arguments, but my first step is to get it running in the first place. Searching through the documentation, I found a way to specify args. But first things first.</p>

<p>On qnx I run:</p>

<pre><code>pdebug 123
</code></pre>

<p>On my windows machine, I started:</p>

<pre><code>C:\qnx660\host\win32\x86\usr\bin\ntox86-gdb.exe
target qnx ip:123
</code></pre>

<p>So far, so good. But now the troubles start. I serached for hours and hours, but I cannot find a way to tell the system ""use the remote dir /root"" for working, the binary and all the libs are there. I use set nto-cwd, but then it either crashes due to lack of libraries, or it cannot find the binary on the remote target.</p>

<p>In fact, I am not sure if this is even possible. All the docs and tutorials I found relied on a binary with debug symbols, which I do not have. Furthermore, I am not very experienced with command line debugging, I am used to having at least a minimal gui (like ollyDbg). I have a working trial of qnx momentics, can I use this as well for a minimal gui?</p>

<p>Thanks.</p>
",
52896055,"QNX Momentics: GoogleMock - Return has value, in function returning void error",https://stackoverflow.com/questions/52896055/qnx-momentics-googlemock-return-has-value-in-function-returning-void-error,1,1539964833,"c++, c++11, googletest, googlemock, qnx","<p>I need to write mock methods for a class, provided to us by a third party supplier. The class, that I need to mock has virtual methods and I am mocking them in my mock class.</p>

<p>This is the original class:</p>

<pre><code>    class Derived : public Base
{

public:
    virtual void addResource(const Resource&amp; resource, std::string resourceURL);
    virtual void removeResource(const Resource&amp; resource);
...
};
</code></pre>

<p>Just to let you know, these two methods are virtual in the Base class, too.</p>

<p>This is the Mock class:</p>

<pre><code>class MockDerived : public Derived {
 public:
     MockDerived (std::string name);

  MOCK_METHOD2(addResource,
      void(const Resource&amp; resource, std::string resourceURL));

  MOCK_METHOD1(removeResource,
      void(const Resource&amp; resource));
};
</code></pre>

<p>All this works fine. I am executing tests without a problem. However, in QNX Momentics (The QNX version is 7.0), which is really just Eclipse, it gives me the following error:</p>

<pre><code>Return has value, in function returning void
</code></pre>

<p>Anybody has an idea what I need to do in order to remove the errors. It still works, but it is annoying to have this error and who knows what can go wrong in the future.</p>
","<p>This appeared to be an issue with the IDE. When building the project using Command Line it all works fine and no error is printed. I will probably follow up this with QNX.</p>
"
58947264,Pthread_mutex_lock crashes when locking from 2 different threads,https://stackoverflow.com/questions/58947264/pthread-mutex-lock-crashes-when-locking-from-2-different-threads,0,1574227501,"c++, pthreads, qnx, qnx-neutrino","<p>I'm using Pthread and Pthread_mutex for a project. I have timers that periodically create a thread using SIGEV_THREAD(). In my code, I have a timer that triggers a thread every 5 seconds and another that triggers every 15 seconds.</p>
<p>one of the thread executes this code
[Radar.cpp]</p>
<pre><code>void Radar::executeRadar(){
    std::cout &lt;&lt; &quot;***Executing radar***&quot; &lt;&lt; std::endl;

    pthread_mutex_lock( &amp;this-&gt;airplaneDB-&gt;mutex);

    this-&gt;scanAirZone(this-&gt;airplaneDB-&gt;getPlanes());

    pthread_mutex_unlock( &amp;this-&gt;airplaneDB-&gt;mutex);
}
</code></pre>
<p>and the other executes this
[Display.cpp]</p>
<pre><code> pthread_mutex_lock( &amp;this-&gt;planeDB-&gt;mutex);

// Some stuff

  pthread_mutex_unlock( &amp;this-&gt;planeDB-&gt;mutex);
</code></pre>
<p>The pointers &quot;this&quot; in this case are two different objects. The pointers planeDB and airplaneDB point to the same object.</p>
<p>I want to create a mutex that allows only one function to read the content of the airplaneDB at ay given time. However, when running the code, I get an error when the 2 threads try to run at the same time. Basically, they both try to lock and I get this:</p>
<pre><code>Process 655382 (FlightSimulator) terminated SIGSEGV code=1 fltno=11 ip=000000010002d41d(/usr/lib/ldqnx-64.so.2@pthread_mutex_lock+0x000000000000000d) mapaddr=000000000002d41d. ref=0000000000000000
</code></pre>
<p>In AirplaneDB, the mutex is initialized the following way:</p>
<pre><code>    pthread_mutexattr_t attr;
    pthread_mutexattr_init(&amp;attr);
    pthread_mutexattr_setpshared(&amp;attr, PTHREAD_PROCESS_SHARED);
    pthread_mutexattr_settype(&amp;attr, PTHREAD_MUTEX_RECURSIVE);

    pthread_mutex_init(&amp;this-&gt;mutex, &amp;attr);
</code></pre>
<p>Any Ideas?</p>
<h1>Update:</h1>
<p>The problem was caused by an improper setting of a pointer in one of the classes. Therefore trying to lock a mutex at address 0. This line should have pointed me towards the answer:</p>
<pre><code>@pthread_mutex_lock+0x000000000000000d
</code></pre>
<p>Initializing the DB properly fixed the error.</p>
",
58836565,How can user invoke superuser command?,https://stackoverflow.com/questions/58836565/how-can-user-invoke-superuser-command,0,1573646026,qnx,"<p>I created a user group and a user, when i log onto it and type su on the terminal.</p>

<p>I get this error <code>su error: Password and Shadow files on different devices</code></p>

<p>How do i fix this issue?</p>
",
33997729,How to differentiate between system calls and normal function calls,https://stackoverflow.com/questions/33997729/how-to-differentiate-between-system-calls-and-normal-function-calls,4,1448883453,"c++, unix, operating-system, rtos, qnx","<p>I am working on project which is trying to migrate some legacy application running on QNX neutrino operating system to other open source RTOS based on linux. 
I have listed all the third party library and device drivers which must be ported and now analyzing design and source code which depends on some special QNX features like QNX IPC MsgSend, MsgReply, MsgSendPulse etc. </p>

<p>I want to know is there any tools which will help me to make a list of all QNX related system calls or functions which is getting used in code from normal user defined functions or functions provided by third party library and C++ library. Since code is written by other organisations we don't know much details about code except how to compiler and how to run it. </p>

<p>Thanks</p>
",
57472900,qnx libimg how to encode png to memory,https://stackoverflow.com/questions/57472900/qnx-libimg-how-to-encode-png-to-memory,1,1565680719,"image, qnx","<p>In my case, I want to encode a pixel buffer into a piece of memory in png format.I just write the code:</p>

<pre><code>            BYTE* pbtBuffer     = new BYTE[img.w * img.h];
            s_writeBufferSize           = img.w * img.h;

            io_stream_t* pOutStream = io_open( IO_MEM, IO_WRITE, img.w * img.h, pbtBuffer );
            if ( !pOutStream )
            {
                CLogApp::info( String::format( L""io_open error: %d"", errno ) );
                return FALSE;
            }

            pOutStream-&gt;output.write_f = ioMemoryWrite;
</code></pre>

<p>But I cannot  do io_open( IO_MEM...) with IO_WRITE.  I search the qnx forum and find that qnx not support the IO_WRITE with IO_MEM. </p>

<p>How can I do this. Can someone help me? Thanks!!!!!!!!!!!!</p>
",
57831007,C++/libscreen fails to update visibility,https://stackoverflow.com/questions/57831007/c-libscreen-fails-to-update-visibility,1,1567834851,"c++, qnx, qnx-neutrino","<p>I'm writing a GUI in C++ (qcc) for Neutrino 6.5.0 with QNX CAR 2.0 using the screen windowing system, following the documentation tutorial. No visible output is generated, and <code>/dev/screen/{pid}/win-{n}/win-{n}</code> has <code>status = WIN_STATUS_INVISIBLE</code>.</p>

<p>(Using <code>{n}</code> and <code>{pid}</code> to indicate substitutions of runtime/dynamic variables' values)</p>

<p>I've tried following the tutorial to the letter, but had the same results. In particular, the value of <code>window_group_name</code> (<code>mainwindowgroup</code> or <code>veryuniquewgn</code>) makes no difference; the former being the value suggested by the tutorial, and the latter my own.</p>

<p>I've constructed an MCVE:</p>

<pre class=""lang-cpp prettyprint-override""><code>#include &lt;cstdlib&gt;   // for EXIT_ constants
#include &lt;stdio.h&gt;   // for printf(), getchar()
#include &lt;process.h&gt; // for getpid()

#include &lt;screen.h&gt;

#define screen_err(desc) \
    if(screen_res != 0) { \
        printf(""ERR screen: failed to %s\n"", desc); \
        return EXIT_FAILURE; \
    }

int main_withwindow(screen_context_t scr_ctx, screen_window_t scr_win) {
    static const char *window_group_name = ""veryuniquewgn"";

    // Dummy to pass as ptr to enum values
    int prop;

    int screen_res;

    screen_res = screen_create_window_group(scr_win, window_group_name);
    screen_err(""create window group"");

    prop = SCREEN_FORMAT_RGBA8888;
    screen_res = screen_set_window_property_iv(scr_win, SCREEN_PROPERTY_FORMAT,
            &amp;prop);
    screen_err(""set window property: format -&gt; RGBA"");

    prop = SCREEN_USAGE_NATIVE;
    screen_res = screen_set_window_property_iv(scr_win, SCREEN_PROPERTY_USAGE,
            &amp;prop);
    screen_err(""set window property: usage -&gt; native"");

    screen_res = screen_create_window_buffers(scr_win, 1);
    screen_err(""create window buffers"");

    int win_buf_rect[4] = { 0, 0 };
    screen_res = screen_get_window_property_iv(scr_win,
            SCREEN_PROPERTY_BUFFER_SIZE, win_buf_rect + 2);
    screen_err(""get window property: buffer_size"");

    // Array type to easily support multi-buffering in future
    screen_buffer_t scr_buf[1];

    screen_res = screen_get_window_property_pv(scr_win,
            SCREEN_PROPERTY_RENDER_BUFFERS, (void **)scr_buf);
    screen_err(""get window property: render_buffers"");

    int bg[] = { SCREEN_BLIT_COLOR, 0xffffff00, SCREEN_BLIT_END };
    screen_res = screen_fill(scr_ctx, scr_buf[0], bg);
    screen_err(""fill buffer with yellow"");

    screen_res = screen_post_window(scr_win, scr_buf[0], 1, win_buf_rect, 0);
    screen_err(""post window"");

    prop = 255;
    screen_res = screen_set_window_property_iv(scr_win,
            SCREEN_PROPERTY_ZORDER, &amp;prop);
    screen_err(""set window property: zorder -&gt; 255"");

    prop = 1;
    screen_res = screen_set_window_property_iv(scr_win,
            SCREEN_PROPERTY_VISIBLE, &amp;prop);
    screen_err(""set window property: visible -&gt; true"");

    screen_res = screen_flush_context(scr_ctx, SCREEN_WAIT_IDLE);
    screen_err(""flush context to idle"");

    getchar();

    return EXIT_SUCCESS;
}


int main_withcontext(screen_context_t scr_ctx) {
    screen_window_t scr_win;

    int ret;
    int screen_res;

    screen_res = screen_create_window(&amp;scr_win, scr_ctx);
    screen_err(""create window"");

    ret = main_withwindow(scr_ctx, scr_win);

    screen_res = screen_destroy_window(scr_win);
    screen_err(""destroy window"");

    return ret;
}

int main(int argc, char *argv[]) {
    printf(""%d\n"", getpid());

    screen_context_t scr_ctx;
    int ret;
    int screen_res;

    screen_res = screen_create_context(&amp;scr_ctx, SCREEN_APPLICATION_CONTEXT);
    screen_err(""create context"");

    ret = main_withcontext(scr_ctx);

    screen_res = screen_destroy_context(scr_ctx);
    screen_err(""destroy context"");

    return ret;
}

</code></pre>

<p>Given the use of the <code>screen_err()</code> define, no output - except the first <code>printf</code> for the pid - indicates no errors from <code>screen_...()</code> calls. That's exactly what I see when I run this.</p>

<p>Looking in <code>/dev/screen/{pid}</code>, I see a <code>ctx-{n}/ctx-{n}</code> and a <code>win-{n}/win-{n}</code> file, as expected. The former is not human-readable, but the latter, and its differences to its counterpart in a working nto 6.5.0 + CAR 2.0 + libscreen application, yield some insight.</p>

<p>The working application is an HMI for which I do not have the source, and is launched from <code>/etc/ro</code> as root, and mine is launched from ksh, logged in as root.</p>

<p>They're both 98-line files, so I've produced a diff - the <code>win-{n}</code> from the working application on the left, and mine on the right - excluding metrics:
(lines over 39 characters compared vertically)</p>

<pre><code>autonomous = 0                           autonomous = 1
status = WIN_STATUS_FULLSCREEN           status = WIN_STATUS_INVISIBLE
id string = DPY_HMI                      id string =
insert id = 1                            insert id = 3
reclip = 0                               reclip = 1

flags = WIN_FLAG_VISIBLE WIN_FLAG_FLOATING
flags = WIN_FLAG_FLOATING

usage = SCREEN_USAGE_OPENGL_ES2          usage = SCREEN_USAGE_NATIVE
order = 240                              order = 0
regions = (0,0;800,480)                  regions = (none)

clipped source viewport = (0,0;800,480 800x480)
clipped source viewport = (0,0;0,0 0x0)


clipped destination rectangle = (0,0;800,480 800x480)
clipped destination rectangle = (0,0;0,0 0x0)

transform = [[1 0 0],[0 1 0],[0 0 1]]    transform = [[0 0 0],[0 0 0],[0 0 0]]
</code></pre>

<p>Of these differences, <code>usage</code> is the only one with the value I expect, considering that it reflects the parameter of the relevant call to <code>screen_set_window_property_iv(...)</code>. For all the rest, especially <code>regions</code> and <code>flags</code>, I do not understand why their values differ from those of the working application.</p>

<p>The target's display's native resolution is 800x480.</p>
","<p>As it turns out, that code was completely valid and correct. The reason for its failure was a window manager daemon I wasn't aware of suppressing the window. Turning this off solved the problem.</p>
"
57088928,Debug QNX on gdb without upload command,https://stackoverflow.com/questions/57088928/debug-qnx-on-gdb-without-upload-command,1,1563433847,"gdb, qnx","<p>I am able to start the gdb debugger with a QNX target with the commands as specified in the <a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.neutrino.prog/topic/using_gdb_Quick.html"" rel=""nofollow noreferrer"">documentation</a>.</p>

<p>There is only one workaround that I don't like about my setup. Before I run all these commands, I have already installed and deployed my executables (yes, multiple) to the target machine. I do not require to <code>upload</code> them again, but I cannot find the command to launch an application without running <code>upload</code>.</p>

<p>The steps that I do now:</p>

<ol>
<li>Deploy my executables on the target machine.</li>
<li>Run <code>pdebug 1234</code> on the target machine.</li>
<li>Run <code>gdb</code> on windows and perform the following commands:

<ol>
<li><code>file my_application</code></li>
<li><code>target qnx ipaddress:1234</code></li>
<li><code>upload my_application /tmp/my_application</code></li>
<li>Set a breakpoint</li>
<li><code>run</code></li>
</ol></li>
</ol>

<p>Is there a command to replace <code>upload</code> with just assigning the executable that I want to run?</p>
",
57887429,How to View the OS image Files such as .raw or .bin files any command available in Linux or QNX?,https://stackoverflow.com/questions/57887429/how-to-view-the-os-image-files-such-as-raw-or-bin-files-any-command-available,0,1568198756,"image, operating-system, qnx","<p>I have created a a OS image File using mketfs  in qnx and the final image is in .raw format.. Is there any way to view the .raw files.</p>
",
52948173,cmake in qnx supported?? Porting from Linux to QNX,https://stackoverflow.com/questions/52948173/cmake-in-qnx-supported-porting-from-linux-to-qnx,0,1540294852,"cmake, qnx","<p>Is Cmake supported in QNX 6.5?</p>

<p>I have a Linux platform code which uses cmake. I need to port this to QNX.</p>
",
51137067,How do I use different compilation standards in QNX Momentics 6.5?,https://stackoverflow.com/questions/51137067/how-do-i-use-different-compilation-standards-in-qnx-momentics-6-5,0,1530537241,"c, gcc, qnx, qnx-neutrino, momentics","<p>I'm trying to build applications for the Sabre i.MX6 development board, that runs QNX OS. I'm using QNX Momentics v6.5 for cross-compiling my code. I wrote a simple ""Hello World"" code and I'm trying to compile it with new c standards since the project I'm working on requires that.</p>

<p>When I try to compile with any flag, say <code>-std=c99</code> or <code>-std=c11</code>, it throws an error during the compilation saying </p>

<p><code>cc: unknown Option -std=c99"" or ""cc: unknown Option -std=c11""</code>. </p>

<p>I can see that the compiler it's using is <code>gcc 4.4.2</code>. </p>

<p>I'm not sure whether this version of <code>gcc</code> doesn't support <code>c99</code> or whether the flag I'm passing is supposed to be different for QNX Momentics.</p>
","<p>QNX 6.5 and gcc 4.4.2 don't support C++11.  See <a href=""http://www.qnx.com/developers/docs/6.5.0SP1.update/index.html#com.qnx.doc.neutrino_utilities/q/qcc.html"" rel=""nofollow noreferrer"">the QCC docs</a> for more info.
The best you'll get is incomplete and experimental support through <code>-std=c++0x</code> or <code>-std=gun++0x</code>.  </p>

<p>QNX 6.6 includes gcc 4.7.3 which does have experimental C++11 support and QNX 7.0 uses gcc 5.4.0 has full C++11 and C++14 support.  </p>

<p>Full details of the gcc C++ standards support can be found <a href=""https://gcc.gnu.org/projects/cxx-status.html"" rel=""nofollow noreferrer"">on the gcc standards page</a>.</p>
"
56852051,Why is QNX 2 partitions an example of non-QNX partition?,https://stackoverflow.com/questions/56852051/why-is-qnx-2-partitions-an-example-of-non-qnx-partition,0,1562069016,"filesystems, qnx","<p>I was going through the '''chkfsys''', and I came across the statement 
'''The chkfsys utility doesn't operate on disk partitions containing non-QNX filesystems (e.g. DOS partitions, QNX 2 partitions)'''.
Can anybody explain why even though its not QNX partition, why is it named as 'QNX-2' ?</p>
","<p>It is just poor wording in the utility.  The file system form used int QNX 2 is entirely incompatible with QNX 4 and onwards.   Initially the new file system was called the QNX 4 Filesystem, and the only support for the qnx2 one was a utility which permitted copying files from it.</p>

<p>Unlike a unix-inspired file system, the QNX/2 intermingled meta-data with data, so each extent formed a doubly linked list.  Sadly, this made it hard to predict read sizes, as a single sector extent would be a little smaller than a sector.  On the positive side, recovery from a wounded disk was much more effective since there was no fat/inode/... table to rely upon.</p>
"
56804548,VS Code: Replace characters in built-in variable launch.json,https://stackoverflow.com/questions/56804548/vs-code-replace-characters-in-built-in-variable-launch-json,1,1561714827,"visual-studio-code, gdb, qnx","<p>I am trying to create a launch.json file where I want to call gdb. Only, when I call it, it seems that I have to use 4 backslashes in filepaths in order to get it working. So I am now using hardcoded paths, but I would like to use paths coming from cmake-tools.</p>

<pre><code>{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    ""version"": ""0.2.0"",
    ""configurations"": [
        {
            ""name"": ""(gdb) Launch"",
            ""type"": ""cppdbg"",
            ""request"": ""launch"",
            ""program"": ""gdb"",
            ""args"": [],
            ""externalConsole"": true,
            ""stopAtEntry"": true,
            ""windows"": {
                ""MIMode"": ""gdb"",
                ""cwd"": ""${workspaceRoot}"",
                ""miDebuggerPath"": ""${env:QNX_HOST}\\usr\\bin\\ntox86_64-gdb.exe"",
                ""miDebuggerServerAddress"": ""192.168.88.128:1234"",
                ""launchCompleteCommand"": ""exec-run"",
                ""customLaunchSetupCommands"": [
                    {
                        ""text"": ""-environment-cd ${workspaceRoot}""
                    },
                    {
                        ""description"": ""Connecting to QNX pdebug"",
                        ""text"": ""target qnx 192.168.88.128:1234"",
                        ""ignoreFailures"": false
                    },
                    {
                        ""description"": ""Loading symbol table"",
                        ""text"": ""file ${command:cmake.launchTargetPath}"", // this line is returning single backslashes and I want to replace them with four backslashes
                        ""ignoreFailures"": false
                    },
                    {
                        ""description"": ""Uploading"",
                        ""text"": ""upload THIS\\\\FOLDER\\\\STRUCTURE\\\\IS\\\\WORKING /SOMEWHERE/ON/QNX"",
                        ""ignoreFailures"": false
                    }
                ]
            },
            ""logging"": {
                ""engineLogging"": true,
                ""trace"": true,
                ""traceResponse"": true
            },
            ""targetArchitecture"": ""x86_64""
        }
    ]
}
</code></pre>
","<p>I have changed a couple of things to this script in order to get it working.</p>

<ol>
<li>It seems that forward slashes are using as well. So you can just do <code>""text"": ""upload THIS/FOLDER/STRUCTURE/IS/WORKING /SOMEWHERE/ON/QNX</code></li>
<li><code>${workspaceRoot}</code> still wasn't working, but I used <a href=""https://marketplace.visualstudio.com/items?itemName=ego-digital.vscode-powertools"" rel=""nofollow noreferrer"">VS Code Power Tools</a> to make some custom commands that can be added to your build script and you can simply call them via <code>${command:myCustomCommand}</code>. Inside of those commands, you can also call other commands, like cmake.launchTargetPath and change it to forward slashes with simple javascript regex.</li>
</ol>
"
56871199,std::mktime return -1 on QNX,https://stackoverflow.com/questions/56871199/stdmktime-return-1-on-qnx,3,1562160174,"c++, function, time, std, qnx","<p>C++11</p>

<p>Have a cross platform code with usage of std::mktime on Ununtu 18 (x64) and QNX (x64)</p>

<p>On Ubuntu everything is ok. But on QNX mktime returns -1. errno = 3
What's wrong?</p>

<pre><code>#include &lt;iostream&gt;
#include ""ctime""


int main(int argc, char *argv[]){

    const std::string token = ""100901"";

    std::string dd = token.substr( 0, 2 );
    std::string mm = token.substr( 2, 2 );
    std::string yy = token.substr( 4, 2 );

    struct std::tm date_tm = {};

    date_tm.tm_mday = std::stoi( dd);
    date_tm.tm_mon = std::stoi( mm) - 1;
    date_tm.tm_year = std::stoi( yy) + 100;

    if (std::mktime( &amp;date_tm ) == -1);
    {
        std::cout &lt;&lt; ""Error"";
    }

    return 0;
}
</code></pre>

<p>P.S. Tried init struct tm as:</p>

<pre><code>struct std::tm date_tm = {0};

std::memset( &amp;date_tm, 0, sizeof( date_tm ) )

</code></pre>

<p>Some notes:</p>

<p>1) if I call <strong>mktime</strong> twice - everything will be ok (will receive time)</p>

<p>2) <strong>tm</strong> structure print</p>

<pre><code>tm_gmtoff: 0
tm_hour: 0
tm_isdst: 0
tm_mday: 10
tm_min: 0
tm_mon: 8
tm_sec: 0
tm_wday: 0
tm_yday: 0
tm_year: 101
</code></pre>

<p>Are there any other (easy and fast) ways to get time in seconds for my case?</p>
","<p>On QNX device this problem was fixed by setting to tm structure tm_isdst = 1 and tm_zone (GMT)</p>

<p>Unfortunately it broke my Ubuntu build (due to timezone, on my local PC it was EET).</p>

<p>Replaced receiving seconds by boost::poxis_time</p>

<pre><code>    struct tm date_tm;
    std::memset( &amp;date_tm, 0, sizeof( date_tm ) );
    strptime(token.c_str(), ""%d%m%y"", &amp;date_tm);

    boost::posix_time::time_duration diff
        = boost::posix_time::ptime( boost::gregorian::date_from_tm( date_tm ) )
          - boost::posix_time::ptime( boost::gregorian::date( 1970, 1, 1 ) );

    date = diff.ticks( ) / boost::posix_time::time_duration::rep_type::ticks_per_second;

</code></pre>
"
56485312,How to I hardcode/alter test results from autoconf when cross-compiling NTP for QNX?,https://stackoverflow.com/questions/56485312/how-to-i-hardcode-alter-test-results-from-autoconf-when-cross-compiling-ntp-for,0,1559856439,"cross-compiling, autoconf, ntp, qnx, qnx-neutrino","<p>I am attempting to cross-compile NTP for armv7-unknown-nto-qnx from i686-pc-linux-gnu.</p>

<p>So far, I have built up the following command:</p>

<pre><code>CC=/opt/qnx660/host/linux/x86/usr/bin/qcc LD=/opt/qnx660/host/linux/x86/usr/bin/ntoarmv7-ld  CFLAGS=""-static -Vgcc_ntoarmv7le"" ../configure --host=armv7-unknown-nto-qnx --build=i686-pc-linux-gnu --prefix=$(pwd)/output --with-yielding-select=yes
</code></pre>

<p>This seems to get me most of the way there; however, the compiler ends up throwing <code>../../../sntp/libevent/signal.c:255:17: error: 'SA_RESTART' undeclared (first use in this function)</code>. In this and every other instance of SA_RESTART, the configure-defined constant HAVE_SIGACTION ifdefs out the problem code. Looking into config.log, I found this:</p>

<pre><code>configure:24569: checking for sigaction
17307configure:24569: /opt/qnx660/host/linux/x86/usr/bin/qcc -std=gnu99 -std=gnu99 -o conftest -static -Vgcc_ntoarmv7le   conftest.c -lsocket  &gt;&amp;5
17308configure:24569: $? = 0
17309configure:24569: result: yes
</code></pre>

<p>I think this is a false positive.</p>

<p>I'm looking for either a way to correct the ./configure tests by further specifying my environment or a way to specify the result of the test.</p>

<p>I am aware that I could just modify the config.h after the auto-testing, but this is not a valid solution for my application.</p>
",
56441930,How to check if a process is running by name on Unix when there is no cmdline file inside the proc directory?,https://stackoverflow.com/questions/56441930/how-to-check-if-a-process-is-running-by-name-on-unix-when-there-is-no-cmdline-fi,0,1559643613,"c, unix, qnx","<p>So I am running on <code>QNX</code> and I want to check if a process is up and running.<br>
I saw many examples on how to do this - basically iterate over the <code>proc</code> directory, and over and processes inside (which are some numbers - pid) and inside this there should be a <code>cmdfile</code> file.   </p>

<p>But on my controller if I list the processes using <code>pidin</code> and get the pid for it and search it on FTP inside the <code>proc</code> folder, it doesn't contain anything, its empty.  </p>

<p>What does this mean ? How should I check if the process is running by name ?</p>

<p>Here is a screenshot - <code>15179</code> is the process.</p>

<p><a href=""https://i.sstatic.net/YCCIp.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/YCCIp.png"" alt=""enter image description here""></a></p>
","<p>Since you are using FileZilla as I can see from the screenshot. You need to login as root user to access /proc location.</p>

<p>I'd recommend to SSH to the server and check the processes which are running using the ps, top or pgrep command. Using the command line provides much more options. </p>
"
55914017,How do I run a simple &#39;hello world&#39; program under QNX?,https://stackoverflow.com/questions/55914017/how-do-i-run-a-simple-hello-world-program-under-qnx,4,1556598805,"qnx, qnx-neutrino, momentics","<p><strong>Background</strong>: I have the QNX license key and have installed the <a href=""http://www.qnx.com/download/feature.html?programid=20725"" rel=""nofollow noreferrer"">VMWare target image</a> from the QNX website into the VMWare. I have the QNX target RTOS running as a VM and my host machine has a QNX momentics IDE that can recognize the QNX target OS.</p>

<p><strong>Problem</strong>: I have the license for the latest QNX SDP 7 and the <a href=""http://www.qnx.com/download/feature.html?programid=20725"" rel=""nofollow noreferrer"">only VMWare compatible image I could find</a> on the QNX website is an older QNX 6.5(?). A simple 'hello world' program (the demo program that ships with the Momentics IDE) will not run on the QNX target OS because it is missing certain libraries.</p>

<p>I need to either: </p>

<ul>
<li>Acquire the methodology to boot the latest version of QNX RTOS on VMWare. I have searched and searched in vain but this procedure is not described. The QNX SDP should have a way to create a bootable QNX RTOS for VMWare but the procedure is not listed anywhere (I have searched for days now!) </li>
</ul>

<p><em>OR</em> </p>

<ul>
<li>Find a way to use the Momentics IDE 7.0 with the older version of QNX RTOS that I have.</li>
</ul>

<p><strong>Questions</strong>:</p>

<ul>
<li>How do create a bootable QNX RTOS ISO and load it into VMWare using the QNX SDP 7.0?</li>
<li>Make simple C/C++ programs created with QNX Momentics 7.0 run on the older version of QNX RTOS I have?</li>
</ul>

<p><strong>Addendum</strong></p>

<p><a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.qnxsdp.quickstart/topic/install_neutrino.html"" rel=""nofollow noreferrer"">These are the instructions</a> they provide on how to acquire the latest QNX RTOS VMWare image. They say:</p>

<blockquote>
  <p>We provide a VMware image that's compatible with VMware Workstation Pro 12.0 or later, VMware Workstation Player 12.0 or later, and VMware Fusion Pro 8.0 or later. This image is a minimal QNX Neutrino system. You can download a VMware image from the QNX Software Center by choosing the Available tab, expanding the Reference Images list, expanding the Tools list, and then choosing the appropriate virtual machine. </p>
</blockquote>

<p>However, there's no 'reference images' or 'tools' or 'available tab' or anything like that in the software center (see images).</p>

<p><a href=""https://i.sstatic.net/Cx4hP.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Cx4hP.png"" alt=""enter image description here""></a></p>

<p><a href=""https://i.sstatic.net/eGWF6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/eGWF6.png"" alt=""enter image description here""></a></p>
",
56275993,MISRA-2012 Rule 20.12 violation: misra_c_2012_rule_20_12_violation: macro parameter &quot;val&quot; is used in both expanded and raw forms,https://stackoverflow.com/questions/56275993/misra-2012-rule-20-12-violation-misra-c-2012-rule-20-12-violation-macro-parame,0,1558616934,"c, embedded, qnx, misra, safety-critical","<p>I've been facing this MISRA violation:</p>

<hr>

<h2>Definitions:</h2>

<pre><code>#define A                 (1UL &lt;&lt; 10)
#define INIT_A            ((A) | (1UL &lt;&lt; 15))
#define INIT_A_MASK       (0xFFFFUL &lt;&lt; 15)


#define IS_STATE_IFSET(state, val)  ((((state) &amp; (val##_MASK)) == (val)) ? true : false)   //issue is here ?
</code></pre>

<hr>

<h2><strong>Caller Details:</strong></h2>

<pre><code>uint64_t state = 1234UL;
if (!IS_STATE_IFSET(state, INIT_A)) {
    printf(""Hoo-Haa\n"");
}
</code></pre>

<p>Misra-2012 reports Rule 20.12 violation <code>misra_c_2012_rule_20_12_violation: macro parameter ""val"" is used in both expanded and raw forms</code></p>
",
56215739,How to get device path and mount path using usbdi callbacks?,https://stackoverflow.com/questions/56215739/how-to-get-device-path-and-mount-path-using-usbdi-callbacks,1,1558335641,"usb, qnx, qnx-neutrino","<p>I am in the progress of implementing a service which will detect usb plugin/removal using usbdi callback functions. Callback function has a parameter ""usbd_device_instance_t * usbInstance"" from which i can get device vendor id,product id and the device class information. But how do i get a mount point in case of a mass storage device and a device path in case of a HID device?</p>
",
55910699,what type of code can trigger unaligned data access sigbus trap dynamically?,https://stackoverflow.com/questions/55910699/what-type-of-code-can-trigger-unaligned-data-access-sigbus-trap-dynamically,1,1556571353,"gcc, arm, memory-alignment, qnx, qnx-neutrino","<p>I am looking for SIGBUS on unaligned data access. I am tracking one of this errors and I would like to know how this is happening on sitara am335x. Can someone please give me an example code to describe this or ensure triggering it.</p>

<p>Adding code snippet:</p>

<pre><code>int Read( void *value, uint32_t *size, const uint32_t baseAddress )
{
    uint8_t *userDataAddress = (uint8_t *)( baseAddress + sizeof( DBANode ));
    memcpy( value, userDataAddress, ourDataSize );
    *size = ourDataSize;
    return 0;
}
</code></pre>

<p>DBA node is a class object of 20 bytes.
baseAddress is an mmap to a shared memory file again of a class object type of DBANode casted to a uint32_t so that the arithmetic can be done.</p>

<p>This is the dissasembly of the section:</p>

<pre><code>    91a8:   e51b3010    ldr r3, [fp, #-16]
    91ac:   e5933000    ldr r3, [r3]
    91b0:   e51b0014    ldr r0, [fp, #-20]  ; 0xffffffec
    91b4:   e51b1008    ldr r1, [fp, #-8]
    91b8:   e1a02003    mov r2, r3
    91bc:   ebffe72b    bl  2e70 &lt;memcpy@plt&gt;
    91c0:   e51b3010    ldr r3, [fp, #-16]
    91c4:   e5932000    ldr r2, [r3]
    91c8:   e51b3018    ldr r3, [fp, #-24]  ; 0xffffffe8
    91cc:   e5832000    str r2, [r3]

00002e70 &lt;memcpy@plt&gt;:
    2e70:   e28fc600    add ip, pc, #0, 12
    2e74:   e28cca08    add ip, ip, #8, 20  ; 0x8000
    2e78:   e5bcf868    ldr pc, [ip, #2152]!    ; 0x868
</code></pre>

<p>When the exact same code base was re-built, the problem just disappeared. Can the gcc create 2 different versions of instructions with same optimization of -O0 specified for gcc ?</p>

<p>I also diffed the library so files obj dumps in both compilations. They are exactly the same. The api is used quite often. However, the crash only happens after prolonged use over a few days. I am reading the same node every 500ms. So this is not consistent.
Should I be looking at pointer corruption ?</p>
","<p>Turns out the baseAddress is the issue. As I  mentioned its an mmap to an shared memory location where the mmap can fail. failed mmap returns -1 and the code was checking for NULL and proceeding to write to -1 i.e 0xFFFFFFFF causing a sigbus.
The code 1 is seen when we use memcpy. Trying any other access like a direct byte addressing gives a code 3 with sigbus.</p>

<p>I am still not sure why it triggers SIGBUS instead of SIGSEGV. Shouldn't this be a memory violation instead ?
Here is an example:</p>

<pre><code>int main(int argc, char **argv)
{
    // Shared memory example                                                    
     const char *NAME = ""SharedMemory"";                                          
     const int SIZE = 10 * sizeof(uint8_t);                                      
     uint8_t src[]={0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x88,0x99,0x00};          
     int shm_fd = -1;                                                            

     shm_fd = shm_open(NAME, O_CREAT | O_RDONLY, 0666);                          
     ftruncate(shm_fd, SIZE);                                                    

    // Map shared memory segment to address space                               
     uint8_t *ptr = (uint8_t *) mmap(0, SIZE, PROT_READ | PROT_WRITE | _NOCACHE, MAP_SHARED, shm_fd, 0);
     if(ptr == MAP_FAILED)                                                       
     {                                                                           
          std::cerr &lt;&lt; ""ERROR in mmap()"" &lt;&lt; std::endl;                            
      //  return -1;                                                              
      }                                                                           
      printf(""ptr = 0x%08x\n"",ptr);                                               
      std::cout &lt;&lt; ""Now storing data to mmap() memory"" &lt;&lt; std::endl;              
      #if 0                                                                           
      ptr[0] = 0x11;                                                              
      ptr[1] = 0x22;                                                              
      ptr[2] = 0x33;                                                              
      ptr[3] = 0x44;                                                              
      ptr[4] = 0x55;                                                              
      ptr[5] = 0x66;                                                              
      ptr[6] = 0x77;                                                              
      ptr[7] = 0x88;                                                              
      ptr[8] = 0x99;                                                              
      ptr[9] = 0x00;                                                              
      #endif                                                                          

      memcpy(ptr,src,SIZE);   //causes sigbus code 1                              
      shm_unlink(NAME);
}
</code></pre>

<p>I still do not know why mmap is failing on an shm even though I have a 100MB of RAM available and all my resource limits are set to unlimited with over 400 fds (file descriptors) still available out of 1000 fds limit. !!!</p>
"
55931206,Which path for C++ in QNX7 should be included?,https://stackoverflow.com/questions/55931206/which-path-for-c-in-qnx7-should-be-included,-1,1556680589,"c++, include-path, qnx","<p>There are existing two include pathsÔºà5.4.0Ôºå v1Ôºâ and two libraries(libstdc++, libc++) for C++ project in QNX7.
When using v1 path, it looks like libc++ should be used only. 
I want to know the difference of them and features.</p>
",
55838817,"&#39;getline&#39; was not declared in this scope, what does it mean?",https://stackoverflow.com/questions/55838817/getline-was-not-declared-in-this-scope-what-does-it-mean,1,1556141269,qnx,"<p>When compile, I have 'getline' was not declared in this scope</p>

<p>compiling next code:</p>

<pre><code>string PostCmd::getFailedFromFile()
{
    string failedList;
    ifstream file(FILE, ifstream::in);
    if (file.is_open())
    {
        getline(file, failedList);
        file.close();
    }
    else
    {
        cout &lt;&lt; ""Unable to open file"";
    }
    return failedList;
}
</code></pre>
","<p>Try to include <code>&lt;istream&gt;</code>.</p>

<p>More info can be seen here: <a href=""http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.dinkum_en_ecpp%2Fistream.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.dinkum_en_ecpp%2Fistream.html</a></p>
"
50698025,QNX momentics linked source files not compiling,https://stackoverflow.com/questions/50698025/qnx-momentics-linked-source-files-not-compiling,0,1528195117,"qnx, qnx-neutrino, momentics","<p>I am creating a QNX port for a Linux application. As a test, i copied all source code and header files into /src/ directrory and built the code. the binary was created, and I was able to execute on target VM. but now I have to create the momentics project inside the project folder, without altering or creating duplicate copies of existing source files. 
I found that I can use linked resources. So I followed steps provided <a href=""http://www.qnx.com/developers/docs/6.5.0/index.jsp?topic=%2Fcom.qnx.doc.ide.userguide%2Ftopic%2Fcvs_IMPORT_.html"" rel=""nofollow noreferrer"">here</a> and could add the file to project. </p>

<p><a href=""https://i.sstatic.net/04WRh.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/04WRh.png"" alt=""adding linked resource""></a></p>

<p><a href=""https://i.sstatic.net/z2Y89.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/z2Y89.png"" alt=""after adding""></a></p>

<p>but when I compile the project, it is not taking the linked files.</p>

<p><a href=""https://i.sstatic.net/W83M5.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/W83M5.png"" alt=""copiling""></a></p>

<p>As one can clearly see the process is directly going to linking stage.</p>

<p>but if I add a new cpp file without linking, only that particular file is getting compiled, not the linked file.
<a href=""https://i.sstatic.net/oSonZ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/oSonZ.png"" alt=""only the new main.cpp is getting compiled""></a>
only the new main.cpp is getting compiled. </p>

<p>Can anyone help me to get this project built, only using linked resources?</p>
",
55381378,How to differentiate between an RTOS and Linux?,https://stackoverflow.com/questions/55381378/how-to-differentiate-between-an-rtos-and-linux,1,1553701781,"c, ubuntu, rtos, qnx","<p>I've a QNX RTOS and Ubuntu 17.10 running. Problem is, other than the fact that QNX is an RTOS, I don't have any proof that it behaves like a RT system. What kind of application should I run on each OS which can give me a clear differentiation between the RT response of an RTOS and Ubuntu?</p>

<p>I ran a signal handler(interrupt handler) program on both to see which one would catch the interrupt first.</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;signal.h&gt;
#include &lt;pthread.h&gt;

void sig_hand(int sig) {
    printf(""signal received\n"");
    exit(0);
}

void *sigfun(void *arg) {
    signal(SIGINT, sig_hand);
    while(printf(""Thread running\n""));
    return NULL;
}


int main(void) {
    pthread_t th;

    pthread_create(&amp;th,NULL,sigfun,NULL);
    pthread_join(th,NULL);

    return 0;
}
</code></pre>

<p>I expect that while a thread keeps printing <code>Thread Running</code>, QNX will fetch the interrupt and stop the thread faster compared to Ubuntu. However, I see no difference and probably this is not the right application to find out the faster RT response.
Can anyone suggest me a better way to clearly differentiate between an RTOS and Ubuntu?</p>
",
55372639,Alignment for types with fixed bit length on QNX,https://stackoverflow.com/questions/55372639/alignment-for-types-with-fixed-bit-length-on-qnx,0,1553675026,"c++, gnu, memory-alignment, qnx","<p>On Windows <code>uint16_t</code> is just a <code>typedef</code> of <code>unsigned short</code> (from VS2017 <code>stdint.h</code>):</p>

<pre><code>typedef unsigned short     uint16_t;
</code></pre>

<p>But on QNX6 with GCC <code>uint16_t</code> from <code>stdint.h</code> refers to <code>_Uint16t</code>:</p>

<pre><code>typedef _Uint16t           uint16_t;
</code></pre>

<p>which is declared in <code>include\sys\compiler_gnu.h</code> as following:</p>

<pre><code>typedef unsigned int                _GCC_ATTR_ALIGN_u16t __attribute__((__mode__(__HI__)));
typedef _GCC_ATTR_ALIGN_u16t        _Uint16t __attribute__((__aligned__(2)));
</code></pre>

<p>What's the reason to make <code>uint16_t</code> aligned in that case? </p>

<p>The question is came from the code below:</p>

<pre><code> using T = uint16_t;
 std::map&lt;T, unsigned char&gt; m;
</code></pre>

<p>Which gives me a warning:</p>

<blockquote>
<pre><code>warning: ignoring attributes on template argument 'T {aka short unsigned int}' 
[-Wignored-attributes]
</code></pre>
</blockquote>

<p>Should I switch back to <code>using T = unsigned short;</code> to prevent such a warning?</p>
",
52293025,Use of spi_setcfg() API for configuration of spi using qnx,https://stackoverflow.com/questions/52293025/use-of-spi-setcfg-api-for-configuration-of-spi-using-qnx,0,1536748099,"spi, qnx","<p>I am new to QNX. I am trying to write an application which sends/receives data over SPI. I am able to send/receive data. But when I observe clock line with MOSI line on logic analyser, I see that after every 32 bytes there is a gap of 5 us for which both clock and MOSI lines fall flat and no data is transferred during that period. Now due to this, the time taken for transfer of spi data is coming to be more than calculated time. 
I am assuming ( I am not sure if it's correct) that Qnx spi fifo buffer size is 32 bytes , so Qnx spi driver pushes the data in chunks of 32 bytes. That is the reason why there is delay of 5 ms to fill data again into buffers. I want to know if there is any way by which we can increase spi fifo buffer size. I did some research and got to understand that spi_setcfg() API can be used to change configure SPI. But I could not find any examples of how to use this API to increase fifo buffer. Kindly help.</p>
",
40133492,Lock password database,https://stackoverflow.com/questions/40133492/lock-password-database,0,1476885489,"linux, qnx, momentics","<p>When I try to set root password for QNX, I get the following error:</p>

<pre><code>unable to lock password database (No such file or directory)
</code></pre>

<p>I am currently working on a system builder project where I am trying to configure it to solve this image problem. My target is a PowerPC board. What parts should I check and change?</p>
",
55044783,Memory fault when inserting output for an std::basic_ostream instantiation in QNX,https://stackoverflow.com/questions/55044783/memory-fault-when-inserting-output-for-an-stdbasic-ostream-instantiation-in-qn,1,1551964697,"c++, qnx","<p>I have the following scenario:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;fstream&gt;
#include &lt;ostream&gt;

class File_ostream final : public std::basic_ostream&lt;char, std::char_traits&lt;char&gt;&gt;
{
};

int main()
{
    const std::string input_file{""file_tests/test.txt.gz""};
    std::ifstream ifs{input_file, std::ios_base::in | std::ios_base::binary};

    File_ostream file_os{};

    file_os &lt;&lt; ifs.rdbuf(); // Memory fault (core dumped) 
}
</code></pre>

<p>My program always crashes when inserting output to <code>file_os</code> and creates a core dump.</p>

<p>The code works fine in Linux but not in QNX :\</p>

<p>Do you have any explanation? hint?</p>
","<p>The problem is that you are using the default constructor of <code>basic_ostream</code> which, by the standard, does not exist. I have no idea why g++ and QCC compile your code successfully, but they shouldn't.</p>

<p>Anyway, using non standardized functions reveals non standardized behavior, in your case a crash. I don't know if the correct usage of the default constructor is documented anywhere in the gcc docs, but just avoiding it, and using <a href=""http://en.cppreference.com/w/cpp/io/basic_ostream/basic_ostream"" rel=""nofollow noreferrer"">the correct constructor</a> instead, should solve your issue.</p>
"
54982990,Looking for someone that is familiar with QNX 4.2,https://stackoverflow.com/questions/54982990/looking-for-someone-that-is-familiar-with-qnx-4-2,0,1551701429,qnx,"<p>As per topic. I have very old machine that i cannot replace (some old railway machine). That machine still uses 3.5zip drive. I need to fit the USB instead. Therefore, as i`m completely not familiar with this system, can someone direct me please on where to start to reconfigure this ( if manageable of course) for use with USB? I guess there would a need for drivers etc so the USB is discoverable.
Thanks a lot in advance.</p>
",
54886381,Is it possible to run QNX neutrino RTOS with native/full virtualization on microkernal based VMM?,https://stackoverflow.com/questions/54886381/is-it-possible-to-run-qnx-neutrino-rtos-with-native-full-virtualization-on-micro,0,1551186903,"qnx, hypervisor, qnx-neutrino","<p>Is it possible to run QNX neutrino RTOS with native/full virtualization on microkernal based VMM (like CodeZero, Sel4, 
PikOS)? </p>

<hr>

<p>I read Linux and android support full virtualization and it is possible to run them on any VM without modifying 
the kernel. Does the same possible with QNX? or QNX only supports para virtualization? </p>

<hr>

<p>Is there any  reference 
documentation on QNX virtualization? </p>

<hr>

<p>I knew QNX provides its own hypervisor. But i am trying on other hypervisors. </p>

<hr>

<p>I am new to both QNX and virtualization. I apologize if the question is not properly framed or unclear. In that case, do mention in comments. </p>
",
54422894,std::cout doesn&#39;t print letters after \n in QNX,https://stackoverflow.com/questions/54422894/stdcout-doesnt-print-letters-after-n-in-qnx,0,1548770896,"c++, string, qnx","<p>I want to print a list of items stored in a single string. I don't know why the last item is skipped!</p>

<p>Do you have an idea why?</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;

int main() {
  std::string string_test{""Item1\nItem2\nItem3""};
  std::cout &lt;&lt; string_test;

  return 0;
}
</code></pre>

<p>The output is:</p>

<pre><code>Item1
Item2
</code></pre>
","<p>It is a reported bug in line-buffered stream output on QNX version 7.0.3.</p>

<p><a href=""http://community.qnx.com/sf/discussion/do/listPosts/projects.core_os/discussion.newcode.topc27612"" rel=""nofollow noreferrer"">Source</a></p>
"
53960678,Can I use std:fixed or std::setprecision() with &gt;&gt; operator?,https://stackoverflow.com/questions/53960678/can-i-use-stdfixed-or-stdsetprecision-with-operator,2,1546010573,"c++, floating-point, qnx","<p><code>std::istringstream</code> loses precision when converting a string to long double. Can I use something similar to <code>std::fixed</code> or <code>std::setprecision()</code>?</p>

<p>I am using c++ 11 and targeting QNX platform.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;iomanip&gt;

int main(){
    long double convertedNumber;
    std::string numberString (""5.94865747678615882510631e+4931"");

    //From string to long double
    std::istringstream iss(numberString);
    iss &gt;&gt; convertedNumber;

    std::cout&lt;&lt; std::setprecision(30) &lt;&lt; numberString &lt;&lt; ""\n"";
    std::cout&lt;&lt; std::setprecision(30) &lt;&lt; convertedNumber &lt;&lt; ""\n"";

    return 0;
}
</code></pre>

<p>The output is</p>

<pre><code>5.94865747678615882510631e+4931
5.9486574767861588254e+4931
</code></pre>
","<p>The issue you're having has nothing to do with your use of <code>setprecision</code> or streams.</p>

<p>An 80-bit double (<code>long double</code>) is not large enough to store the number you're trying to store with the precision you want. 80-bit doubles have a mantissa of 64 bits, meaning the precision of numbers it can represent is the same as a 64-bit integer, which itself is limited to 19 [decimal] digits of value. The value you're trying to store is (<code>5.9486_57476_78615_88251_0631</code>) 24 decimal digits of value, meaning it's simply too precise to be accurately represented by your program.</p>

<p>If you want to store this value in your program, you need to keep it in its string representation or find an arbitrary precision library for representing/manipulating these numbers. My recommendation is to use the <a href=""https://www.boost.org/doc/libs/1_69_0/libs/multiprecision/doc/html/index.html"" rel=""noreferrer"">boost.multiprecision</a> library, though it does depend on your organization/task permitting use of the C++ Boost Libraries.</p>
"
54740604,How to run telnet in qnx,https://stackoverflow.com/questions/54740604/how-to-run-telnet-in-qnx,1,1550465013,"telnet, qnx","<p>I am trying to transfer my console application written in ncurses under the terminal connected to the com port to the virtual terminal using telnetd.
When you try to start telnetd, you get: telnetd: getpeername: Socket operation on non-socket. When connected via putty, the connection crashes. netstat shows:
<a href=""https://i.sstatic.net/T2NWQ.png"" rel=""nofollow noreferrer"">netstat</a></p>
",
54535972,Compiling LAME for QNX,https://stackoverflow.com/questions/54535972/compiling-lame-for-qnx,1,1549374745,"cross-compiling, qnx, lame","<p>I'm trying to compile LAME to work on a QNX host. I've tried running the following commands.</p>

<pre><code>$ ./configure --host=i386-pc-qnx
$ make
</code></pre>

<p>As you can see, it produces a 64-bit ELF file which obviously won't work on 32-bit hardware. (I also tried running it just to make sure.)</p>

<pre><code>$ file lame
lame: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=, not stripped
</code></pre>

<p>This <a href=""http://lame.sourceforge.net/download.php"" rel=""nofollow noreferrer"">link</a> says LAME can be compiled for QNX, and I get no errors when I run the configure script, so I know <code>i386-pc-qnx</code> is a valid host name.</p>

<p>This is my first time cross-compiling a program, so it's quite possible I'm missing something obvious.</p>

<p>Thanks!</p>
","<p>I ended up just copying the output from make (basically just a bunch of gcc invocations) and putting it in a bash script. Then I used search and replace to modify the commands to use the QNX toolchain. It's pretty hacky but it works.</p>
"
54665257,How to detect screen resize events coming from ncurses in QNX?,https://stackoverflow.com/questions/54665257/how-to-detect-screen-resize-events-coming-from-ncurses-in-qnx,2,1550045222,"terminal, ncurses, uart, qnx","<p>I can not configure to receive events about changing the size of the terminal using ncurses QNX Momentics. 
I am using Putyy as a terminal and data is transmitted through the COM port.</p>

<p>My question is how to realize the reception of screen change events when using a remote terminal?</p>

<pre><code>FILE* fcons = fopen(""/dev/ser1"", ""r+"");
SCREEN* term = newterm(""xterm-r5"", fcons, fcons);
int y = 0, x = 0;
//if(y &lt; 24 || x &lt; 80)
//  resizeterm(24, 80);
flushinp();
main_scr = newwin(24, 80, 0, 0);
head_scr = subwin(main_scr, 3, 80, 0, 0);
prompt_scr = subwin(main_scr, 1, 9, 3, 2);
cursor_scr = newwin(1, 60, 3, 6);
output_scr = subwin(main_scr, 18, 76, 5, 2);
keypad(cursor_scr, TRUE);

int f = mousemask(ALL_MOUSE_EVENTS, NULL);

chtype temp_ch = 0;
while(KEY_RESIZE == temp_ch)
   temp_ch = wgetch(cursor_scr);
return 0;
</code></pre>
","<p>A plain serial-port connection like that won't send a <code>SIGWINCH</code>.  In other configurations, e.g., <code>telnet</code>, that's done as a result of <em>NAWS</em> (negotiations about window size--I dont't <a href=""https://stackoverflow.com/search?q=naws"">see a duplicate</a>).  Your application <em>could</em> poll for this by doing what the <a href=""https://invisible-island.net/xterm/manpage/resize.html"" rel=""nofollow noreferrer""><code>resize</code></a> program does, plus a little more, e.g.,</p>

<ul>
<li>save the cursor-position</li>
<li>move the cursor to a very-far-off lower-right corner</li>
<li>ask the terminal where the cursor really is</li>
<li>wait for the response, to get the actual screensize</li>
<li>set the terminal's screensize using a system call</li>
<li>restore the cursor position</li>
<li>send a <code>SIGWINCH</code> to yourself</li>
</ul>

<p>Unlike <code>resize</code>, that would be done inside your program, so it would have to save/restore the cursor position (to avoid confusing ncurses).  Keep in mind that ncurses has set the terminal to <em>raw mode</em>, so that part of the initialization would not be needed.</p>
"
54595858,QNX gdb server to debug a application,https://stackoverflow.com/questions/54595858/qnx-gdb-server-to-debug-a-application,1,1549640644,"gdb, qnx","<p>Nowdays I use qnx gdb server to debug a application, but there are some amazing things happend.</p>

<p>There are lots of files in my project, for examples </p>

<pre><code>src/a.c src/b.c src/c.c
include/a.h include/b.h include/c.h
</code></pre>

<p>using Makefile, I generate a libso file named <code>libtest.so</code> and a executable file name <code>helloworld</code>. </p>

<p>I scp the <code>libtest.so</code> and <code>helloworld</code> to target machine, and the path is <code>/home/user/myapp/</code> and set <code>PATH</code> well, and I can run <code>helloworld</code> in target machine</p>

<p>Attention there is a fun name <code>Display()</code> fun in the <code>libtest.so</code>, and there is a fuction named <code>myfun()</code> in the i<code>nclude/c.h</code>(at line 5), and <code>myfun</code> will call <code>Dislpay()</code> function:</p>

<pre><code>myfun(){Display();}
</code></pre>

<p>When I use qnx gdb server , the step is as follows:</p>

<pre><code>  1. ntoaarch64-gdb
  2. file helloworld
  3. target qnx IP:PORT
  4. upload helloworld /home/user/helloworld
  5. b c.h:5 
  6. r
</code></pre>

<p>It call stop at breakpoint <code>myfun()</code>, but when I run <code>step</code> or <code>stepi</code> command,
it can not step into <code>Display()</code> function, and I run <code>disassemble</code>command,
it show <code>0x100cd5e0 &lt;Display@plt&gt;</code>, There is no disassembly content about <code>Display</code> function, I seemed be omitted!</p>

<p>There are any worng or missing step when I debug this application, who can help my, I have speed five days... Thank a lot</p>

<p>By the way, I think is a gdb server question instead of a qnx gdb server question.</p>
",
51500335,How to emulate GL_TEXTURE_EXTERNAL_OES texture?,https://stackoverflow.com/questions/51500335/how-to-emulate-gl-texture-external-oes-texture,11,1532440131,"opengl-es, textures, opengl-es-2.0, yuv, qnx","<p>I have a OpenGL ES 2.0 QNX application that uses camera input, makes some processing and renders something to screen.</p>

<p>All my shaders take GL_TEXTURE_EXTERNAL_OES texture from the camera as input and it's format is YUV422.</p>

<p>I want to test my application on the target platform (QNX) using RGB images in png format.</p>

<p>The question is: how can I create GL_TEXTURE_EXTERNAL_OES texture from RGB image to emulate the input from the camera for my application?</p>
","<p>Answering own question.</p>

<p>Steps to create GL_TEXTURE_EXTERNAL_OES texture from RGB buffer on QNX.</p>

<p>1.Converting RGB to YUV422 format on CPU</p>

<p>2.Creating pixmap buffer using <a href=""http://www.qnx.com/developers/docs/7.0.0/#com.qnx.doc.screen/topic/manual/cscreen_pixmaps.html"" rel=""nofollow noreferrer"">screen</a></p>

<pre><code>EGLNativePixmapType pObjEglPixmap = ...
</code></pre>

<p>3.Binding pixmap to GL_TEXTURE_EXTERNAL_OES texture using EGLImageKHR object</p>

<pre><code>EGLImageKHR pObjTextureEglImage = eglCreateImageKHR(eglDisplay,
                                                    EGL_NO_CONTEXT,
                                                    EGL_NATIVE_PIXMAP_KHR,
                                                    pObjEglPixmap,
                                                    NULL);

GLuint pObjTextureId;
glGenTextures(1, &amp;pObjTextureId);

glBindTexture(GL_TEXTURE_EXTERNAL_OES, pObjTextureId);

glTexParameteri(GL_TEXTURE_EXTERNAL_OES, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
glTexParameteri(GL_TEXTURE_EXTERNAL_OES, GL_TEXTURE_MAG_FILTER, GL_LINEAR);

glEGLImageTargetTexture2DOES(GL_TEXTURE_EXTERNAL_OES, 
                             (GLeglImageOES)pObjTextureEglImage);
</code></pre>
"
54086618,QNX - core dump not getting generated on crash,https://stackoverflow.com/questions/54086618/qnx-core-dump-not-getting-generated-on-crash,1,1546930445,"c++, coredump, qnx","<p>My multithreaded application is crashing randomly and a core dump is not getting generated which is making my analysis very very difficult. I have the <strong>ulimit</strong> set to <strong>unlimited</strong> and I have the <strong>dumper</strong> running. I see a signal 11 generated on crash which should have ideally generated a coredump.</p>

<p>I have had coredumps generated before for prior issues on the same system.<br>
Note:<br>
- directory has appropriate permissions.<br>
- exe has the required permissions.    </p>

<p>OS used - QNX<br>
 Any suggestions are welcome.</p>
",
54004239,QNX pthread_mutex_lock causing deadlock error ( 45 = EDEADLK ),https://stackoverflow.com/questions/54004239/qnx-pthread-mutex-lock-causing-deadlock-error-45-edeadlk,0,1546422877,"c++, queue, mutex, deadlock, qnx","<p>I am implementing an asynchronous log writing mechanism for my project's multithreaded application. Below is the partial code of the part  where the error occurs.</p>

<pre><code>void CTraceFileWriterThread::run() 
{
    bool fShoudIRun = shouldThreadsRun();  //  Some global function which decided if operations need to stop. Not really relevant here. Assume ""true"" value.

    while(fShoudIRun)
    {
      std::string nextMessage = fetchNext();
      if( !nextMessage.empty() )
      {
          process(nextMessage);
      }
      else
      {
          fShoudIRun = shouldThreadsRun();
          condVarTraceWriter.wait();
      }
    }
 }

//This is the consumer. This is in my thread with lower priority
std::string CTraceFileWriterThread::fetchNext() 
{
    // When there are a lot of logs, I mean A LOT, I believe the 
    // control stays in this function for a long time and an other 
    // thread calling the ""add"" function is not able to acquire the lock
    // since its held here.

    std::string message;

    if( !writeQueue.empty() )
    {
      writeQueueMutex.lock();        // Obj of our wrapper around pthread_mutex_lock 
      message = writeQueue.front();  
      writeQueue.pop();              // std::queue
      writeQueueMutex.unLock() ;
    }
    return message;
}




//  This is the producer and is called from multiple threads.
void CTraceFileWriterThread::add( std::string outputString ) {

if ( !outputString.empty() )
{
    // crashes here while trying to acquire the lock when there are lots of
    // logs in prod systems.

    writeQueueMutex.lock();
    const size_t writeQueueSize = writeQueue.size();

    if ( writeQueueSize == maximumWriteQueueCapacity )
    {
        outputString.append (""\n queue full, discarding traces, traces are incomplete"" );
    }

    if ( writeQueueSize &lt;= maximumWriteQueueCapacity )
    {
        bool wasEmpty = writeQueue.empty();
        writeQueue.push(outputString);



        condVarTraceWriter.post(); // will be waiting in a function which calls ""fetchNext""

    }
    writeQueueMutex.unLock();

}


int wrapperMutex::lock() {
//#[ operation lock()

 int iRetval;
 int iRetry = 10;

 do
 {
    //
    iRetry--;
    tRfcErrno = pthread_mutex_lock (&amp;tMutex);
    if ( (tRfcErrno == EINTR) || (tRfcErrno == EAGAIN) )
    {
        iRetval = RFC_ERROR;    
        (void)sched_yield();
    }
    else if (tRfcErrno != EOK)
    {
        iRetval = RFC_ERROR;    
        iRetry = 0;
    }
    else
    {
        iRetval = RFC_OK;    
        iRetry = 0;
    }
 } while (iRetry &gt; 0);

 return iRetval;


//#]
</code></pre>

<p>}</p>

<p>I generated the core dump and analysed it with GDB and here are some findings</p>

<ol>
<li><p>Program terminated with signal 11, Segmentation fault.</p></li>
<li><p>""Errno=45"" at the add function where I am trying to acquire the lock. The wrapper we have around pthread_mutex_lock tries to acquire the lock for around 10 times before it gives up.</p></li>
</ol>

<p>The code works fine when there are fewer logs. Also, we do not have C++11 or further and hence restricted to mutex of QNX. Any help is appreciated as I am looking at this issue for over a month with little progress. Please ask if anymore info is required.</p>
",
24264656,Run QT app in QNX from non-root user,https://stackoverflow.com/questions/24264656/run-qt-app-in-qnx-from-non-root-user,1,1403010393,"qt, qnx","<p>I would like to run GUI application developed with QT 4.8.5 on QNX 6.5 x86 target from non root user. There is no problem to start app from root user. But then I try to run it from non root user I get this:</p>

<pre><code>    $ ./test_app -qws
    QQnxScreen: gf_dev_attach() failed with error code 3
    qnx: driver cannot connect
    Abort (core dumped)
</code></pre>

<p>In .profile of this user I have:</p>

<pre><code>    QWS_KEYBOARD=qnx
    QWS_MOUSE_PROTO=qnx
    QWS_DISPLAY=qnx
    export QWS_KEYBOARD QWS_MOUSE_PROTO QWS_DISPLAY
    export QT_PLUGIN_PATH=/opt/qt485/x86/plugins/
    export QML_IMPORT_PATH=/opt/qt485/x86/imports/
    export PATH=$PATH:/opt/qt485/bin/
    export LD_LIBRARY_PATH=/opt/qt485/x86/lib/:$LD_LIBRARY_PATH
</code></pre>

<p>Everything works flawlessly from root with the same setting.</p>
",
54036863,ldd: Library cannot be found,https://stackoverflow.com/questions/54036863/ldd-library-cannot-be-found,0,1546596767,"qt, qnx, ldd","<p>I am running ldd command on libqqnx.so on my target board. This list few certain dependent libraries and then throw error called ldd: Library cannot be found. If I do same on libcpp.so.4 of qnx then it does not show such errors.</p>

<p>My question is, the file libqqnx.so is corrupted or should it be listing some more dependent lib files?</p>

<p>output1:</p>

<pre><code># ldd /opt/qt/plugins/platforms/libqqnx.so:
libqqnx.so =&gt; /opt/qt/plugins/platforms/libqqnx.so (0x78000000)
libscreen.so.1 =&gt; /proc/boot/libscreen.so.1 (0x78040000)
libpps.so.1 =&gt; /opt/qt/lib/libpps.so.1 (0x78031000)
libm.so.2 =&gt; /proc/boot/libm.so.2 (0x78060000)
libfreetype.so.1 =&gt; /usr/lib/libfreetype.so.1 (0x78090000)
libQt5DBus.so.5 =&gt; /opt/qt/lib/libQt5DBus.so.5 (0x780e0000)
libQt5Gui.so.5 =&gt; /opt/qt/lib/libQt5Gui.so.5 (0x78200000)
libQt5Core.so.5 =&gt; /opt/qt/lib/libQt5Core.so.5 (0x78600000)
libGLESv2.so.1 =&gt; /usr/lib/graphics/iMX6X/libGLESv2.so.1 (0x78037000)
libEGL.so.1 =&gt; /proc/boot/libEGL.so.1 (0x78053000)
libcpp.so.5 =&gt; /opt/qt/lib/libcpp.so.5 (0x78140000)
libz.so.2 =&gt; /proc/boot/libz.so.2 (0x781a0000)
libslog2.so.1 =&gt; /proc/boot/libslog2.so.1 (0x78083000)
libicui18n.so.49 =&gt; /opt/qt/lib/libicui18n.so.49 (0x78a00000)
libicuuc.so.49 =&gt; /opt/qt/lib/libicuuc.so.49 (0x78b10000)
libicudata.so.49 =&gt; /opt/qt/lib/libicudata.so.49 (0x78c00000)
ldd: Library cannot be found

output2:    

# ldd /proc/boot/libcpp.so.4:
libcpp.so.4 =&gt; /proc/boot/libcpp.so.4 (0x78000000)

#
</code></pre>
",
54005536,Why std::istringstream generates wrong results without raising the failbit flag?,https://stackoverflow.com/questions/54005536/why-stdistringstream-generates-wrong-results-without-raising-the-failbit-flag,1,1546428605,"c++, string, stream, floating-point, qnx","<p>When I convert a <code>string</code> that contains <code>long double</code> to <code>float</code> or <code>double</code>, <code>std::istringstream</code> doesn't raise the failbit flag in <strong>QNX</strong>.</p>

<p>The following is a demonstration code:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;iomanip&gt;
#include &lt;limits&gt;

int main(){
    const long double originaldNumber = std::numeric_limits&lt;long double&gt;::max() / 2;
    float floatNumber;
    std::string numberString = std::to_string(originaldNumber);

    //From string to long double
    std::istringstream iss(numberString);
    iss &gt;&gt; floatNumber;

    if (iss.fail())
        std::cout&lt;&lt; ""iss failed \n"";

    std::cout&lt;&lt; std::setprecision(30) &lt;&lt; originaldNumber &lt;&lt; ""\n"";
    std::cout&lt;&lt; std::setprecision(30) &lt;&lt; floatNumber &lt;&lt; ""\n"";

    return 0;
}
</code></pre>

<p>The output in linux is:</p>

<pre><code> iss failed 
 5.94865747678615882510631926515e+4931
 3.40282346638528859811704183485e+38
</code></pre>

<p>The output in QNX is:</p>

<pre><code>5.94865747678615882510631e+4931
inf
</code></pre>

<p>QNX version: <code>7.0.3 2018/09/18-00:28:50EDT x86pc x86_64</code>.<br>
Toolchain: <code>gcc_ntox86_64</code></p>
",
53958494,C++ converting from string to long double loses precision in QNX,https://stackoverflow.com/questions/53958494/c-converting-from-string-to-long-double-loses-precision-in-qnx,-1,1545999440,"c++, floating-point, qnx, qnx-neutrino","<p>When converting strings to long double I lose precision in QNX. Do you know how to fix this problem?</p>

<p>I am using c++. I have tried double and float and there were no problems.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;limits&gt;
#include &lt;sstream&gt;

int main(){
    long double originalNumber = std::numeric_limits&lt;long double&gt;::max() / 2;
    long double convertedNumber;

    // From long double to string
    std::ostringstream ostr;
    ostr &lt;&lt; originalNumber;
    std::string tmp_str = ostr.str();

    //From string to long double
    std::istringstream istr(tmp_str);
    istr &gt;&gt; convertedNumber;

    // Check if they are similar
    if (originalNumber == convertedNumber)
        std::cout&lt;&lt; ""The same\n"";
    else
        std::cout&lt;&lt; ""Not the same\n"";

    return 0;
}
</code></pre>

<p>The result is always <code>Not the same</code></p>
",
35695651,How to fix floating point precision for QNX?,https://stackoverflow.com/questions/35695651/how-to-fix-floating-point-precision-for-qnx,-1,1456737199,"c++, linux, precision, qnx","<pre><code>static const double sKPrecision = 1.e+16;
std::sprintf(str, ""%1.15e"", round(val * sKPrecision) / sKPrecision);
</code></pre>

<p>Observation:</p>

<pre><code>val        str for Linux           str for QNX
-0.174533  -1.745329251994333e-01  -1.745329251994333e-01
1.06202    1.062015382745040e+00   1.062015382745040e+00
1.63244    1.632439935370810e+00   1.632439935370811e+00
</code></pre>

<p>As per the above table, for 1.63244 the ""str"" is different for QNX than Linux. 
I want this value to be same as that of Linux. I am not sure how to solve it for QNX platform.</p>
",
53781646,QNX 6.5.0 grab screen or window Qt C++,https://stackoverflow.com/questions/53781646/qnx-6-5-0-grab-screen-or-window-qt-c,1,1544797873,"c++, qt, qnx","<p>I need to grab the screen or window in QNX 6.5.0 - 8 times per second. If use standart low-level API function <strong>PgReadScreen()</strong>, for resolution screen 1920x1080 (24 bit) its very slooow... When create context PdCreateDirectContext(), the driver blocks all other painting. It freezes the screen for a few seconds.</p>

<p>I also looked at the regions, but as I understood, they do not contain graphic data of windows?</p>

<p>Used Qt 5.7.1 with reduced functionality. For example, the function <strong>grabWindow()</strong> not implemented.</p>

<p>Good idea: use the widget's <strong>render()</strong> function, but some objects... for example: list of comboBox is widget too. I have to follow and draw it too.</p>

<p>Any ideas?</p>
",
39940097,Unable to boot QNX 6.5.0 on Beaglebone black board,https://stackoverflow.com/questions/39940097/unable-to-boot-qnx-6-5-0-on-beaglebone-black-board,0,1475988175,"beagleboneblack, beagleboard, qnx, qnx-neutrino, qnx-ifs","<p>My Beaglebone Black work fine under the prebuilt image the <strong>images/prebuilt-bsp-ti-beaglebone.ifs</strong> comes with QNX <strong>bsp-nto650-ti-beaglebone-sp1-trunk-201209071340.zip</strong> which downloaded from foundry27. </p>

<p>When I copy my newly built image on SD card and try to boot on beaglebone black board it fails with below error. Actually I cut the following image form ""<a href=""http://www.openqnx.com/phpbbforum/viewtopic.php?f=11&amp;t=15755"" rel=""nofollow noreferrer"">http://www.openqnx.com/phpbbforum/viewtopic.php?f=11&amp;t=15755</a>"" which I compared the logs and comfirm they are absolutely same to mine.</p>

<p><img src=""https://i.sstatic.net/JuIkg.png"" alt=""logs""></p>

<p>I haven't tested the higher version 6.6.0 yet as it can't complie successfully under QNX Momentics 6.5.0.</p>

<p>Sincerely hope anyone to help me to understand what's going wrong here and how to solve this problem.</p>
","<p>I have found where this problem came from: the Beaglebone Black BSP must be complied under SDP 6.5.0 SP1, I had installed SDP 6.5.0 but not the SP1 yet. The size of the image complied under SDP 6.5.0 SP1 QDE is 8.4M same as the size of prebuilt one, as the size of unable-boot one is 7.*M. </p>

<p>I haven't test it because my Beaglebone Black was dead and I sent it to the original factory for repairing. I'll tell the real effect after I tested it.</p>
"
53041558,"How to run Google tests (C++ unit tests) in a QNX Virtual machine, using resharper?",https://stackoverflow.com/questions/53041558/how-to-run-google-tests-c-unit-tests-in-a-qnx-virtual-machine-using-resharp,2,1540802115,"c++, unit-testing, resharper, googletest, qnx","<p><strong>Currently how I run my unit tests:</strong></p>

<p>I have a visual studio project, which builds a C++ google test (unit test) executable.</p>

<p>I then copy this exe to my Virtual Machine with QNX and run it manually, to get the unit test results.</p>

<p><strong>Can I use resharper to automate this?</strong></p>

<p>Resharper is able to detect and list tests from test file. But on running them, it throws error as it is not able to execute the tests in Windows.</p>

<p>Below is the exact error, I get, on running any of the tests.</p>

<p><strong>ReSharper Ultimate ‚Äì Error while running unit tests: 
Invalid path</strong></p>

<p>Can I set up resharper and Visual studio environment, so that, I can run tests directly from visual studio, which will copy the exe to the Virtual Machine and give me the execution results?</p>

<p>This will avoid me manually copy pasting the exe and running command to execute the tests?</p>

<p>I searched a lot regarding this in google. But couldn't find much help.</p>

<p>I'm new to google test and resharper. So any help would be greatly appreciated.
Thanks in advance.</p>
",
53550891,Read a register in arm64 using C using the QNX compiler,https://stackoverflow.com/questions/53550891/read-a-register-in-arm64-using-c-using-the-qnx-compiler,0,1543549214,"c, assembly, arm64, qnx","<p>I want to read a register named x0 in arm64 (not x86_64) using C language. What's  the best way (bug free and portability?)</p>

<p>I search all the network, I just find some ways:</p>

<pre><code>register int *foo asm (""a5"");  //1
register int foo asm (""a5"");  //2 which right?
</code></pre>

<p>or </p>

<pre><code>intptr_t sp;
asm (""movl %%esp, %0"" : ""=r"" (sp) ); //3
</code></pre>

<p>The first way have some bugs I think. x0 in arm64 is 64bit. I think int *f can not hold the 64 bit addr.</p>

<p>The second way is for x86. It seem not work make it in this way:</p>

<pre><code>asm (""movl %x0, %0"" : ""=r"" (sp) );
</code></pre>

<p>So what's the correct way read a register in C </p>
",
53525307,QNX RTOS on BeagleBone Green,https://stackoverflow.com/questions/53525307/qnx-rtos-on-beaglebone-green,1,1543427354,"rtos, qnx","<p>Hi) As far as I know embedded linux bsp for BeagleBone Green is not real time and we need RTOS to implement our software, so we decided to use QNX. We have experiance with buildroot and poky. What are the ways to use RTOS QNX on BeagleBone Green? Thanks)</p>
","<p>You can use pre-emptive patches for the standart linux kernels or any other rt-kernels like RTAI / Xenomai.</p>

<p>If you want to use QNX with the beaglebone, firstly you should have QNX SDP(Software Development Platform). Then you need download Beaglebone BSP from the QNX page. I worked with Beaglebone white and Beaglebone black with QNX. In my opinion, beaglebone green could work with this BSP.</p>

<pre><code>https://community.qnx.com/sf/wiki/do/viewPage/projects.bsp/wiki/TiAm335Beaglebone 
</code></pre>

<p>Also there is one more point with QNX, if you want to use the graphics driver with Beaglebone, you should contact with the sales. It was like that 3 years ago may be for now, they publish the graphics drivers also.</p>
"
53441997,Crash in sqlite3 while do the sqlite3_prepare_v2,https://stackoverflow.com/questions/53441997/crash-in-sqlite3-while-do-the-sqlite3-prepare-v2,1,1542956457,"sqlite, qnx","<p>I'm getting following crash issue on QNX and it's hard to reproduce  and cannot reproduce on Window platform.</p>

<pre><code>    *Program terminated with signal SIGSEGV, Segmentation fault.
#0 0x79a7da20 in pcache1EnforceMaxPage () from libClient.so
[Current thread is 35 (pid 1601600 tid 35)]
(gdb) bt
#0 0x79a7da20 in pcache1EnforceMaxPage () from libClient.so
#1 0x79a7e2a0 in sqlite3PagerSetCachesize () from libClient.so
#2 0x79a7ee9c in sqlite3BtreeSetCacheSize () from libClient.so
#3 0x79ade4b0 in sqlite3InitOne () from libClient.so
#4 0x79ade80c in sqlite3Init () from libClient.so
#5 0x79adebb0 in sqlite3ReadSchema () from libClient.so
#6 0x79adf2a4 in sqlite3LocateTable () from libClient.so
#7 0x79adfa98 in selectExpander () from libClient.so
#8 0x79a8065c in sqlite3WalkSelect () from libClient.so
#9 0x79a8b5e0 in sqlite3SelectPrep () from libClient.so
#10 0x79ac6f84 in sqlite3Select () from libClient.so
#11 0x79ad8704 in sqlite3Parser () from libClient.so
#12 0x79adaa40 in sqlite3RunParser () from libClient.so
#13 0x79adc574 in sqlite3Prepare () from libClient.so
#14 0x79adc934 in sqlite3LockAndPrepare () from libClient.so
#15 0x79adcbcc in sqlite3_prepare_v2 () from libClient.so*
</code></pre>
",
44284244,QNX pidin command display only last 21 characters of thread name,https://stackoverflow.com/questions/44284244/qnx-pidin-command-display-only-last-21-characters-of-thread-name,0,1496232033,"multithreading, qnx","<p>In QNX, <code>pidin</code> command display only last 21 characters of thread names. Is there any way that I can print complete name of the threads?</p>

<p>For example, below command</p>

<pre><code>$ pidin threads | grep myapp 
</code></pre>

<p>output is:</p>

<pre><code>643167 ./myapp              rvice::WorkerThread1 SEM         d5458760
643167 ./myapp              rvice::WorkerThread2 SEM         d54589b8
</code></pre>

<p>Where as my threads complete names are <code>CMyService::WorkerThread1</code> and <code>CMyService::WorkerThread2</code></p>

<p>I am expecting output to be as below,</p>

<pre><code>643167 ./myapp              CMyService::WorkerThread1 SEM         d5458760
643167 ./myapp              CMyService::WorkerThread2 SEM         d54589b8
</code></pre>
",
23878590,Turn off Eigen Alignment in the PCL build,https://stackoverflow.com/questions/23878590/turn-off-eigen-alignment-in-the-pcl-build,1,1401144154,"c++, eigen, memory-alignment, point-cloud-library, qnx","<p>So I have an issue where Eigen Alignment causes serious issues with the operating system I use, QNX. Basically the OS cannot deal with the memory that way and causes very interesting seg faults. See my other question <a href=""https://stackoverflow.com/questions/14190767/identify-variable-causing-memory-error"">here</a>. </p>

<p>Any way, for this reason I wish to disable the Eigen Alignment used in PCL before I build it. 
I have a couple of ideas about how i might do this.</p>

<p><strong>EIGEN INCLUDE FILES IN PCL</strong></p>

<p>So PCL has the structure for most of its modules like this (this is an example of the features module):</p>

<pre><code>pcl/include/pcl/features/
</code></pre>

<p>and in this folder there exists a eigen.h file. This seems to be where the <code>eigen</code> libraries are included from. I could put the macro <code>#define EIGEN_DONT_ALIGN</code> in each of these. Of course this is many many files in PCL, as there are a lot of modules. One potential problem with this is that the modules then have things like <code>EIGEN_MAKE_ALIGNED_OPERATOR_NEW</code> in a bunch of their include files. Is this going to combat my efforts to turn it off? Also there are these standrard eigen includes but other files also include Eigen directly, what should i do about those? </p>

<p><strong>TURN OFF EIGEN ALIGNMENT IN EIGEN</strong></p>

<p>Is there a way to do this? I have had a quick search and it doesn't seem like there is a way to install the header only library with this turned off? </p>

<p><strong>OTHER IDEAS</strong></p>

<p>I would be happy to hear any other suggestions with how to deal with this? </p>
","<p>The answer by @Anycorn is outdated: starting from 3.3 (or 3.2 ?), this macro is deprecated, see <a href=""http://eigen.tuxfamily.org/bz/show_bug.cgi?id=1348"" rel=""nofollow noreferrer"">this bug report</a>, and <a href=""http://eigen.tuxfamily.org/dox/TopicPreprocessorDirectives.html"" rel=""nofollow noreferrer"">the current state</a> of the page describing the various macros.</p>

<p>You should now use <code>EIGEN_MAX_ALIGN_BYTES=0</code>.</p>
"
53037363,Program crashes trying to create ofstream or fopen,https://stackoverflow.com/questions/53037363/program-crashes-trying-to-create-ofstream-or-fopen,-2,1540773491,"c++, ofstream, qnx","<p>I don't have enough reputation points to comment to ask if they solved the problem originally stated <a href=""https://stackoverflow.com/questions/48010793/stdofstream-crash-on-construction-when-called-from-gc-thread"">here</a>. I have the same problem of the program crashing in construction of an ofstream. 
It is not multi-threaded access, but it can be called in quick succession. I believe it crashes on the 2nd time. I use scope to ensure the stream object is destroyed.
Why would this happen? </p>

<p>I tried std::fopen too. It also results in a crash.</p>

<p>Here is the code using the ofstream:</p>

<pre><code>static bool writeConfigFile (const char * filename, const Config &amp; cfg)
{
    logsPrintLine(_SLOG_SETCODE(_SLOGC_CONFIG, 0), _SLOG_INFO, ""Write config file (%s stream)"", filename);
    ofstream os(filename); // FIXME: Crashes here creating ofstream 2nd time
    if (os.good())
    {
        // Uses stream insertion operator to output attributes to stream 
        // in human readable form (about 2kb)
        outputConfig(cfg, os);
        if (!os.good())
        {
            logsPrintLine(_SLOG_SETCODE(_SLOGC_CONFIG, 0), _SLOG_NOTICE, ""Failed to write configuration file (%s)"", filename);
            return false;
        }
        logsPrintLine(_SLOG_SETCODE(_SLOGC_CONFIG, 0), _SLOG_INFO, ""Configuration written to file (%s)"", filename);
        return true;
    }
    logsPrintLine(_SLOG_SETCODE(_SLOGC_CONFIG, 0), _SLOG_NOTICE, ""Cannot write configuration file (%s)"", filename);
    return false;
}

/**
 * Called when configuration settings have been read/received and validated
 * @return true if successfully set, and written to file
 */
bool Config::set (SysConfigSource source, const struct SCADA_dsconfig * p)
{
    Lock lock(mtxSet); // This is locking a mutex on construction of the lock. Release it on destruction.
    // Setup the non-current one to switch to
    Config * pCfg = pConfig.other();
    unsigned i, f, n = 0;

    // set attributes in pCfg based on the config received
    // and some constants ...

    pCfg-&gt;setWritten(writeConfigFile(""test.conf"", *pCfg));

    if (!pCfg-&gt;isWritten())
    {
        // Don't set system config status here. Existing one still in use.
        logsPrintLine(_SLOG_SETCODE(_SLOGC_CONFIG, 0), _SLOG_NOTICE, ""Config file not written. Retain prior config."");
        return false;
    }
    pConfig.swap(); // switch-in the new config
    setSystemConfigSource(source);
    toSyslog(pCfg);
    notifyConfigChange();
    return true;
}
</code></pre>
","<p>It turned out to be a device driver bus master issue. Add ""ahci nobmstr"" when launching devb-ahci.</p>

<p>Derived via <a href=""http://www.qnx.com/developers/docs/qnxcar2/index.jsp?topic=%2Fcom.qnx.doc.neutrino.user_guide%2Ftopic%2Fhardware_Troubleshooting_devb-eide.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/qnxcar2/index.jsp?topic=%2Fcom.qnx.doc.neutrino.user_guide%2Ftopic%2Fhardware_Troubleshooting_devb-eide.html</a></p>
"
39769814,&lt;stddef.h&gt; std::ptrdiff_t&#39; has not been declared,https://stackoverflow.com/questions/39769814/stddef-h-stdptrdiff-t-has-not-been-declared,-1,1475150590,"c++, std, qnx, ptrdiff-t","<p>I have made my own source file, and I'm trying to add stddef.h. At compiling I have the following error: </p>

<blockquote>
  <p>std::ptrdiff_t' has not been declared.</p>
</blockquote>

<p>What I've done wrong?</p>
","<p>The problem is that you are including the standard <strong><em>C</em></strong> header, not the standard C++ header.</p>

<p>The standard C header will not put their symbols in the <code>std</code> namespace, since C doesn't have such things.</p>

<p>That you have other applications requiring the C header doesn't matter, if you want to use the <code>ptrdiff_t</code> type-alias from the C++ <code>std</code> namespace, you must include <code>&lt;cstddef&gt;</code>.</p>

<p>Or stop using <code>std::ptrdiff_t</code> and user the unqualified and global <code>ptrdiff_t</code> from <code>&lt;stddef.h&gt;</code>.</p>
"
53008400,How to ensure child and parent processes have different address space when using fork() in QNX,https://stackoverflow.com/questions/53008400/how-to-ensure-child-and-parent-processes-have-different-address-space-when-using,1,1540555640,"c, fork, qnx","<p>The question is particulary about QNX and pretty much stated in the title.
I tried logging the variable addresses after modifying them in both processes, assuming copy-on-write doesn't work anymore and they are not identical, so I expected the addresses to be different. But they are the same (virtual addresses, but still).</p>

<p>So how can I check that one process doesn't affect another without printing variables value, maybe there's a simpler solution?</p>

<pre><code>int q;
q = 3;
...
if (pid == 0) {
    // in child
    q = 5;
    printf(""%d\n"", &amp;q);
} else {
    // in parent
    q = 9;
    printf(""%d\n"", &amp;q);
}
</code></pre>
","<p>The virtual addresses you print will be identical ‚Äî the child process is an almost exact copy of its parent.  The physical addresses the programs access will be separate as soon as one process tries to modify the data in that page, but that will be completely hidden from the two processes.  That's the beauty of virtual memory.</p>

<p>Note that you're using the wrong format for printing addresses; you should use <code>%p</code> and cast the address to <code>void *</code>:</p>

<pre><code>printf(""%p\n"", (void *)&amp;q);
</code></pre>

<p>or use <code>&lt;inttypes.h&gt;</code> and <code>uintptr_t</code> and <code>PRIXPTR</code> (or <code>PRIdPTR</code> is you really want the address in decimal rather than hex):</p>

<pre><code>printf(""0x%"" PRIXPTR ""\n"", (uintptr_t)&amp;q);
</code></pre>

<p>Print the numbers too ‚Äî and do so several times in a loop with sleeps of some sort in them.  You will see that despite the same logical (virtual) address, the physical addresses are different.  You won't be able to find the physical address easily, though.</p>
"
47422543,Ideal development host operating system for QNX development,https://stackoverflow.com/questions/47422543/ideal-development-host-operating-system-for-qnx-development,0,1511297698,qnx,"<p>What is the ideal development host operating system for QNX development?   I have read a comment that, in order of preference, it's Linux, macOS, Windows.   As for developing on a MacBook Pro, one comment I've read is that because comparatively fewer people use macOS for QNX development the tools tend to be buggy and are behind in patches compared to tools for Linux or Windows.</p>
","<p>I think that this operating system is Windows because it is the most widespread OS and Qnx Momentics works very well but you can use Momentics also under Linux or MacOS. I have been using Windows version of Qnx Momentics and don't have any problems. But one suggestion. <strong>Don't use self-hosted version of Qnx Momentics</strong> (Qnx Momentics installed on the target). It works very slowly. </p>
"
52611653,"In QNX, how to manage IPC connections between server and client?",https://stackoverflow.com/questions/52611653/in-qnx-how-to-manage-ipc-connections-between-server-and-client,0,1538494294,"c++, c, ipc, qnx, qnx-neutrino","<p>Originally I titled the question as ""In QNX, what is the difference between _PULSE_CODE_DISCONNECT and _PULSE_CODE_COIDDEATH?"".  However, I think my question is a little broader than that. </p>

<p>I have implemented an IPC server using the QNX Neutrino OS 6.6.0.  Essentially I have a server that is queried for configuration information like settings and stuff.  It also accepts changes to settings.  It allows for clients to subscribe to it.  This means that once subscribed, if a change happens to a setting, the server will notify those other clients.  </p>

<p>So far so good.  This stuff up to this point makes sense to me.  What is not clear to me is the appropriate way to handle a client disconnecting or a process dying.  </p>

<p>Right now, I'm receiving a _PULSE_CODE_DISCONNECT on my server.  What exactly does that mean?  I'm not receiving a _PULSE_CODE_COIDDEATH, which is what I was expecting.  </p>

<p>I think in particular I'm a little confused on what a coid vs a scoid is in QNX.</p>
",
52936950,Define custom symbol for custom build configurations in QNX Momentics,https://stackoverflow.com/questions/52936950/define-custom-symbol-for-custom-build-configurations-in-qnx-momentics,0,1540238470,"c++, preprocessor, qnx, momentics","<p>Let's make an example in Eclipse: I have two different source files for a Startup with a main-function, but depending on which build configuration I use, either one of them is used, or the other one.</p>

<p>I do this, by defining a custom symbol with the ""-d"" option in one of the build configurations, and leaving it out in the other one.</p>

<pre><code>#ifdef CUSTOMSYMBOL
...
</code></pre>

<p>Specifically, under Eclipse, I can edit these settings under Project -> Properties -> C/C++ Build -> Settings -> Cygwin C++ Compiler -> Prepocessor
<a href=""https://i.sstatic.net/YUmeV.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/YUmeV.png"" alt=""imgdesc""></a>
(I am using Cygwin under Windows for my C++ projects)</p>

<p>This works. Depending on which build configuration I use, only one of the two source files will be built by the compiler and the other one will be ignored.</p>

<p>However, this setting is specific to Cygwin.</p>

<p>I can't figure out, how to do it in QNX Momentics, since I do not have those options under the qcc Compiler.</p>

<p><a href=""https://i.sstatic.net/GeXbJ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/GeXbJ.png"" alt=""enter image description here""></a></p>
",
52628162,Using traceroute in an if statement in a bash script,https://stackoverflow.com/questions/52628162/using-traceroute-in-an-if-statement-in-a-bash-script,0,1538573371,"linux, network-programming, ip-address, qnx, traceroute","<p>I'm trying to execute code based on whether or not traceroute gets a response from a specific IP address. So:</p>

<pre><code>if traceroute 123.456.78.9
then
   option 1
else
   option 2
</code></pre>

<p>My issue is that whether I get a response from the IP address or not, option 1 is always executed.</p>

<p>I've tried this using 'ping' instead of traceroute and it works, but I don't have the option of using ping in the final code.</p>

<p><strong>More Details:</strong></p>

<ol>
<li>Running on QNX OS</li>
<li>Success is constituted by a response from the host and failure is constituted by no response from the host</li>
<li><p>Success output:</p>

<pre><code>traceroute to 123.456.78.9 (123.456.78.9), 1 hops max, 40 byte packets
 1  123.456.78.9 (123.456.78.9)  0.000 ms  1.000 ms  0.000 ms
</code></pre></li>
<li><p>Failure output:</p>

<pre><code>traceroute to 123.456.78.90 (123.456.78.90), 1 hops max, 40 byte packets
 1  *
</code></pre></li>
</ol>
",
52595808,How to find space occupied by a struct field and the padding between it and the next field?,https://stackoverflow.com/questions/52595808/how-to-find-space-occupied-by-a-struct-field-and-the-padding-between-it-and-the,1,1538413947,"c++, c++11, sizeof, qnx, offsetof","<p>So if I have a struct like so:</p>

<pre><code>//fwd decl
class Payload_t;

//msg class for ipc
struct Msg
{
    uint16_t  Hdr;
    Payload_t Payload; //whatever type I want here
}; 
</code></pre>

<p>I want to get the size of Msg::Hdr including any padding prior to the next field Msg::Payload.  </p>

<p>I want this because I am working in an embedded system that using the QNX Neutrino OS.  The OS is a microkernel message passing OS.  A common technique is to design all messages with a short header that contains special information that users of my library code do not need to be aware of, and a payload (the part the users care about).  The QNX IOV facility allows a great performance improvement in cases like this by cutting down on copying.  Their API works like this:</p>

<pre><code>Msg msg;
iov_t iovReq[2];

//the below causes problems because it doesn't include alignment padding
SETIOV( iovReq + 0, &amp;msg.Hdr,     sizeof( msg.Hdr     ) ); 
SETIOV( iovReq + 1, &amp;msg.Payload, sizeof( msg.Payload ) );
</code></pre>

<p>However, I found that:</p>

<pre><code>sizeof( Msg::Hdr ) + sizeof( Msg::Payload ) != sizeof( Msg )
</code></pre>

<p>How do I do this?  I've seen some tricky stuff but not sure of the most proper way to do this.  I suspect the answer will involve some combination of: sizeof, alignof, or the macro offsetof.</p>

<p>QNX Multipart Messages with IOV
<a href=""http://www.qnx.com/developers/docs/6.6.0.update/#com.qnx.doc.neutrino.getting_started/topic/s1_msg_Multipart_messages.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/6.6.0.update/#com.qnx.doc.neutrino.getting_started/topic/s1_msg_Multipart_messages.html</a></p>
","<p>To me, that sounds like a simple:</p>

<pre><code>std::size_t const FirstAndPadding = offsetof(A, Second) - offsetof(A, First);
</code></pre>

<p>Why you'd want that, is another question.</p>
"
21456587,"Integrating ctags in vim 7.4 in windows 7, Also QNX Momentics on it",https://stackoverflow.com/questions/21456587/integrating-ctags-in-vim-7-4-in-windows-7-also-qnx-momentics-on-it,0,1391084953,"vim, ctags, qnx, exuberant-ctags","<p>I have installed vim 7.4 in a windows 7 machine. The ctags that comes with it seems to be broken. When I do :!ctags -R . from within vim I get :</p>

<pre><code>C:\WINDOWS\system32\cmd.exe /c (ctags -R .)
Input file specified two times.

ctags: cannot sort tag file : No such file or directory
shell returned 1
Hit any key to close this window...
</code></pre>

<p>In this case ctags creates a tags file that is empty. I then installed ctags from sourceforge And it works.</p>

<p>But I could not find how I should tell vim to use the ctags I just doenloaded.</p>

<p>ctags installed in vim is 5.2.3</p>

<p>ctags from sourceforge is 5.8</p>

<p>I tried:</p>

<p><a href=""http://vimdoc.sourceforge.net/htmldoc/pi_netrw.html#g%3anetrw_ctags"" rel=""nofollow"">enter link description here</a></p>

<pre><code>let g:netrw_ctags = ""C:/Users/aslavcd/Program Files/ctags58/ctags.exe""
</code></pre>

<p>To wherever ctags is. But it doesn't change it.</p>

<p>Problem Resolved. I had an older version of ctags installed by another program and added to Path.</p>
","<p>OK. Silly answer. I had an older version installed by QNX Momentics and, of course, added to path.</p>

<p>Further information:
QNX 6.5.0 puts its unix executables (like ls, mkdir, etc.) in the path, which is aproblem because I then ended up with two ctags executables in the path. In QNX 6.6.0. and later the instalation doesn't put the QNX executables in the path directly but uses a .bat file that is has to be executed in order to have them (like when you need compilation).</p>
"
46183442,How to integrate tensorflow into QNX operating system,https://stackoverflow.com/questions/46183442/how-to-integrate-tensorflow-into-qnx-operating-system,1,1505241943,"tensorflow, qnx","<p>I want to use the tensorflow in a QNX operating system? The very first step is to integrate the tensorflow into QNX. Any suggestions?</p>
",
50529746,Make -j (multiple jobs) with number specified doesn&#39;t work in QNX,https://stackoverflow.com/questions/50529746/make-j-multiple-jobs-with-number-specified-doesnt-work-in-qnx,3,1527252914,"makefile, gnu-make, qnx","<p>From various sources (<a href=""https://stackoverflow.com/questions/414714/compiling-with-g-using-multiple-cores?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa"">like this</a>) state that you can parallelise your build jobs with:</p>

<pre><code>make -j n
</code></pre>

<p>where <code>n</code> is the number of jobs. In QNX 6.5.0 with GNU Make 3.81
I noticed that the number doesnt seem to work. If i call <code>make -j</code> (no number) a huge number of compilers will be started and the processors will be used fully:</p>

<pre><code>CPU states: 80.5% user, 5.0% kernel
CPU  0 Idle: 15.2%
CPU  1 Idle: 13.2%
CPU  2 Idle: 14.7%
Memory: 0 total, 281M avail, page size 4K

      PID   TID PRI STATE    HH:MM:SS    CPU  COMMAND
     8200     2  21 Rcv       0:00:17  12.02% devb-eide
 43565087     1  10 Rdy       0:00:00  11.38% make
 43819103     1  10 Rply      0:00:00   3.01% cmake
 43716678     1  10 Rply      0:00:00   2.80% cmake
 43671611     1  10 Rply      0:00:00   1.87% make
 43589671     1  10 Rply      0:00:00   1.73% make
 43569184     1  10 Rply      0:00:00   1.73% make
 43573283     1  10 Rply      0:00:00   1.46% make
 43667514     1  10 Rply      0:00:00   1.28% make
 43839590     1  10 Send      0:00:00   1.10% cmake
</code></pre>

<p>Unfortunately when i use <code>make -j</code> having the huge number of concurrent builds means that my limited VM quickly runs out of memory.</p>

<p>But if I add a number (eg. <code>make -j 4</code>, which corresponds to the number of cores in my VM) then it will only ever start 1 process. This also occurs with the following variants:</p>

<pre><code>make -j4
make -j 4
make --jobs=4
make --jobs 4
</code></pre>

<p>As well as with some other processor numbers (2, 3, 4, 5, 6, 7, 8).</p>

<p><strong>Why doesnt <code>make -j</code> with a specified number work in QNX?</strong></p>
","<p>The <code>make</code> version used in the system must have been compiled using a configure item that disabled the <code>-j</code> task engine. Recompiling GNU Make 3.81 and 4.2 yielded a binary that can successfully use the <code>-j</code> switch with a number.</p>
"
51492709,How to execute binaries on QNX SPD 7.0 target,https://stackoverflow.com/questions/51492709/how-to-execute-binaries-on-qnx-spd-7-0-target,1,1532416761,"executable, qnx","<p>I'm able to execute a ""Hello World"" code on Momentics IDE on a Windows Development host by networking it with the QNX target using QConn(IP) on VMWare hypervisor.</p>

<p>I want to execute the binaries on QNX directly. How can that be done?</p>

<p><a href=""https://i.sstatic.net/bX7ti.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/bX7ti.png"" alt=""QNX Momentics IDE""></a></p>
",
31286313,How to boot QNX on x86 system from USB drive?,https://stackoverflow.com/questions/31286313/how-to-boot-qnx-on-x86-system-from-usb-drive,2,1436340973,"x86, operating-system, qnx, usb-flash-drive","<p>I downloaded and built the (generic) QNX BSP and copied it on a flash drive. The target is a x86 system. The problem now is that the bios does not recognise the flash drive / bsp and therefore cannot boot the OS. Is there some trick I forgot? Please ask further questions if you need more information! Thanks</p>
",
39160089,QNX mirrored from an IDE drive to a SATA drive issues,https://stackoverflow.com/questions/39160089/qnx-mirrored-from-an-ide-drive-to-a-sata-drive-issues,0,1472194477,"ide, qnx, sata","<p><br/>
Sorry in advance for this very long question.<br/>
I'm trying to upgrade a number of legacy PC's that are running QNX for control and monitoring purposes onto new PC's.<br/>
The old PC's are very old and installed on IDE drives.<br/>
I have successfully managed to mirror the old drive onto a SATA drive and successfully get it running on an old PC (no where near as old as the originals), that has both IDE and SATA connectors.<br/>
One thing worth noting here is that that during the QNX boot up it verifies what drives are connected. In this case it detects the SATA drive as an IDE drive, after not detecting it as a SATA drive. (QNX firsts checks for SATA, then IDE and USB).<br/>
When I try to connect the same new hard drive to a newer PC that doesn't have IDE the issues start. In this case, although QNX starts installing off the SATA drive if fails to detect it during its boot process and effectively stalls with nowhere to go.<br/>
From discussions and research I found out that I could possibly get a PC that has a BIOS where you can change the SATA setting to act as IDE. So I purchased a new PC that could do that (getting quite rare). Unfortunately it failed again, this time differently. When the QNX boot got to the point where it tries to verify the presence of a hard drive, instead of zipping past the SATA, IDE and USB options, finding nothing, it locked up on the IDE check, just leaving what should have been a rotating /-- in the initial / position, requiring a reboot of the PC, where it just continued to do the same thing.<br/>
So now for the hypothesis and questions.<br/>
I'm not really sure why QNX is having issues with the new drive; does QNX not verify the SATA drive due to some residual IDE information from the original drive it was mirrored from, confusing it, and why does QNX detect it as an IDE drive when it is SATA?<br/>
Where from here? Any ideas would be greatly appreciated as this has been going for a while.<br/>
One thought is along the lines of the possible residual IDE info on the SATA drive and if there is a way to overwrite that so the drive is recognised as SATA? I couldn't find anything on Google about that, which makes me thing residual IDE info may be a bit far fetched :). <br/>
Thanks for reading and hope you can help.<br/>
Cheers,<br/>
Markus</p>
",
23564571,ifconfig in QNX gives inet:0.0.0.0?,https://stackoverflow.com/questions/23564571/ifconfig-in-qnx-gives-inet0-0-0-0,1,1399638135,"ethernet, qnetworkaccessmanager, qnx, qnx-neutrino","<p>I have been trying to setup Ethernet connection between Ubuntu Host and QNX target. I have booted up the board and able to run shell commands using <strong>Minicom</strong>. When I give ifconfig it displays inet as 0.0.0.0.</p>

<p>Required clarification:</p>

<p>I could manually setup my ip address using ifconfig en0 . Is this the way we have to set IP address in QNX?
(or) </p>

<p>QNX automatically detects host IP address, once ethernet connection is established.</p>

<p>FYI
Host: Ubuntu 12.04
Target: QNX Neutrino SDP 6.6
Board: iMx6sabre AI/ARD board</p>
",
50322303,C Signal not received from timer,https://stackoverflow.com/questions/50322303/c-signal-not-received-from-timer,0,1526263672,"c, timer, signals, qnx","<p>I have 2 timers to deliver different signals to the same application. One signal is received, but the other is not. If I manually send it the missing signal, it is received and handled.</p>

<p>There's other questions relating to missing signals, but the answers agree with my code. This leaves me thinking it's a timer issue... but that means one is not working, even though setup the same way that one works. How can this be?</p>

<p>Operating system is QNX 6.6 (Posix 1003.1)</p>

<p>For the code below, the system log output contains only ""Logger received USR2 signal"".</p>

<pre><code>static void setSignalHandler ()
{
    sigset_t setBlk;
    sigemptyset(&amp;setBlk);
    // mask SIGUSR1 and SIGUSR2 on entering signal handler
    sigaddset(&amp;setBlk, SIGUSR1);
    sigaddset(&amp;setBlk, SIGUSR2);
    struct sigaction act;
    act.sa_handler = signalHandler;
    act.sa_mask = setBlk;
    act.sa_flags = 0;

    setSignalAction(SIGHUP, &amp;act); // Hangup
    setSignalAction(SIGINT, &amp;act); // Interrupt
    setSignalAction(SIGQUIT, &amp;act); // Quit
    setSignalAction(SIGABRT, &amp;act); // Abort
    setSignalAction(SIGUSR1, &amp;act); // User signal 1
    setSignalAction(SIGUSR2, &amp;act); // User signal 2
    setSignalAction(SIGTSTP, &amp;act); // Stopped (user)
}

static void setSignalAction (int sig, const struct sigaction * act)
{
    if (sigaction(sig, act, NULL) == -1)
    {
        // error
        perror(""Set signal action"");
    }
}

static void signalHandler (int sig)
{
    switch (sig)
    {
    case SIGUSR1:
        slogf(_SLOG_SETCODE(_SLOGC_LOGGER, 0), _SLOG_NOTICE, ""Logger received USR1 signal"");
        ...
        return;

    case SIGUSR2:
        slogf(_SLOG_SETCODE(_SLOGC_LOGGER, 0), _SLOG_NOTICE, ""Logger received USR2 signal"");
        ...
        return;

    default:
        slogf(_SLOG_SETCODE(_SLOGC_LOGGER, 0), _SLOG_NOTICE, ""Logger received signal %d"", sig);
        break;
    }
}
</code></pre>

<p>Here is the timer setup code. If I comment out the one for SIGUSR2, still SIGUSR1 is not seen. </p>

<pre><code>static void setupTimer ()
{
struct sigevent ev;
ev.sigev_notify = SIGEV_SIGNAL;
ev.sigev_signo = SIGUSR2;
ev.sigev_priority = getprio(0);
if (timer_create(CLOCK_MONOTONIC, &amp;ev, &amp;timerTS) == -1)
{
    perror(""Failed to setup timer"");
    slogf(_SLOG_SETCODE(_SLOGC_LOGGER, 0), _SLOG_ERROR, ""Logger failed to setup timestamp timer."");
}

struct sigevent ev2;
ev2.sigev_notify = SIGEV_SIGNAL;
ev2.sigev_signo = SIGUSR1;
ev2.sigev_priority = getprio(0);
if (timer_create(CLOCK_MONOTONIC, &amp;ev2, &amp;timer2) == -1)
{
    perror(""Failed to setup timer"");
    slogf(_SLOG_SETCODE(_SLOGC_LOGGER, 0), _SLOG_ERROR, ""Logger failed to setup timer 2."");
}
}

static void startTimer ()
{
struct itimerspec ts;
ts.it_value.tv_sec = timestampInterval; // this is usually 60
ts.it_value.tv_nsec = 0;
ts.it_interval.tv_sec = timestampInterval;
ts.it_interval.tv_nsec = 0;
if (timer_settime(timerTS, 0, &amp;ts, NULL) == -1)
{
    perror(""Failed to start timestamp timer"");
    slogf(_SLOG_SETCODE(_SLOGC_LOGGER, 0), _SLOG_ERROR, ""Logger failed to start timestamp timer."");
}

ts.it_value.tv_sec = 0;
ts.it_value.tv_nsec = 0;
ts.it_interval.tv_sec = TIMER2_INTERVAL_SEC; // this is 60
ts.it_interval.tv_nsec = 0;
if (timer_settime(timer2, 0, &amp;ts, NULL) == -1)
{
    perror(""Failed to start timer2"");
    slogf(_SLOG_SETCODE(_SLOGC_LOGGER, 0), _SLOG_ERROR, ""Logger failed to start timer2."");
}
}
</code></pre>
","<p>Seems probable that the issue is with timer_settime setting for the second timer. Try setting ts.it_value to something nonzero before timer_settime for timer2? It looks like you're setting up the timer to be disabled.</p>
"
50017100,QNX 6.6 to QNX 7.0 Neutrino difference,https://stackoverflow.com/questions/50017100/qnx-6-6-to-qnx-7-0-neutrino-difference,0,1524643693,"migration, qnx, qnx-neutrino, blackberry-qnx","<p>As title says, I would like to the Kernel difference between QNX6.6 Neutrino to QNX7.0 Neutrino. I meant the APIs related to OS specific. I want to migrate a platform from QNX6.6 to QNX7.0, so would like to know, is there any difference between QNX6.6 and QNX7.0 irrespective of the platform we use.</p>

<p>Please any quick clarification would be of any help.</p>
",
49366541,Can aws-sdk-cpp be built for QNX?,https://stackoverflow.com/questions/49366541/can-aws-sdk-cpp-be-built-for-qnx,0,1521473044,"qnx, aws-sdk-cpp","<p>The goal is to upload to Amazon S3 from QNX software.</p>

<p>Is it possible to target QNX as the build for the aws-sdk-cpp? </p>

<p>Initial attempts seem to default to Windows.</p>
",
49280235,How to change remote terminal on QNX,https://stackoverflow.com/questions/49280235/how-to-change-remote-terminal-on-qnx,1,1521037516,"openssh, tty, qnx","<p>How can I change tty when I'm connecting to QNX 6.3.2 through openSSH ?
Screen isn't available.</p>
",
47827701,Keytype invalid or not supported here&quot; while doing encrypted communication via UFTP,https://stackoverflow.com/questions/47827701/keytype-invalid-or-not-supported-here-while-doing-encrypted-communication-via-u,0,1513323085,"windows, udp, file-transfer, qnx, reliable-multicast","<p>I am running uftp on windows and uftpd on qnx Rtos.
When I am sending unencrypted data its woking fine for me . I am using below commands to send unencrypted data.</p>

<pre><code> UFTP: uftp -Y none -h sha1 -r 0.5:0.5:0.5 -t 20 -s 10 -M 230.4.4.1 -P 
 230.5.5.1 -p 32322 D:\FTPServer\automationbuild\options-350-19-
 01B_7830_7835none.dat

UFTPD: ""/usr/bin/uftpd"", ""uftpd"", ""-M"",
(const char )m_puftpfiletransferparams-&gt;m_MulticastIp, ""-p"",
(const char )m_puftpfiletransferparams-&gt;m_iPort, ""-D"",
""/ram/tmp"",NULL
</code></pre>

<p>Its working fine and I am getting logs    </p>

<pre><code>UFTP version 4.9.4 Copyright (C) 2001-2017 Dennis A. Bush
Starting at Sat Dec 9 21:20:57 2017
Transfer rate: 1000 Kbps (125 KB/s)
Wait between packets: 10562 us
Using private multicast address 230.5.5.1 Group ID: 112029B8
Initializing group
Sending ANNOUNCE 1
Sending ANNOUNCE 2
Received REGISTER from client 0x0A026CE3
Sending REG_CONF 3.1
Sending ANNOUNCE 3
Sending ANNOUNCE 4
Sending ANNOUNCE 5
Sending ANNOUNCE 6
Sending ANNOUNCE 7
Sending ANNOUNCE 8
Sending ANNOUNCE 9
Sending ANNOUNCE 10
----- options-350-20-01A_6626_7808_7809.dat -----
File ID: 0001 Name: options-350-19-01B_7830_7835none.dat
sending as: options-350-19-01B_7830_7835none.dat
Bytes: 6096 Blocks: 5 Sec         
</code></pre>

<p>When I tried sending the encrypted data I faced Issue . I am using commands</p>

<pre><code> UFTP: uftp -Y des -h sha1 -r 0.5:0.5:0.5 -t 20 -s 10 -M 230.4.4.1 -P 
 230.5.5.1 -p 32322 D:\FTPServer\automationbuild\options-350-19-
 01B_7830_7835none.dat

 UFTPD: ""/usr/bin/uftpd"", ""uftpd"", ""-M"",
 (const char )m_puftpfiletransferparams-&gt;m_MulticastIp, ""-p"",
 (const char )m_puftpfiletransferparams-&gt;m_iPort, ""-D"",
 ""/ram/tmp"",NULL
</code></pre>

<p>I am getting error logs saying keytype Invalid</p>

<pre><code>UFTP version 4.9.4 Copyright (C) 2001-2017 Dennis A. Bush
Starting at Sat Dec 9 21:20:05 2017
Loaded 512 bit RSA key with fingerprint 
BA:2A:C2:1A:3B:1A:2A:59:A3:D1:14:3A:7A:92:79:93:6D:D8:BD:28
Transfer rate: 1000 Kbps (125 KB/s)
Wait between packets: 11031 us
Using private multicast address 230.5.5.1 Group ID: 6EE9BB50
Initializing group
Sending ANNOUNCE 1
Sending ANNOUNCE 2
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 3
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 4
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 5
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 6
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 7
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 8
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 9
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Sending ANNOUNCE 10
Transfer aborted by 0A026CE3: Keytype invalid or not supported here
Announce timed out
uftp: Finishing at Sat Dec 9 21:20:20 2017
</code></pre>

<p>There are similar errors on the receiving side:</p>

<pre><code>UFTP version 4.7 Copyright (C) 2001-2015 Dennis A. Bush
2013/04/20 05:48:33.175124: tos / traffic class byte = 00
2013/04/20 05:48:33.266040: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:34.671744: tos / traffic class byte = 00
2013/04/20 05:48:34.687729: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:36.169363: tos / traffic class byte = 00
2013/04/20 05:48:36.184350: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:37.668981: tos / traffic class byte = 00
2013/04/20 05:48:37.685965: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:39.163603: tos / traffic class byte = 00
2013/04/20 05:48:39.178589: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:40.661223: tos / traffic class byte = 00
2013/04/20 05:48:40.676209: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:42.157843: tos / traffic class byte = 00
2013/04/20 05:48:42.172829: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:43.655462: tos / traffic class byte = 00
2013/04/20 05:48:43.669450: [1C17429A/00:0]: Keytype invalid or not supported here
2013/04/20 05:48:45.152083: tos / traffic class byte = 00
2013/04/20 05:48:45.168068: [1C17429A/00:0]: Keytype invalid or not supported here
</code></pre>

<p>I am not getting what else I need to make it work . Do I need to add -k or -K both side , If I am not adding this will it not work ?? What I understood is if I am not using -k it will by default generate 512 bit rsa key.</p>

<p>I am not getting any help regarding this .Please help me to understand it better.</p>
",
8831000,Can I use Java on QNX?,https://stackoverflow.com/questions/8831000/can-i-use-java-on-qnx,5,1326349587,"java, embedded, qnx","<p>I have to serve two masters. One project which is expected to split in two after v1.0.</p>

<p>It initially was a straightforward embedded project coded in C using FreeRTOS. It till could be until v1.0.</p>

<p>Afterwards, one master says we must use QNX to please a partner or lose a deal while another says that we must use J/XFS (Java <a href=""http://www.jxfs.net/"" rel=""nofollow noreferrer"">extension for financial services</a>) or lose another deal.</p>

<p>QNX doesn't exactly seem bustling with support for Java. The best that I can find is <a href=""http://psy.swan.ac.uk/staff/carter/qnx/notes_java.htm"" rel=""nofollow noreferrer"">this link</a>, but t's hardly official.</p>

<p>So, can anyone shed more light on Java on QNX?</p>
","<p>I have to say that I've never tried to use Java under QNX, so my answer is meant to help but it won't be definitive.</p>

<p>It seems to be pretty much something that 3rd parties need to provide, and obviously something QNX aren't too bothered about. They went from their own IDE that also ran under QNX to Momentics, based on Eclipse and therefore obviously requires Java, around version 6.3 and have not got a QNX version yet.</p>

<p>Going by <a href=""http://community.qnx.com/sf/discussion/do/listPosts/projects.community/discussion.qnx_momentics_community_support.topc4039?_pagenum=2"" rel=""noreferrer"">this reply</a> on the support forums you have existing options of:</p>

<ul>
<li>QNX partners Apogee Software or MicroDoc can provided updated support for IBM's J9 (from the link you found)</li>
<li>Aonix  (PERC VM)</li>
<li>Aicas (Jamaica VM)</li>
</ul>

<p>I guess your other options would be to get an open source JVM and port it.</p>
"
47520874,C Signal Handler professor example explanation,https://stackoverflow.com/questions/47520874/c-signal-handler-professor-example-explanation,-1,1511821506,"c, pid, qnx","<p>My QNX class notes has this example, I cant seem to figure out how my prof came up with that output. Can anyone explain this to me thoroughly? </p>

<p>When this program runs the parent process has a PID of 1234 and the child process has 5678.</p>

<p>Output
5678: counter = 0
1234: counter = 10</p>

<pre><code>#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;signal.h&gt;
#include &lt;sys/types.h&gt;

/*
 * getpid() - returns the current processes pid.
 * getppid() - returns the parent processes pid.
 */

int counter = 0;

void signal_handler(int signo)
{
    counter++;
}

int main(int argc, char *argv[]) {
    int i = 0;
    int rv;

    struct sigaction sa;

    sa.sa_handler = signal_handler;
    //queue signals.
    sa.sa_flags = SA_SIGINFO;
    sigemptyset(&amp;sa.sa_mask);

    sigaction(SIGUSR1, &amp;sa, NULL);

    switch(fork())
    {
        case 0:
            for(i = 0; i &lt; 10; i++)
            {
                kill(getppid(), SIGUSR1);
            }
            break;
        default:
            wait(&amp;rv);
            break;
    }

    printf(""%d: counter = %d\n"", getpid(), counter);
    return 0;
}
</code></pre>
","<p>The <code>fork</code> creates a child process with its own copy of <code>counter</code>.</p>

<p>The <code>kill</code>, called by the child process, is sending a <code>SIGUSR1</code> to the parent process because it is using <code>getppid()</code> to get the pid.</p>

<p>The parent process is either blocked in the <code>wait</code>, or somewhere between the <code>fork</code> and the <code>wait</code>.  For each <code>SIGUSR1</code> sent by the child, the parent will jump into the signal handler, increment its copy of <code>counter</code>, and return to whatever it was doing.</p>

<p>In general, <code>wait</code> can return with an <code>EINTR</code> error if a signal is handled while it is waiting.  Setting <code>SA_RESTART</code> in <code>sa.sa_flags</code> ensures that system call will be restarted, but here it assumes that the <code>wait</code> will not be interrupted by the signal (does QNX guarantee this?).</p>

<p>The child's copy of <code>counter</code> is not affected.  The <code>wait</code> causes the parent to block until the child has exited.  The child thus prints its value of <code>counter</code>, which is <code>0</code>, and exits, the parent wakes from the <code>wait</code> and prints its value of <code>counter</code>, which is <code>10</code>.</p>
"
46895490,ntp 4.2.8p10 - disable signal I/O from configure script,https://stackoverflow.com/questions/46895490/ntp-4-2-8p10-disable-signal-i-o-from-configure-script,0,1508780820,"ntp, qnx","<p>I ran into a problem when cross-compiling NTP for QNX. I traced it down to a deadlock. Essentially what happens is:</p>

<pre><code>t0 - clock_select() calls realloc()
t1 - realloc() locks the heap
t2 - signal handler is called
t3 - inside sig handler recvmsg() is called
t4 - recvmsg() calls malloc()
t5 - malloc() tries to lock the heap
DEADLOCK
</code></pre>

<p>I wondered why Linux does not run into this deadlock and it turns out that recvmsg() is considered <a href=""http://man7.org/linux/man-pages/man7/signal-safety.7.html"" rel=""nofollow noreferrer"">signal handler safe</a> while in QNX recvmsg() is explicitly listed as <a href=""http://www.qnx.com/developers/docs/7.0.0/index.html#com.qnx.doc.neutrino.lib_ref/topic/r/recvmsg.html"" rel=""nofollow noreferrer"">not signal handler safe</a>. </p>

<p><strong>MY QUESTION:</strong> Is there a way I can pass an option to the configure script to manually disable signaled I/O when building NTP? I am really not wanting to manually edit source code so as to make it easier to upgrade to future versions of NTP. If there is no other way, which #defines should I disable in the resulting config.h script to not use signaled I/O? </p>

<p>I'm hoping to find a way to contribute to the NTP repo to add support for QNX, but for now these guys are hard to get a hold of.</p>

<p>Thank you all for your help and support!</p>
",
46748406,Is backtrace() - backtrace_symbols() availible for QNX?,https://stackoverflow.com/questions/46748406/is-backtrace-backtrace-symbols-availible-for-qnx,1,1508008603,"c++, qt, qnx","<p>I am doing a Qt project. Below are the my set up details.
- Qt Version: Qt 5.5.1(qnx)
- Kits Information: static of Qt5.5.1 of QNX of 6.6.0 armv7
- Compiler: QCC for QNX 6.6.0 armv7
- Qt Mkspec: qnx-armle-v7-qcc</p>

<p>What I want to do is in my project to capture SIGSEGV signal at run time and print the back traces at console itself. I could get back-traces easily in Linux using backtrace()/ backtrace_symbols(). But as ""execinfo.h"" file is not present in QNX, I can not use backtrace()/ backtrace_symbols() functions.</p>

<p>So, I am thinking to download ""execinfo.h"" file and add it to my project. And I am sure I will be needing corresponding library as well but there is no idea about library name as of now. </p>

<p>Can someone comment on following?
1. Which is the corresponding library to ""execinfo.h"" file? 
2. What all I need to get/download for making backtrace()/ backtrace_symbols() functional in QNX?
3. Is there any alternative to print back-traces &amp; symbols at console itself
in Qt/Qnx project?</p>
",
46709115,How to access the hardware in QNX?,https://stackoverflow.com/questions/46709115/how-to-access-the-hardware-in-qnx,4,1507809731,"c++, operating-system, qnx","<p>I installed QNX on the machine. The question is, the embedded system must also have access to the hardware, port management, and so on. How is this implemented in QNX? In what direction to study? So far I've found this the organization of files, directories, users, groups, etc. Or I do not understand the operating principle of the system</p>
","<p>NOTE: I PUT A LINK ON CODE SAMPLES at THE BOTTOM.</p>

<p>Ill try to explain it in terms of difference between <code>Linux and QNX</code>.</p>

<p><code>QNX</code> is a <code>RTOS</code> and its <code>kernel</code> can be referred as <code>Neutrino Kernel</code>. <code>Kernel</code> is just a bare bones which interacts with <code>H/W</code> and it is the core of any <code>operating system</code>, But <code>OS</code> consists of <code>application software</code> and <code>Kernel</code> which works in <code>unison</code> to achieve the purpose of a <code>computer system</code>.</p>

<p><code>Linux</code> on its own is just a <code>Kernel</code>, the <code>GNU/Linux</code> is a complete <code>OS</code>.</p>

<p><code>Linux</code> is based on <code>monolithic architecture</code> whereas QNX is <code>Micro Kernel</code>.</p>

<p><code>Monolithic kernel:</code> all the <code>OS service</code> run along with the <code>kernel main thread</code> thus residing in the same <code>memory</code>. <code>Monolithic kernels</code> are easier to implement but a <code>bug</code> in some part like the <code>driver</code> can bring down the total system.</p>

<p>MORE RANT:</p>

<p><code>QNX</code> is a complete <code>microkernel</code> based on <code>realtime OS</code>, vs <code>Linux</code> which is a <code>monolithic kernel</code>. <code>QNX</code> can run on many <code>Embedded platforms</code>, such as on <code>mini computers</code> in cars which have <code>satnav</code> or <code>music controls</code>.(Jeep Cherokee), <code>SCADA systems</code>. The application building <code>framework</code> is much different than <code>X11</code>, or <code>Wayland</code> you get on <code>Linux</code>. As shown in <code>QNX GUI</code> it is much closer to to the bone and metal.</p>

<p>Example: In <code>Linux</code> if you want to draw a circle on the screen, this will go through many layers of abstraction like the <code>X11</code>, in <code>QNX</code> things take a more direct route which makes it faster on a small chip, this results in loosing most of the <code>networky</code> stuff which <code>X11</code> makes possible on to <code>Linux</code>.</p>

<p><code>QNX</code> is somewhat out of the box, supported <code>framework</code> for making <code>embedded systems</code>, vs <code>GNU/LINUX</code> is a bit more opposite of this.</p>

<p><code>Real Time</code> side of things is about both <code>timely responses</code> and <code>accuracy of the response</code>.</p>

<p>Look <a href=""http://www.drdobbs.com/the-qnx-operating-system/184402409"" rel=""noreferrer"">here</a> to understand <code>QNX</code> and different parts that you need for <code>coding</code>.</p>

<p><code>QNX</code> Sample Code can be found <a href=""http://www.qnx.com/download/feature.html?programid=26215"" rel=""noreferrer"">here</a>.</p>
"
46542970,Encryption in C# and decryption in C (QNX OS),https://stackoverflow.com/questions/46542970/encryption-in-c-and-decryption-in-c-qnx-os,1,1507028246,"c#, c++, c, encryption, qnx","<p>I am trying to encrypt the message in C# platform using Security.Cryptography library. Please find the code below.</p>

<pre><code>using (AuthenticatedAesCng aes = new AuthenticatedAesCng())
{
    byte[] message = Encoding.UTF8.GetBytes(s);                   // Convert to bytes.
    aes.Key = getEncryptionKey();                                   // Retrieve Key.
    aes.IV = generateIV();                                          // Generate nonce.
    aes.CngMode = CngChainingMode.Gcm;                              // Set Cryptographic Mode.
    aes.AuthenticatedData = getAdditionalAuthenticationData();     // Set Authentication Data.
    byte[] encrypted;

    using (MemoryStream ms = new MemoryStream())
    {
        using (IAuthenticatedCryptoTransform encryptor = aes.CreateAuthenticatedEncryptor())
        {
            using (CryptoStream cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write))
            {
                // Write through and retrieve encrypted data.
                cs.Write(message, 0, message.Length);
                cs.FlushFinalBlock();
                byte[] cipherText = ms.ToArray();

                // Retrieve tag and create array to hold encrypted data.
                byte[] authenticationTag = encryptor.GetTag();
                encrypted = new byte[cipherText.Length + aes.IV.Length + authenticationTag.Length];

                // Set needed data in byte array.
                aes.IV.CopyTo(encrypted, 0);
                authenticationTag.CopyTo(encrypted, IV_LENGTH);
                cipherText.CopyTo(encrypted, IV_LENGTH + TAG_LENGTH);
            }
        }
    }  
} 

// Store encrypted value in base 64.
// Convert.ToBase64String(encrypted);

lock (SnmpUdpClient.Client)
{
    nRet = SnmpUdpClient.Client.Send(encrypted, idx, gaddr.IPEndPoint);
}
</code></pre>

<p>I am sending the encrypted packet to the client via UDP connection . Client should receive the encrypted data and decrypt it using C/C++ platform (QNX OS).</p>

<p>Can anyone Please help me to understand how to do it. Does C/C++ or QNX has some library which can be used to achieve the same.</p>
",
46346247,qnx get resmgr_context_t of old resource manager,https://stackoverflow.com/questions/46346247/qnx-get-resmgr-context-t-of-old-resource-manager,2,1506003131,"linux, qnx, resourcemanager","<p>I trying to create my own process manager for qnx 6.6 over /proc/{pid}/as.</p>

<p>But I need to change only one operation (io_open), all other operations should continue work with old file (/proc/{pid}/as). </p>

<p>Can I just get pointer to resmgr_context_t (from path or fd, before resmgr_attach) and for all other operations just call default function?</p>

<p>This is stupied example of what I want:</p>

<pre><code>resmgr_context_t* old_context;
int my_lseek(resmgr_context_t *ctp, io_lseek_t *msg, RESMGR_OCB_T *ocb){
   return iofunc_lseek_default(old_context, msg, ocb);
}
</code></pre>
","<p>You need to make a regular resource manager that only registers a function for io_open, all other resource manager operations will filter down to the lower resource managers in the stack.</p>

<p>Return ENOENT from the io_open callback if you want the message to move down the resmgr stack to other registered io_open callbacks, otherwise return EOK.</p>

<p>Error checking was omitted for brevity.</p>

<pre><code>#include &lt;errno.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stddef.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;string.h&gt;
#include &lt;time.h&gt;
#include &lt;sys/iofunc.h&gt;
#include &lt;sys/dispatch.h&gt;

static resmgr_connect_funcs_t    connect_funcs;
static resmgr_io_funcs_t         io_funcs;
static iofunc_attr_t             attr;

int io_open (resmgr_context_t *ctp, io_open_t  *msg, RESMGR_HANDLE_T *handle, void *extra);

int main(int argc, char **argv)
{
    resmgr_attr_t        resmgr_attr;
    dispatch_t           *dpp;
    dispatch_context_t   *ctp;
    int                  id;

    // initialize dispatch interface
    dpp = dispatch_create();

    // initialize resource manager attributes 
    memset(&amp;resmgr_attr, 0, sizeof resmgr_attr);
    resmgr_attr.nparts_max = 1;
    resmgr_attr.msg_max_size = 2048;

    // initialize functions for handling messages 
    iofunc_func_init(_RESMGR_CONNECT_NFUNCS, &amp;connect_funcs, 
                 _RESMGR_IO_NFUNCS, &amp;io_funcs);
    connect_funcs.open = io_open;

    // initialize attribute structure used by the device 
    iofunc_attr_init(&amp;attr, S_IFNAM | 0666, 0, 0);

    // attach to /proc/{pid}/as path, replace '1' with correct pid 
    resmgr_attach(dpp, &amp;resmgr_attr,""/proc/1/as"", 
        _FTYPE_ANY, _RESMGR_FLAG_BEFORE|_RESMGR_FLAG_DIR,
        &amp;connect_funcs, &amp;io_funcs, &amp;attr);

    ctp = dispatch_context_alloc(dpp);

    /* start the resource manager message loop */
    while(1) {
        if((ctp = dispatch_block(ctp)) == NULL) {
            perror(""dispatch_block"");
            return EXIT_FAILURE;
        }
        dispatch_handler(ctp);
    }
}

int io_open (resmgr_context_t *ctp, io_open_t *msg, RESMGR_HANDLE_T *handle, void *extra)
{
    time_t tod;  
    tod = time(NULL); 
    printf (""%10d %-32s is being opened\n"", tod, msg-&gt;connect.path);

    return(ENOENT);
}
</code></pre>
"
46403550,How to prevent remove file operation on QNX?,https://stackoverflow.com/questions/46403550/how-to-prevent-remove-file-operation-on-qnx,0,1506337057,"fs, qnx","<p>I faced with problem that I should prevent removing some applications from QNX device but I can't mount FS as read-only. So I tried to find some info about ""interception"" by resource manager remove operation, but it seems I can't do it. May be someone has any ideas?</p>
",
26150676,Num Lock key does nothing in Qt Application on QNX,https://stackoverflow.com/questions/26150676/num-lock-key-does-nothing-in-qt-application-on-qnx,1,1412197650,qnx,"<p>I wrote a C++ GUI application using Qt 5.3 for QNX 6.5, but it doesn't let me enter any number from the numeric keypad to a QLineEdit widget even when the num lock is on. The num lock works fine on the console terminal. I built the application for Windows, and the num lock worked fine, too.</p>
",
46165617,Different scheduling jitter for task frequencies,https://stackoverflow.com/questions/46165617/different-scheduling-jitter-for-task-frequencies,0,1505171982,"c, embedded, posix, qnx, jitter","<p>Recently I implemented QNX Neutrino RTOS on Zynq-7000 platform (ARM A9) and measured scheduling jitter for different task frequencies with no CPU load.
In my test I wait in MsgReceive function for pulse generated by timer. Then I read high frequency clock from FPGA (100MHz).
I measured scheduling jitter for 10Hz, 100Hz, 1kHz, 10kHz and 100kHz tasks and got strange results. For short period task I got (-300,+300) nanoseconds jitter, but for longer periods I got following:</p>

<ul>
<li>1kHz task had (+600, +1300) nanoseconds jitter</li>
<li>100Hz task had (+8, +12) microseconds(!) jitter</li>
<li>10Hz task had (+69,+71) microseconds jitter</li>
</ul>

<p>Jitter not only grow bigger for longer period tasks, but also it was always greater than zero. I didnt expect such differencies. Could anyone provide some explanation of such behaviour? Might it be explained by POSIX standard, that allows timers to expire not prematurely but with overhead? Why did it become more visible for long period tasks?</p>
",
18384687,Malloc Check Failed when opening video stream,https://stackoverflow.com/questions/18384687/malloc-check-failed-when-opening-video-stream,0,1377185096,"c, ffmpeg, blackberry-10, x264, qnx","<p>I'm writing a BlackBerry 10 application which decodes an H264 video stream (from a Parrot AR Drone) using ffmpeg and libx264. These libraries have both been compiled for BlackBerry QNX. </p>

<p>Here's my code: </p>

<pre><code>av_register_all();
avcodec_register_all();
avformat_network_init();

printf(""AV setup complete\n"");

const char* drone_addr = ""http://192.168.1.1:5555"";
AVFormatContext* pFormatCtx = NULL;
AVInputFormat* pInputFormat = av_find_input_format(""H264"");

printf(""Opening video feed from drone\n"");

//THIS LINE FAILS 
int result = avformat_open_input(&amp;pFormatCtx, drone_addr, pInputFormat, NULL); 
</code></pre>

<p>The last line fails with the error: </p>

<pre><code>Malloc Check Failed: :../../dlist.c:1168
</code></pre>

<p>How can I fix this error or debug it further? </p>

<p><em>Update</em>: The error only occurs when I supply <code>pInputFormat</code> to <code>avformat_open_input</code>. If I supply NULL I don't get an error. But for my app I must supply this parameter since it is not possible for ffmpeg to determine the video format from the feed alone.  </p>
","<p>I fixed this by adding the <code>--enable-memalign-hack</code> to the configure flags for ffmpeg. I narrowed the problem down to: <code>libavutil/mem.c</code> which includes some preprocessor defines for various memory handlers which led me to that configure flag. </p>

<p>Not sure if this is the right fix, or whether I'm setting myself up for problems later. Looks like someone else has had similar problems here: <a href=""http://ffmpeg.org/pipermail/ffmpeg-devel/2013-February/138634.html"" rel=""nofollow"">http://ffmpeg.org/pipermail/ffmpeg-devel/2013-February/138634.html</a></p>
"
41109309,.da files are not created for gcov when accessed remotely,https://stackoverflow.com/questions/41109309/da-files-are-not-created-for-gcov-when-accessed-remotely,0,1481575806,"gcc, gcov, qnx","<p>I'm trying to generate coverage info with gcov. The configuration is a little tricky. I have some of the testing running from the same machine. Others are implemented in Matlab and access the executables on the test-machine remotely. When the test files are executed from the same machine, the .da files are generated. However, no .da files are created when I run Matlab test files which use the executables on the test machine remotely. I'm accessing the test machine remotely with root access, all the privileges seem to be correct. Any idea why .da file are not generated when the executables are accessed remotely?</p>
",
45429377,How to create a QNX neutrino 7.0.0 bootable cd image?,https://stackoverflow.com/questions/45429377/how-to-create-a-qnx-neutrino-7-0-0-bootable-cd-image,2,1501564218,"x86, qnx, qnx-neutrino, bootable, qnx-ifs","<p>I am a newbie in QNX and I have a question: How to generate a QNX 7.0.0 bootable image for x86 (32-bit) that I can burn on a CD disk and boot on my pc? I have asked a question that looks similar to this, but it was about booting with Photon graphics, but as user ""v836"" mentioned, it's outdated, so this question is about booting to ""just console"" QNX with full set of unix utilities, hdd detection/mounting support, networking and (if possible) c compiller.</p>

<p>I will be glad if somebody have a link to set of buildconfigs sor QNX 7.0.0 for different tasks that includes the one I need.</p>

<p>There is an ISO image on the internet that does exactly that I want to. It called ""QNX demo"" or so, but it's not QNX 7, it uses a earlier version, and also it's a ready result, with no easy posibility to add my software to.</p>

<p>Also, I am not sure that it's possible to generate a ISO image using ""QNX system builder"" - the only way I can boot something (that is not even nearly close to what I need) - is generating a sort of multiboot image and booting it via GRUB2+mkresue.</p>
",
45311506,Finding an exact match in QNX without using grep -w,https://stackoverflow.com/questions/45311506/finding-an-exact-match-in-qnx-without-using-grep-w,2,1501009036,"linux, shell, awk, qnx, qnx-neutrino","<p>I'm writing a script that needs to find an exact match in a file that is compatible with QNX and POSIX compliant Linux</p>

<p>more detail:</p>

<p>Im trying to find the user of a process so the original command I wrote was </p>

<pre><code>user=$(ps -aux | awk '{print $1 "" "" $2}' | grep -w ${process} | awk '{}print $1')
</code></pre>

<p>which works perfectly in POSIX compliant Linux</p>

<p>however, QNX isn't totally POSIX compliant and <code>grep -w</code> isn't usable for my target...so I need to find an exact match without <code>grep -w</code> </p>
","<p>I think you want to print field 1 if field 2 exactly matches something:</p>

<pre><code>ps -aux | awk -v p=$process '$2==p{print $1}'
</code></pre>
"
45050823,Unable to find platform reset classification DLL,https://stackoverflow.com/questions/45050823/unable-to-find-platform-reset-classification-dll,0,1499843641,"qnx, qnx-neutrino","<p>Calling 'shutdown' suddenly outputs ""Unable to find platform reset classification DLL"", then it shuts down.</p>

<p>I am running QNX 6.6 for over a year, and this suddenly appeared.</p>

<p>Any ideas why this appears and how to solve it?</p>
",
45019382,How to make top run in background ? It needs to run and log the output. Not die or zombie up,https://stackoverflow.com/questions/45019382/how-to-make-top-run-in-background-it-needs-to-run-and-log-the-output-not-die,1,1499711685,"linux, bash, shell, qnx, qnx-neutrino","<p>I am trying to make a script to log the top output to a file in the background for my embedded system. But as soon as I put it in background, it either exits or zombies up. What is the systems problem with running things in background ?
My script</p>

<pre><code>TOP_LOG_FILE=top_log.txt
if [ -e $TOP_LOG_FILE ] ; then
        rm $TOP_LOG_FILE
fi
while true
do
        echo ""##""`date`""##"" &gt;&gt; $TOP_LOG_FILE
        nohup top -n 1 &gt;&gt; $TOP_LOG_FILE 
        sleep 1
        echo ""##xxxxxxxxxxx##"" &gt;&gt; $TOP_LOG_FILE
done
</code></pre>

<p>I am trying to execute it as</p>

<pre><code># nohup sh top_log.sh &amp;


[4] 3051559

appending output to nohup.out

# 


[4] + Stopped (tty output) nohup sh top_log.sh
</code></pre>

<p>and as </p>

<pre><code>[5] 3121193

sh: top_log.sh: cannot execute - No such file or directory

[6] 3121194

# 


[6]   Done                 &gt; /dev/null 

[5]   Done (126)           top_log.sh 

# 
</code></pre>

<p>How do I actually get around this behavior? </p>
","<pre><code>top -n 1 -b
</code></pre>

<p>Tail that in a loop and append to file.<br>
Wrap your loop in a script and launch it from terminal with &amp;.</p>
"
44988482,Compiling libssh for QNX (BB10),https://stackoverflow.com/questions/44988482/compiling-libssh-for-qnx-bb10,1,1499532151,"cmake, blackberry-10, qnx, libssh","<p>I'm trying to use <a href=""https://www.libssh.org"" rel=""nofollow noreferrer"">libssh</a> in my BlackBerry 10 project and have no idea how to compile it for this platform. Could you provide some steps to achieve this?</p>
",
44944419,ldd:FATAL: couldnt load library mylib.so,https://stackoverflow.com/questions/44944419/lddfatal-couldnt-load-library-mylib-so,0,1499331942,"shared-libraries, powerpc, qnx, ldd","<p>I have a shared library has built in rational rose and the target system is set to ppcbe. I try load the created so file by dlopen() command in QNX Momentics IDE while connecting to target system. QNX IDE resides on WIN7 64bit. I set the mylib.so file in Extra Object files. The build Project is done whithout no problem. but dlerror() gives me the following error:
   ldd:FATAL: Couldn't load library C:/ide-4.7-workspace/myproject/mylib.so</p>

<p>Some searches leaded me to set the LD_LIBRARY_PATH to target use/lib path. The so file is also copied in this target path. but the error didnt resolved. My surprise is why loader tries to find the library in a windows path, while i expect to locate it in target system path.
I'm really frustrated. appreciate any hint.</p>
",
44678328,QNX posix signal is lost when two same signals come very closely,https://stackoverflow.com/questions/44678328/qnx-posix-signal-is-lost-when-two-same-signals-come-very-closely,1,1498053692,"signals, posix, real-time, interrupt-handling, qnx","<p>I have implemented periodic task class with posix interval timers just like on: 
<a href=""http://quirk.ch/2009/07/how-to-use-posix-timer-within-c-classes"" rel=""nofollow noreferrer"">http://quirk.ch/2009/07/how-to-use-posix-timer-within-c-classes</a></p>

<p>In the main thread, i am instantiating 2 of them with same itimerspec value and interval (say: 1 sec both) and than call the start functions of 2 tasks (without any other code in between the start functions).</p>

<p>When i try this in non-realtime linux, it works as expected. Both of tasks are executed like this:</p>

<p>TASK1</p>

<p>TASK2</p>

<p>(interval waiting time spent here)</p>

<p>TASK1 </p>

<p>TASK2 </p>

<p>(interval waiting time spent here)
.
.</p>

<p>This behaviour in non RT linux is not surprising to me, since (probably by statistics / luck), no signal is created, while the other signal is handled.</p>

<p>However when i run this code in real time QNX, All i get is </p>

<p>TASK2</p>

<p>TASK2</p>

<p>.
.</p>

<p>I know that printf is not safe within signal handler, however i also debugged and the TASK1 is never executed. Also, the result does not change eiter with the global flag method.</p>

<p><strong>The interesting part is when i put at least 2 nanoseconds of sleep between each task's start function, then both TASK1 and TASK2 is printed.</strong></p>

<p>I know that posix signals may coalesced (but i suppose this situtation may only occur, if signals are not queued). And, as far as i know, posix standart signal are not queued, but realtime signals are. So, I also repeeted these experiments with SIGRTMIN signal, result is the same.</p>

<p>Moreover on this site:
<a href=""http://www.qnx.com/developers/docs/6.3.2/neutrino/sys_arch/kernel.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/6.3.2/neutrino/sys_arch/kernel.html</a></p>

<p>QNX authors claim that:</p>

<blockquote>
  <p>Since the signals are always blocked, the program cannot be
  interrupted or killed if the special signal is delivered outside of
  the sigwaitinfo() function. Since signal queuing is always enabled,
  signals won't be lost -- they'll be queued for the next sigwaitinfo()
  call.</p>
</blockquote>

<p>My guess is that second task signal is created when first task's signal is handled. Moreover either of the 2 below:</p>

<ul>
<li>The 2nd time is all of the execution time of the handler and new signal is never blocked, when the first signal is handled (which is strange) and that is why first task is never completed, but always second task is completed.</li>
<li><strong>Or there is some very small time (2ns), in between creation of signal and the blocking of the same signal. And since i am not
putting any time taking code in between two task's start calls, that
would take more than 2ns, then that is where i hit with the second
tasks genereated signal. Therefore first task signal is lost before
handled (because signal is not blocked at that time).</strong></li>
</ul>

<p><em>I favor my second guess. But then how can a signal be guarenteed that it won't be lost- as QNX site claims?</em></p>

<p><strong>Note: the two tasks use the same signal.</strong></p>

<p>Thank you for any help.</p>

<p>main.cpp</p>

<pre><code>#include &lt;iostream&gt;
#include ""ExampleTask.h""
#include &lt;unistd.h&gt;
#include &lt;ctime&gt;
#include &lt;stdio.h&gt;

int main() {
    std::cout &lt;&lt; ""Start of program.."" &lt;&lt; std::endl;

    struct itimerspec spec;
    spec.it_interval.tv_sec = 1;
    spec.it_interval.tv_nsec = 0;
    spec.it_value.tv_sec = 1;
    spec.it_value.tv_nsec = 0;

    /*
    for(int i=0; i&lt;1; i++){
      ExampleTask task(spec,i);
      task.start();
    }
    */
    ExampleTask task1(spec,1);
    ExampleTask task2(spec,2);
    task1.start();
    task2.start();
    while(true){
      std::cout &lt;&lt; ""main loop.."" &lt;&lt; std::endl;
      sleep(1);
    }
    return 0;
}
</code></pre>

<p>PeriodicTask.cpp</p>

<pre><code>#include ""PeriodicTask.h""
#include ""string.h""
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

PeriodicTask::PeriodicTask(struct itimerspec spec){
  this-&gt;spec = spec;
  sigemptyset(&amp;this-&gt;signalAction.sa_mask);
  this-&gt;signalAction.sa_flags = SA_SIGINFO;
  this-&gt;signalAction.sa_sigaction = PeriodicTask::signalHandler;

  memset(&amp;this-&gt;signalEvent, 0, sizeof(this-&gt;signalEvent));
  this-&gt;signalEvent.sigev_notify = SIGEV_SIGNAL;
  this-&gt;signalEvent.sigev_value.sival_ptr = (void*) this;
  this-&gt;signalEvent.sigev_signo = SIGALRM;

  if(timer_create(CLOCK_REALTIME, &amp;this-&gt;signalEvent, &amp;this-&gt;timerID) != 0) {
    perror(""Could not create the timer"");
    exit(EXIT_FAILURE);
  }

  if(sigaction(SIGALRM, &amp;this-&gt;signalAction, NULL)) {
    perror(""Could not install new signal handler"");
    exit(EXIT_FAILURE);
  }
}

PeriodicTask::~PeriodicTask(){
  //TODO deconstructor
}

void PeriodicTask::start(){
  this-&gt;initialize();
  if(timer_settime(this-&gt;timerID, 0, &amp;this-&gt;spec, NULL) == -1) {
    perror(""Could not start timer:"");
    exit(EXIT_FAILURE);
  }
}

void PeriodicTask::stop(){
    this-&gt;finalize();
    // TODO remove signals and timers
}

void PeriodicTask::signalHandler(int sigNumb, siginfo_t *si, void *uc){
  PeriodicTask* task = static_cast&lt;PeriodicTask*&gt; (si-&gt;si_value.sival_ptr);
  task-&gt;execute();
}
</code></pre>

<p>ExampleTask.cpp</p>

<pre><code>#include ""ExampleTask.h""
#include ""stdio.h""

double getSystemNanosecond(void){
   struct timespec ts;
   int status = clock_gettime(CLOCK_MONOTONIC, &amp;ts);
   //long long int total = (ts.tv_sec%100)*1000000000 + (ts.tv_nsec);
   //return (double)(total/1000000000);
   return (double)(ts.tv_sec%100) + (double)((double)ts.tv_nsec/(double)1000000000);
}

#define debug(fmt, ...) printf(""%0.9f:: "" fmt, getSystemNanosecond(), __VA_ARGS__);

ExampleTask::ExampleTask(struct itimerspec spec, int id) : PeriodicTask(spec){
  this-&gt;id = id;
}

ExampleTask::~ExampleTask(){
  //TODO deconstructor
}

void ExampleTask::initialize(){
  //TODO initialize
}

void ExampleTask::finalize(){
  //TODO finalize
}

void ExampleTask::execute(){
  //TODO not safe
  debug(""%d\n"",this-&gt;id);
}
</code></pre>

<p>PeriodicTask.h</p>

<pre><code>#ifndef PERIODICTASK_H
#define PERIODICTASK_H

#include ""signal.h""
#include ""time.h""


class PeriodicTask {
public:
  PeriodicTask(struct itimerspec spec);
  virtual ~PeriodicTask();
  void start();
  void stop();
private:
  static void signalHandler(int sigNumb, siginfo_t *si, void *uc);
  virtual void initialize()=0;
  virtual void finalize()=0;
  virtual void execute()=0;
  struct itimerspec spec;
  timer_t timerID;
  sigset_t sigBlockSet;
  struct sigevent signalEvent;
  struct sigaction signalAction;

};


#endif
</code></pre>

<p>ExampleTask.h</p>

<pre><code>#ifndef EXAMPLETASK_H
#define EXAMPLETASK_H

#include ""PeriodicTask.h""

class ExampleTask : public PeriodicTask {
public:
  ExampleTask(struct itimerspec spec, int id);
  virtual ~ExampleTask();
private:
  void initialize();
  void finalize();
  void execute();
  int id;
};

#endif
</code></pre>
",
43595092,embedded linux/QNX - how to completely zero out flash,https://stackoverflow.com/questions/43595092/embedded-linux-qnx-how-to-completely-zero-out-flash,0,1493057806,"linux, embedded-linux, qnx","<p>I have a bug related to persistent files.</p>

<p>To determine the exact sequence of steps to reproduce the bug, I need to start out the flash disk at a known state.</p>

<p><strong>QUESTION</strong></p>

<p>Using linux/QNX commands, how do I completely zero out the entire flash disk while being Telnet'd into the system?</p>
","<p>On <strong>QNX</strong>, you can try the <a href=""http://www.qnx.com/developers/docs/660/index.jsp?topic=%2Fcom.qnx.doc.neutrino.utilities%2Ftopic%2Ff%2Fflashctl.html"" rel=""nofollow noreferrer""><strong><code>flashctl</code> tool</strong></a> to erase the entire flash.</p>

<p>To erase the entire flash, run: </p>

<pre><code>flashctl -p /dev/fs0 -e
</code></pre>
"
35028947,can I use shm_open instead of shmget on QNX,https://stackoverflow.com/questions/35028947/can-i-use-shm-open-instead-of-shmget-on-qnx,0,1453869208,qnx,"<p>I am new to QNX platform, and we are porting Linux project to QNX. and found code related to shared memory creating in linux using shmget system call. but shmget not present in QNX. and I saw similar call shm_open, I don't know difference b/w both. </p>

<p>My straight question is like, should I use shm_open instead of shmget in QNX platform ? If yes, how ? if not, why not ?</p>
","<p>First of all <strong>QNX</strong> does NOT support the <code>shmget()</code> API. </p>

<blockquote>
  <p>You will need to use <code>shm_open()</code> instead.</p>
</blockquote>

<p>Below is a sample program from online QNX documentation<br>
that demonstrates the proper use of <code>shm_open()</code> on <strong>QNX</strong>:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;errno.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;limits.h&gt;
#include &lt;sys/mman.h&gt;

int main( int argc, char** argv )
{
    int fd;
    unsigned* addr;

    /*
     * In case the unlink code isn't executed at the end
     */
    if( argc != 1 ) {
        shm_unlink( ""/bolts"" );
        return EXIT_SUCCESS;
    }

    /* Create a new memory object */
    fd = shm_open( ""/bolts"", O_RDWR | O_CREAT, 0777 );
    if( fd == -1 ) {
        fprintf( stderr, ""Open failed:%s\n"",
            strerror( errno ) );
        return EXIT_FAILURE;
    }

    /* Set the memory object's size */
    if( ftruncate( fd, sizeof( *addr ) ) == -1 ) {
        fprintf( stderr, ""ftruncate: %s\n"",
            strerror( errno ) );
       return EXIT_FAILURE;
    }

    /* Map the memory object */
    addr = mmap( 0, sizeof( *addr ),
            PROT_READ | PROT_WRITE,
            MAP_SHARED, fd, 0 );
    if( addr == MAP_FAILED ) {
        fprintf( stderr, ""mmap failed: %s\n"",
            strerror( errno ) );
        return EXIT_FAILURE;
    }

    printf( ""Map addr is 0x%08x\n"", addr );

    /* Write to shared memory */
    *addr = 1;

    /*
     * The memory object remains in
     * the system after the close
     */
    close( fd );

    /*
     * To remove a memory object
     * you must unlink it like a file.
     *
     * This may be done by another process.
     */
    shm_unlink( ""/bolts"" );

    return EXIT_SUCCESS;
}
</code></pre>

<p>Hope this helps. </p>
"
16354507,QNX SDK available for MAC,https://stackoverflow.com/questions/16354507/qnx-sdk-available-for-mac,2,1367569605,qnx,"<p>Is there any QNX SDK available for MAC? I had found one for Windows and for Linux.. But Can't find one for MAC... Would be so helpful if anyone help me in this.
Thanks in advance.</p>
","<p>I was going to say ""no, I've never seen a Mac package for QNX"", but a simple Google search reveals that if you are trying to target BlackBerry, they have something.</p>

<p>See <a href=""http://developer.blackberry.com/native/documentation/bb10/com.qnx.doc.native_sdk.quickstart/topic/after_the_install.html"" rel=""nofollow"">this link</a>.</p>

<p>If you're not targeting BlackBerry, then you should probably give their <a href=""http://www.qnx.com/download/group.html?programid=20905"" rel=""nofollow"">QNX-hosted development VM</a> a try. This should work pretty well on any modern host machine.</p>
"
44669719,Qnx message prefix,https://stackoverflow.com/questions/44669719/qnx-message-prefix,0,1498030746,"c, qnx, qnx-neutrino","<p>I can not implement messaging between processes in QNX with the mechanism of the perfixes. I have tried many ways but all in vain.</p>

<pre><code>       #define PREFIX_POSITION ""stat_pos""

        char receiveBuffer = 0;
        char replyBuffer[25];
        name_attach_t *positionPrefix;
        dispatch_t *dpp;
        int rcvid;

        dpp = dispatch_create();

        if (positionPrefix = name_attach(NULL, PREFIX_POSITION, 0) == NULL){
            printf(""prefix - null\n"");
            return EXIT_FAILURE;
        }

        positionPrefix = name_attach(dpp, PREFIX_POSITION, 0);

        while(true){
            rcvid = MsgReceive(positionPrefix-&gt;chid, &amp;receiveBuffer, sizeof(receiveBuffer), NULL);
            switch(receiveBuffer){
                case 'Q':
                    //Do something
                    break;
                case 'H':
                    //Do something
                    break;
                case 'D':
                    //Do something
                    break;
                case 'S':
                    //Do something
                    break;
            }
            MsgReply(rcvid, REPLY_INDEX, &amp;replyBuffer, sizeof(replyBuffer));
            receiveBuffer = 0;
        }

        return 0;
    }
</code></pre>

<p><code>name_attach ()</code> function always returns null. What could be the problem?</p>
",
44367017,how can i enable both SPI for beaglebone black in QNX,https://stackoverflow.com/questions/44367017/how-can-i-enable-both-spi-for-beaglebone-black-in-qnx,0,1496658789,"beagleboneblack, spi, qnx","<p>By default spi0 is available. It works fine.</p>

<p>Now I want both spi port works as dev/spi0 and dev/spi1.  </p>

<p>I rebuilt the image after modifying the build file.</p>

<pre><code>#######################################################################
## SPI driver
## SPI 0 ioport 0x48030100 irq 65
## SPI 1 ioport 0x481a0100 irq 125
#######################################################################
display_msg Starting SPI driver...
#  SPI0
#spi-master -d am335x base=0x48030100,irq=65,edma=1,edmairq=529,edmachannel=17
#  SPI1
# spi-master -d am335x base=0x481A0100,irq=125,edma=1,edmairq=555,edmachannel=43
spi-master -d am335x base=0x481A0100,irq=125
spi-master -u1 am335x base=0x48030100,irq=65
</code></pre>

<p>However, spi1 does not work.   only spi0 appears in the /dev folder</p>
","<p>I have figured out my problem.</p>

<p>I need to disable HDMI in order for dev/spi1 to work. What I did are the following two steps:</p>

<p>1, change build (bsp-ti-beaglebone-src/src/hardware/startup/boards/beaglebone/build) file in BSP. And rebuild the image</p>

<pre><code>#######################################################################
## SPI driver
## SPI 0 ioport 0x48030100 irq 65
## SPI 1 ioport 0x481a0100 irq 125
#######################################################################
display_msg Starting SPI driver...
spi-master -u 1 -d am335x base=0x48030100,irq=65
spi-master -d am335x base=0x481A0100,irq=125
</code></pre>

<p>2, disable hdmi by adding the following line in uEnv.txt of the sd card</p>

<pre><code>optargs=quiet capemgr.disable_partno=BB-BONELT-HDMI,BB-BONELT-HDMIN
</code></pre>

<p>If hdmi is not disabled while enabling spi1, the system crashes.</p>
"
44243385,mmap memory alignment in ARM,https://stackoverflow.com/questions/44243385/mmap-memory-alignment-in-arm,0,1496063501,"c++, arm, mmap, qnx, sigbus","<p>I'm working on a project that's being ported to ARM7 (was originally on x86). It runs on QNX. We've had a few memory alignment issues (SIGBUS error crashes) due to reading/writing with misaligned pointers. I've been fixing most alignment issues simply by replacing the pointer casting and assignment with a memcpy, but this issue I can't solve like that.</p>

<p>There's a memory pool shared between processes that's initialized like this:</p>

<pre><code>int m_nSharedMemory = shm_open(EVENT_LIST_NAME, O_RDWR | O_CREAT, 0777);
ftruncate(m_nSharedMemory, nSize)
unsigned char* m_pMemory = (unsigned char*) mmap(0, nSize, PROT_READ | PROT_WRITE, MAP_SHARED, m_nSharedMemory, 0); 
</code></pre>

<p>The memory is supposed to be used like this: there's a <code>Header</code> at the beginning of the address space and there's an <code>Event</code> array afterwards. Thus, <code>nSize = sizeof(Header) + MAX_EVENTS * sizeof(Event)</code>.</p>

<pre><code>m_pHeader = (Header*)m_pMemory;
m_pEvents = (Event*)(m_pMemory + sizeof(Header));
</code></pre>

<p>Both <code>Header</code> and <code>Event</code> are structs with primitive types. As far as I know, this memory is not aligned, so doing <code>m_pEvents[0].m_SomeField == 3</code> or <code>m_pHeader-&gt;m_SomeField = 1</code> could potentially trigger a SIGBUS error. This kind of instructions are everywhere, so replacing each one with memcpy would be a real pain, I'm hoping I can get away with something else.</p>

<p>I've found <code>posix_memalign</code> which I believe could replace either <code>shm_open</code> or <code>mmap</code>, not sure which yet, but this doesn't seem to solve the issue either. For one, I still get the warning. Even ignoring the warning, I could make sure memory is aligned to <code>sizeof(Header)</code>, but <code>m_pEvents</code> wouldn't be aligned.</p>

<p>Is there any way to prevent a SIGBUS error without making major modifications to this scheme? Right now the compiler is complaining because <code>""cast from 'unsigned char*' to 'Header*' increases required alignment of target type""</code> (there's a similar warning for <code>Event</code>), but the program is not crashing, which I really can't explain.</p>

<p>So, two questions: 1) Why doesn't it crash? 2) How do I make sure it never will, ideally by ensuring that memory is aligned and supressing the warning</p>
",
44170564,Confusion with thread synchronization [pthreads],https://stackoverflow.com/questions/44170564/confusion-with-thread-synchronization-pthreads,1,1495672859,"c, pthreads, mutex, rtos, qnx","<p>I have had a problem threads for a long time. This code is supposed to have a worker thread increment the value of a shared integer while the main thread prints it out. However, I am not getting my expected output.</p>

<pre><code>#include &lt;pthread.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;

pthread_mutex_t lock;
int shared_data = 0; //shared data


// Often shared data is more complex than just an int.
void* thread_function(void* arg)
{
    int i;
    for (i = 0; i &lt; 10; ++i)
    {
        // Access the shared data here.
        pthread_mutex_lock(&amp;lock);
        shared_data++;
        pthread_mutex_unlock(&amp;lock);
    }

    return NULL;
}

int main(void)
{
    pthread_t thread;
    int i;
    void* exit_status;
    // Initialize the mutex before trying to use it.
    pthread_mutex_init(&amp;lock, NULL);
    pthread_create(&amp;thread, NULL, thread_function, NULL);
    // Try to use the shared data.
    for (i = 0; i &lt; 10; ++i)
    {
        sleep(1);
        pthread_mutex_lock(&amp;lock);
        printf (""\r for i= %d Shared integer 's value = %d\n"", i, shared_data);
        pthread_mutex_unlock(&amp;lock);
    }
    printf(""\n"");
    pthread_join(thread, &amp;exit_status);
    // Clean up the mutex when we are finished with it.
    pthread_mutex_destroy(&amp;lock);

    return 0;
}
</code></pre>

<p>Here is what I expect: </p>

<pre><code>for i=0 Shared Integer 's value = 0
for i=1 Shared Integer 's value = 1 
for i=3 Shared Integer 's value = 2
...
for i=10 Shared Integer 's value =10
</code></pre>

<p>but the result is: </p>

<pre><code>for i=0 Shared Integer 's value = 0
for i=1 Shared Integer 's value = 10
for i=3 Shared Integer 's value = 10
...
for i=10 Shared Integer 's value =10
</code></pre>

<p>so how can i resoleve this?</p>
","<p>The main thread and your worker thread are running concurrently. That is, getting those for loops to coincide with each other perfectly is nearly impossible without extra synchronization.</p>

<p>Your output is exactly what you should expect. The time taken to spawn the thread allows the main thread to print before the other thread changes the shared data. Then, the print takes so long that the other thread completely finishes with its loop and increments the shared data to 10 before the main thread can get to its second iteration.</p>

<p><s>In a perfect world, this little hack using condition variables will get you what you want:</s>
<strong>EDIT: condition variables were a bad idea for this. Here is working version that uses pseudo atomic variables and <em>doesn't</em> contain UB :)</strong> :</p>

<pre><code>#include &lt;pthread.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;

pthread_mutex_t want_incr_mut;
pthread_mutex_t done_incr_mut;
int want_incr = 0;
int done_incr = 0;
int shared_data = 0; //shared data

// Not using atomics, so...

void wait_for_want_increment()
{
    while (1)
    {
        pthread_mutex_lock(&amp;want_incr_mut);
        if (want_incr)
        {
            pthread_mutex_unlock(&amp;want_incr_mut);
            return;
        }
        pthread_mutex_unlock(&amp;want_incr_mut);
    }
}

void wait_for_done_incrementing()
{
    while (1)
    {
        pthread_mutex_lock(&amp;done_incr_mut);
        if (done_incr)
        {
            pthread_mutex_unlock(&amp;done_incr_mut);
            return;
        }
        pthread_mutex_unlock(&amp;done_incr_mut);
    }
}


void done_incrementing()
{
    pthread_mutex_lock(&amp;done_incr_mut);

    done_incr = 1;
    pthread_mutex_lock(&amp;want_incr_mut);
    want_incr = 0;
    pthread_mutex_unlock(&amp;want_incr_mut);

    pthread_mutex_unlock(&amp;done_incr_mut);
}

void want_increment()
{
    pthread_mutex_lock(&amp;want_incr_mut);

    want_incr = 1;
    pthread_mutex_lock(&amp;done_incr_mut);
    done_incr = 0;
    pthread_mutex_unlock(&amp;done_incr_mut);

    pthread_mutex_unlock(&amp;want_incr_mut);
}

// Often shared data is more complex than just an int.
void* thread_function(void* arg)
{
    int i;
    for (i = 0; i &lt; 10; ++i)
    {
        wait_for_want_increment();
        // Access the shared data here.
        shared_data++;
        done_incrementing();
    }

    return NULL;
}

int main(void)
{
    pthread_t thread;
    int i;
    void* exit_status;

    // Initialize the mutex before trying to use it.
    pthread_mutex_init(&amp;want_incr_mut, NULL);
    pthread_mutex_init(&amp;done_incr_mut, NULL);
    pthread_create(&amp;thread, NULL, thread_function, NULL);

    // Try to use the shared data.
    for (i = 0; i &lt;= 10; ++i)
    {
        printf(""\r for i= %d Shared integer 's value = %d\n"", i, shared_data);
        if (i == 10) break;

        want_increment();
        wait_for_done_incrementing();
    }
    printf(""\n"");
    pthread_join(thread, &amp;exit_status);
    // Clean up the mutexes when we are finished with them.
    pthread_mutex_destroy(&amp;want_incr_mut);
    pthread_mutex_destroy(&amp;done_incr_mut);

    return 0;
}
</code></pre>

<p>Here, we just tell the worker that we want an increment and wait for him to say he is done before we continue. Meanwhile, the worker waits for us to want an increment and tells us when he is done.</p>

<p>I also changed the main loop to go to ten because that is what I think you want.</p>

<p>Here is my output:</p>

<pre><code>for i= 0 Shared integer 's value = 0
for i= 1 Shared integer 's value = 1
for i= 2 Shared integer 's value = 2
for i= 3 Shared integer 's value = 3
for i= 4 Shared integer 's value = 4
for i= 5 Shared integer 's value = 5
for i= 6 Shared integer 's value = 6
for i= 7 Shared integer 's value = 7
for i= 8 Shared integer 's value = 8
for i= 9 Shared integer 's value = 9
for i= 10 Shared integer 's value = 10
</code></pre>
"
43543155,How to make remotely executed pexpect spawn FULLY WAIT for a command to resolve before continuing?,https://stackoverflow.com/questions/43543155/how-to-make-remotely-executed-pexpect-spawn-fully-wait-for-a-command-to-resolve,1,1492778966,"python, linux, ssh, pexpect, qnx","<p>I am using pexpect to connect to a remote computer running QNX, upload an exectuable, run the executable, then bring results back to my local machine.  </p>

<p>My problem is this: the commands are executed fine, but I lose all logged results because the  process returns to me as soon as I execute the command to run my application (let's call it ./application), a C++ executable.  What I need to do is have the process wait until the command has completely finished running before proceeding any further.</p>

<p>I've tried utilizing proc.wait() to no avail, my best guess is that it's because the proc is the SSH session, not the process launched by running ./application.  I've tried proc.expect(""bash-username$"") and similar, only to find that the application returns immediately still.  </p>

<p>The code is fairly simple and straightforward, but it's not expecting exactly as I'd hope it would.   Here's an example of how I'm conducting the operation:</p>

<pre><code>// This section all works fine.  Establish SSH and expect Last Login info

ssh_cmd = ssh_cmd = ""ssh "" + self.user + ""@"" + self.hostname
self.proc = pexpect.spawn(ssh_cmd)
self.proc.expect(""Last login"", timeout = 5)
print(""SSH login successful!"")
self.is_connected = True

// Problems are here.  Outside scope executes a command now by calling this:
// Let's say the command here is Sleep 5.  Or an executable ./application  
//The Pexpect below SHOULD wait until it finishes executing, but it 
doesn't Sleep for 5 seconds or wait for ./application, this expect 
line returns IMMEDIATELY every time. 

def execute_command(self, command):
    if self._is_connected:
        self.proc.sendline(""command"")
        self.proc.expect(""username:/"")
</code></pre>

<p>So essentially every time that runs, it immediately continues to the next portion of code after the function executes the command, seemingly not caring about the proc.expect.  Am I utilizing this incorrectly?  How can I get the process to wait until the commands are ACTUALLY finished executing, not just send the line and return immediately?</p>
","<p>I found a solution to my own problem, utilizing the subprocess module instead of pexpect.</p>

<p>Solution is to call subprocess.Popen for SSH with a command variable as follows:</p>

<pre><code>command_as_string = '/home/user/applicationExecutable'
ssh = subprocess.Popen(['ssh', '-t', 'username@hostname',
                        command_as_string'],
                                   stderr=subprocess.PIPE,
                                   stdout=subprocess.PIPE,
                                   shell=False,
                                   universal_newlines=True,
                                   bufsize=0
                                   )
</code></pre>

<p>It will wait until the command resolves before disconnecting and continues  the rest of the Python file as expected.</p>
"
33356590,QNX MsgReceive Pulse,https://stackoverflow.com/questions/33356590/qnx-msgreceive-pulse,2,1445897751,"qnx, msg, pulse","<p>I have a problem because I don't know how _pulse receiving works. If I have my data struct</p>

<pre><code>typedef struct _my_data {
msg_header_t hdr;
int data;
} my_data_t;
</code></pre>

<p>and I am receiving only my msg I cant tell if it is a pulse</p>

<pre><code>my_data_t msg;
...
rcvid = MsgReceive(g_Attach-&gt;chid, &amp;msg, sizeof(msg), NULL);
</code></pre>

<p>when rcvid = 0 BUT how a program knows that it need to send _pulse in a form of msg (struct that I defined) or else how does it work. In addition is _IO_CONNECT a pulse? If yes why doesn't it have rcvid==0? - according to <a href=""http://www.qnx.com/developers/docs/6.3.2/neutrino/lib_ref/n/name_attach.html"" rel=""nofollow"">http://www.qnx.com/developers/docs/6.3.2/neutrino/lib_ref/n/name_attach.html</a></p>
","<p>1 - _IO_CONNECT is not used for pulse. Its used for connect system call to resource managers. Example system calls are open(), close(), etc.</p>

<p>2 - You need to know whether the server or client is waiting on pulse message or not. For pulse message the blocking function in the resource manager will be <strong>MsgReceivePulse</strong>() and the client will use <strong>MsgSendPulse</strong>(). </p>

<p><strong>MsgSend</strong>() is used for normal message and <strong>MsgSendPulse</strong>() is for sending pulse message.
Similarly <strong>MsgReceive</strong>() is used for receiving normal message and <strong>MsgReceivePulse</strong>() is used for receiving pulse messages. Please refer to the QNX documents for more detailed description.</p>

<p>Both variants have different parameters like the functions for pulse messages do not have any parameter for return data because pulses are non blocking small messages which do not block for any reply but functions for normal messages have parameters for receive data.</p>
"
42993359,TCP Server return the recieve message to all client except the sender in C,https://stackoverflow.com/questions/42993359/tcp-server-return-the-recieve-message-to-all-client-except-the-sender-in-c,0,1490338987,"c, sockets, tcp, qnx","<p>This is my code</p>

<p>Server.c</p>

<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;mqueue.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;errno.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;unistd.h&gt;

#define PORT 4444
#define BUF_SIZE 2000
#define CLADDR_LEN 100

void main() {
    struct sockaddr_in addr, cl_addr;
    int sockfd, len, ret, newsockfd,clientnumber;
    char buffer[BUF_SIZE];
    pid_t childpid;
    char clientAddr[CLADDR_LEN];


    sockfd = socket(AF_INET, SOCK_STREAM, 0);
    if (sockfd &lt; 0) {
        printf(""Error creating socket!\n"");
        exit(1);
    }
    printf(""Socket created...\n"");

    memset(&amp;addr, 0, sizeof(addr));
    addr.sin_family = AF_INET;
    addr.sin_addr.s_addr = INADDR_ANY;
    addr.sin_port = PORT;

    ret = bind(sockfd, (struct sockaddr *) &amp;addr, sizeof(addr));
    if (ret &lt; 0) {
        printf(""Error binding!\n"");
        exit(1);
    }
    printf(""Binding done...\n"");
    clientnumber = 0;
    printf(""Waiting for a connection...\n"");
    listen(sockfd, 5);

    for (;;) { //infinite loop
        len = sizeof(cl_addr);
        newsockfd = accept(sockfd, (struct sockaddr *) &amp;cl_addr, &amp;len);
        if (newsockfd &lt; 0) {
            printf(""Error accepting connection!\n"");
            exit(1);
        }
        printf(""Connection accepted...\n"");
        clientnumber++;
        inet_ntop(AF_INET, &amp;(cl_addr.sin_addr), clientAddr, CLADDR_LEN);
        if ((childpid = fork()) == 0) { //creating a child process

            close(sockfd);
            //stop listening for new connections by the main process.
            //the child will continue to listen.
            //the main process now handles the connected client.


            sprintf(buffer, ""USER%d"", clientnumber);
            ret = sendto(newsockfd, buffer, BUF_SIZE, 0, (struct sockaddr *) &amp;cl_addr, len);
            if (ret &lt; 0){
                printf(""Allocate Client number error\n"");
                exit(1);
            }else{
                printf(""Passing Client number : %d to Client Address %s ,  Newsockfd : %d ,claddr %d : \n"",clientnumber,clientAddr,newsockfd,cl_addr);

            }


            for (;;) {
                memset(buffer, 0, BUF_SIZE);
                ret = recvfrom(newsockfd, buffer, BUF_SIZE, 0, (struct sockaddr *) &amp;cl_addr, &amp;len);
                if(ret &lt; 0) {
                    printf(""Error receiving data! from %s\n"",clientAddr);
                    exit(1);
                }

                printf(""Received data from %s(%d): %s\n"", clientAddr,cl_addr.sin_addr.s_addr, buffer);


                ret = sendto(newsockfd, buffer, BUF_SIZE, 0, (struct sockaddr *) &amp;cl_addr, len);
                if (ret &lt; 0) {
                    printf(""Error sending data! to %s\n"",clientAddr);
                    exit(1);
                }
                printf(""Sent data to %s: %s   Newsockfd : %d ,claddr %d :\n"", clientAddr, buffer,newsockfd,cl_addr);

            }


        }
        close(newsockfd);
    }
}
</code></pre>

<p>Client.c</p>

<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;mqueue.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;errno.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;unistd.h&gt;



#define PORT 4444
#define BUF_SIZE 2000
#define MAX_SIZE    1024
#define MSG_STOP    ""exit""

#define CHECK(x) \
        do { \
            if (!(x)) { \
                fprintf(stderr, ""%s:%d: "", __func__, __LINE__); \
                perror(#x); \
                exit(-1); \
            } \
        } while (0) \

int createQUEUE_NAMEInSharedMemory(char * QUEUE_NAME ){
    char buffer[80], filename[200] = ""/tmp/chat.txt"";
    int fd, file_size, ret, size_written, size_read;
    void *addr;

    unlink( filename);
    fd = open( filename, O_CREAT|O_RDWR , 0777 );
    if( fd == -1) {
        perror(""open"");
        exit(EXIT_FAILURE);
    }
    size_written = write( fd, QUEUE_NAME, strlen(QUEUE_NAME) + 1 );
    if ( size_written == -1 ){
        perror(""write"");
        exit(0);
    }
    printf( ""Wrote %d bytes into file %s\n"", size_written, filename );

    lseek( fd, 0L, SEEK_SET );
    file_size = lseek( fd, 0L, SEEK_END );
    printf( ""Size of file = %d bytes\n"", file_size );

    /* Map the file into memory. */
    addr = mmap( 0, file_size, PROT_READ | PROT_WRITE , MAP_SHARED,
            fd, 0 );
    if (addr == MAP_FAILED) {
        perror(""mmap"");
        exit(EXIT_FAILURE);
    }

    /* Change the memory and synchronize it with the disk. */
    //                  memset( addr, 'B', 2 );
    //                  ret = msync( addr, file_size, MS_SYNC);
    //                  if( ret == -1) {
    //                      perror(""msync"");
    //                      exit(0);
    //                  }

    /* Close and reopen the file, and then read its contents. */
    close(fd);
    fd = open( filename, O_RDONLY);
    if( fd == -1) {
        perror(""open"");
        exit(EXIT_FAILURE);
    }
    size_read = read( fd, buffer, sizeof( buffer ) );
    printf( ""File content = %s\n"", buffer );

    close(fd);
    return EXIT_SUCCESS;
}



int main(){
    struct sockaddr_in addr, cl_addr;
    int sockfd, ret;
    char buffer[BUF_SIZE];
    struct hostent * server;
    char * serverAddr;
    char QUEUE_NAME[100];
    char * clientnumber;
    char temp[200];
    serverAddr = ""127.0.0.1"";
    printf(""Server IP Address = %s\n"",serverAddr);

    sockfd = socket(AF_INET, SOCK_STREAM, 0);
    if (sockfd &lt; 0) {
        printf(""Error creating socket!\n"");
        exit(1);
    }
    printf(""Socket created...\n"");

    memset(&amp;addr, 0, sizeof(addr));
    addr.sin_family = AF_INET;
    addr.sin_addr.s_addr = inet_addr(serverAddr);
    addr.sin_port = PORT;

    ret = connect(sockfd, (struct sockaddr *) &amp;addr, sizeof(addr));
    if (ret &lt; 0) {
        printf(""Error connecting to the server!\n"");
        exit(1);
    }
    printf(""Connected to the server...\n"");
    ret = recvfrom(sockfd, buffer, BUF_SIZE, 0, NULL, NULL);
    if (ret &lt; 0) {
        printf(""Error receiving data!\n"");
    } else {
        clientnumber = malloc(200 * sizeof(char));
        memcpy(clientnumber, buffer, strlen(buffer)+1);
        clientnumber = realloc(clientnumber, strlen(clientnumber));
        sprintf(QUEUE_NAME, ""/%s"", clientnumber);

        printf(""Received USER ID: "");
        fputs(buffer, stdout);
        printf(""\n"");

    }

    ret = createQUEUE_NAMEInSharedMemory(QUEUE_NAME);
    if(ret &lt; 0){
        printf(""Error Creating QUERE_NAME : %s !\n"",QUEUE_NAME);
    }else{
        printf(""Sending QUERE_NAME (%s) to shared memory successful!\n"",QUEUE_NAME);
        mqd_t mq;
        struct mq_attr attr;
        char buffer[MAX_SIZE + 1];
        int must_stop = 0;

        /* initialize the queue attributes */
        attr.mq_flags = 0;
        attr.mq_maxmsg = 10;
        attr.mq_msgsize = MAX_SIZE;
        attr.mq_curmsgs = 0;

        /* create the message queue */
        mq = mq_open(QUEUE_NAME, O_CREAT | O_RDWR, 0644, &amp;attr);
        CHECK((mqd_t)-1 != mq);
        printf(""Creating MSG QUERE_NAME : %s \n"",QUEUE_NAME);
        do {
            ssize_t bytes_read;

            /* receive the message */
            bytes_read = mq_receive(mq, buffer, MAX_SIZE, NULL);
            CHECK(bytes_read &gt;= 0);

            buffer[bytes_read] = '\0';
            if (! strncmp(buffer, MSG_STOP, strlen(MSG_STOP)))
            {
                must_stop = 1;
            }
            else
            {
                printf(""Received: %s\n"", buffer);
                 memcpy(temp, buffer, strlen(buffer)+1);
                sprintf(buffer, ""%s:%s"", clientnumber,temp);
                 mq_send(mq, buffer, MAX_SIZE, 0);
                ret = sendto(sockfd, buffer, BUF_SIZE, 0, (struct sockaddr *) &amp;addr, sizeof(addr));
                if (ret &lt; 0) {
                    printf(""Error sending data!\n\t-%s"", buffer);
                }

                ret = recvfrom(sockfd, buffer, BUF_SIZE, 0, NULL, NULL);
                                if (ret &lt; 0) {
                                    printf(""Error receiving data!\n"");
                                } else {
                                     mq_send(mq, buffer, MAX_SIZE, 0);
                                }


            }
        } while (!must_stop);
        printf(""STOP MSG QUERE_NAME : %s \n"",QUEUE_NAME);
        /* cleanup */
        CHECK((mqd_t)-1 != mq_close(mq));
        CHECK((mqd_t)-1 != mq_unlink(QUEUE_NAME));
    }



    //  memset(buffer, 0, BUF_SIZE);
    //  printf(""%s: "",QUEUE_NAME);

    //  while (fgets(buffer, BUF_SIZE, stdin) != NULL) {
    //          ret = sendto(sockfd, buffer, BUF_SIZE, 0, (struct sockaddr *) &amp;addr, sizeof(addr));
    //          if (ret &lt; 0) {
    //              printf(""Error sending data!\n\t-%s"", buffer);
    //          }
    //          ret = recvfrom(sockfd, buffer, BUF_SIZE, 0, NULL, NULL);
    //          if (ret &lt; 0) {
    //              printf(""Error receiving data!\n"");
    //          } else {
    //              printf(""Received: "");
    //              fputs(buffer, stdout);
    //              printf(""\n"");
    //              //printf(""Enter your message(s): "");
    //              printf(""%s: "",QUEUE_NAME);
    //          }
    //      }
    free(clientnumber);
    return 0;
}
</code></pre>

<p>Input.c</p>

<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;mqueue.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;errno.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;unistd.h&gt;

#define MAX_SIZE    1024
#define MSG_STOP    ""exit""

#define CHECK(x) \
        do { \
            if (!(x)) { \
                fprintf(stderr, ""%s:%d: "", __func__, __LINE__); \
                perror(#x); \
                exit(-1); \
            } \
        } while (0) \


char QUEUE_NAME[100];

void GetQUERENAME(){
    char buffer[80], filename[200] = ""/tmp/chat.txt"";
    int fd, file_size, ret, size_written, size_read;
    void *addr;

    fd = open( filename, O_RDONLY);
    if( fd == -1) {
        perror(""open"");
        exit(EXIT_FAILURE);
    }
    size_read = read( fd, buffer, sizeof( buffer ) );
    //printf( ""File content = %s\n"", buffer );
    memcpy(QUEUE_NAME, buffer, strlen(buffer)+1);
    //printf(""QUEUE_NAME length = %d\n"",strlen(QUEUE_NAME));
    close(fd);
}



int main(int argc, char *argv[]) {

    GetQUERENAME();
    mqd_t mq;
    char buffer[MAX_SIZE];

    /* open the mail queue */
    mq = mq_open(QUEUE_NAME, O_WRONLY);
    CHECK((mqd_t)-1 != mq);


    printf(""Send to Client QUERE_NAME : %s (enter \""exit\"" to stop it):\n"",QUEUE_NAME);

    do {
        printf(""&gt; "");
        fflush(stdout);

        memset(buffer, 0, MAX_SIZE);
        fgets(buffer, MAX_SIZE, stdin);

        /* send the message */
        CHECK(0 &lt;= mq_send(mq, buffer, MAX_SIZE, 0));

    } while (strncmp(buffer, MSG_STOP, strlen(MSG_STOP)));

    /* cleanup */
    CHECK((mqd_t)-1 != mq_close(mq));




    return EXIT_SUCCESS;
}
</code></pre>

<p>output.c</p>

<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;mqueue.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;errno.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;unistd.h&gt;

#define MAX_SIZE    1024
#define MSG_STOP    ""exit""

#define CHECK(x) \
        do { \
            if (!(x)) { \
                fprintf(stderr, ""%s:%d: "", __func__, __LINE__); \
                perror(#x); \
                exit(-1); \
            } \
        } while (0) \


char QUEUE_NAME[100];

void GetQUERENAME(){
    char buffer[80], filename[200] = ""/tmp/chat.txt"";
    int fd, file_size, ret, size_written, size_read;
    void *addr;

    fd = open( filename, O_RDONLY);
    if( fd == -1) {
        perror(""open"");
        exit(EXIT_FAILURE);
    }
    size_read = read( fd, buffer, sizeof( buffer ) );
//  printf( ""File content = %s\n"", buffer );
    memcpy(QUEUE_NAME, buffer, strlen(buffer)+1);
//  printf(""QUEUE_NAME length = %d\n"",strlen(QUEUE_NAME));
    close(fd);
}



int main(int argc, char **argv)
{
    GetQUERENAME();
    mqd_t mq;
    struct mq_attr attr;
    char buffer[MAX_SIZE + 1];
    int must_stop = 0;

    /* initialize the queue attributes */
    attr.mq_flags = 0;
    attr.mq_maxmsg = 10;
    attr.mq_msgsize = MAX_SIZE;
    attr.mq_curmsgs = 0;

    /* create the message queue */
    mq = mq_open(QUEUE_NAME, O_CREAT | O_RDONLY, 0644, &amp;attr);
    CHECK((mqd_t)-1 != mq);

    do {
        ssize_t bytes_read;

        /* receive the message */
        bytes_read = mq_receive(mq, buffer, MAX_SIZE, NULL);
        CHECK(bytes_read &gt;= 0);

        buffer[bytes_read] = '\0';
        if (! strncmp(buffer, MSG_STOP, strlen(MSG_STOP)))
        {
            must_stop = 1;
        }
        else
        {
            printf(""%s\n"", buffer);
        }
    } while (!must_stop);

    /* cleanup */
    CHECK((mqd_t)-1 != mq_close(mq));
    CHECK((mqd_t)-1 != mq_unlink(QUEUE_NAME));

    return 0;
}
</code></pre>

<p>So I try to have a server that accept client via tcp protocol. next I try to make a program like group chat. at the testing process every client it connect from the same IP address. after client connect to the server. client will can sending message to server and vice versa. at the current process it does only return message to the sender. I want to know how to act like broadcast to send the message to every client except the sender. thank for your help.</p>
",
42857600,How to use collation for pattern matching in sqlite?,https://stackoverflow.com/questions/42857600/how-to-use-collation-for-pattern-matching-in-sqlite,0,1489753769,"sqlite, qnx","<p>For example if in the sqlite database have entries Resume, R√©sum√© ,RESUME  and if we enter </p>

<blockquote>
  <p>select Name from NAME_TABLE where Name like 'Re%%'</p>
</blockquote>

<p>It should return all
But like does not support collation , any-other way to do pattern matching using collation ?</p>
",
42558856,&quot;QtCanvas3D is not installed&quot; erron on qnx target,https://stackoverflow.com/questions/42558856/qtcanvas3d-is-not-installed-erron-on-qnx-target,0,1488466924,"qt, qnx, qt3d","<p>I have complied ""frameBuffer"" canvas3D example using Qnx kit and trying to run that executable on my Qnx target but it is throwing below error:</p>

<pre><code>./framebuffer &amp;

[1] 1216519
QML debugging is enabled. Only use this in a safe environment.
QQnxScreen: QQNX_PHYSICAL_SCREEN_SIZE variable not set. Could not    determine physical screen size. Defaulting to 150x90.
qrc:/main.qml:39:1: module ""QtQuick.Controls"" is not installed
qrc:/main.qml:40:1: module ""QtQuick.Layouts"" is not installed
qrc:/main.qml:38:1: module ""QtCanvas3D"" is not installed
qrc:/main.qml:39:1: module ""QtQuick.Controls"" is not installed
qrc:/main.qml:40:1: module ""QtQuick.Layouts"" is not installed
qrc:/main.qml:38:1: module ""QtCanvas3D"" is not installed
qrc:/main.qml:39:1: module ""QtQuick.Controls"" is not installed
qrc:/main.qml:40:1: module ""QtQuick.Layouts"" is not installed
qrc:/main.qml:38:1: module ""QtCanvas3D"" is not installed
</code></pre>

<p>Can anyone suggests how to get installed these missing module. I am using Qt Crea tor 3.5.1(enterprise) licensed version.</p>
",
42535715,Debug QNX target using Ubuntu host and gdb,https://stackoverflow.com/questions/42535715/debug-qnx-target-using-ubuntu-host-and-gdb,6,1488382140,"gdb, remote-debugging, qnx, gdbserver","<p>This is a question from an absolute beginner.</p>

<p>I have a Ubuntu 14.04 host, gdb 7.7.1 installed on it and a project cross-compiled for qnx. I also have a qnx target, that I want to debug my app on. </p>

<p>The instructions on the internet tell me to use either <code>gdb</code> on PC + <code>gdbserver</code>, but I don't have gdbserver installed and I don't think I can compile gdb for qnx. I have something called <code>pdebug</code>. Instructions for qnx tell me that gdb has to have the <code>target qnx</code> command, that it clearly does not posess.</p>

<p>Here's what I've done:</p>

<pre><code># Assuming that 255.255.255.255 is the target ip and 1234 is the port
# On target
pdebug 1234

On host
gdb
gdb&gt; target remote 255.255.255.255:1234
</code></pre>

<p>Then I got a couple of warnings and the <code>gdb&gt;</code> again, as it was normal. </p>

<p>I managed to install a connection between my host and target, but when I hit <code>run</code> in gdb, it tries to run my local copy of the app, instead of running it on target.</p>
","<p>There is no way one can debug qnx apps with Ubuntu's gdb. </p>

<p>You have to use qnx's <code>gdb</code> built for the exact this purpose, that is able to run <code>target qnx</code> and many other commands you will need. You have to use qnx's <code>gdb</code> on your host and <code>pdebug</code> on your target and run the same commands you ran:</p>

<pre><code># on target
pdebug 1234

# on host
ntoarm-gdb
(gdb) file MyQnxApp
(gdb) target qnx 255.255.255.255:1234
(gdb) upload MyQnxApp /mnt/myWorkingDir/MyQnxApp
(gdb) b main
(gdb) r
</code></pre>

<p>Then you will see the info about your connection:</p>

<pre><code>Remote debugging using 255.255.255.255:1234
Remote target is &lt;your_endianness&gt;
</code></pre>

<p>See this detailed <a href=""http://www.qnx.com/developers/docs/6.4.1/neutrino/prog/using_gdb.html"" rel=""noreferrer"">instructions</a>.</p>
"
24068792,Why don&#39;t two QNX virtual machines on Windows 7 connect through QNet?,https://stackoverflow.com/questions/24068792/why-dont-two-qnx-virtual-machines-on-windows-7-connect-through-qnet,4,1401996999,"vmware, qnx, qnx-neutrino","<p>Details: two identical QNX 6.5.0 installed on VMware Player under Windows 7 on the different computers. In VMware settings network connection is bridged.</p>

<p>Each QNX can ping another. For enabling QNet I run this:</p>

<pre><code>mount -T io-pkt /lib/dll/lsm-qnet.so
</code></pre>

<p>but QNet doesn't work. On both machines in <code>/net</code> directory appears a folder for itself. But instead a folder for another QNX machine appears a damaged file with no size, owner, permissions or smth else. In file information is written ""Host is down"" or sometimes ""No route to host"".</p>

<p>P.S. I already turned off any antiviruses and all that.</p>
",
42055147,libmodbus cross compilation for qnx6.6.0 target,https://stackoverflow.com/questions/42055147/libmodbus-cross-compilation-for-qnx6-6-0-target,1,1486316091,"modbus, qnx, momentics","<p>I have installed qnx6.6.0 as a guest system in VMware workstation 12.
<a href=""https://i.sstatic.net/aLPxD.png"" rel=""nofollow noreferrer"">Picture 1. qnx6.6.0 in VMware</a></p>

<p>Qnx6.6.0 operating system does not have any self-hosting abilities. Thus I use QNX Momentics IDE to cross compile binaries.</p>

<p>In my project I need to link extra libraries libmodbus. I am not able to compile in proper way libmodbus (version 3.0.6). I tried to do it in two ways:</p>

<p>-compile libmodbus in MinGW program(./configure &amp;&amp; make), but in the result I got libmodbus.dll. </p>

<p>-compile in Ubuntu OS(./configure &amp;&amp; make). In result I got libmodbus.so.5.0.5.</p>

<p>Both binaries are not possible to link into qnx project in Momentics IDE. I assume that the libmodbus compilation process, which I did is not correct. What should I put in arguments to script ./configure ? Is it possible to compile this dynamic library in Windows or Ubuntu system in order to ensure linking to QNX binary?</p>
",
41495337,Where can I get netpacket/packet.h file for QNX neutrino?,https://stackoverflow.com/questions/41495337/where-can-i-get-netpacket-packet-h-file-for-qnx-neutrino,1,1483653010,qnx,"<p>I am trying to build a library to use SOEM on QNX.  However, when I go to build, I get the following error:</p>

<blockquote>
  <p>Installing the build libraries<br>
  Scanning dependencies of target soem<br>
  [ 4%] Building C object CMakeFiles/soem.dir/C_/SOEM-master/oshw/linux/nicdrv.c.o<br>
  <strong>C:/SOEM-master/oshw/linux/nicdrv.c:80:30: fatal error: netpacket/packet.h: No such file or directory</strong><br>
  compilation terminated.</p>
</blockquote>

<p>I have found packet.h files but none of them seem to be right for this build. I am not having any luck blindly searching on google for it. It is not in my build of QNX itself, so I am not sure if it even exists. 
What is the best way to search for it? Where could I possibly find it?  </p>
","<p>netpacket/packet.h does not exist for QNX.</p>

<p>Apparently there is a lot more than just 1 different header file for building for QNX compared to the Linux build I was trying to use.  One of my coworkers had already spent time to convert from Linux build to QNX build.  So I just used what they created. </p>
"
41901817,"GCC .obj file output is not deterministic (.debug_info, PROGBITS section)",https://stackoverflow.com/questions/41901817/gcc-obj-file-output-is-not-deterministic-debug-info-progbits-section,5,1485546137,"c++, gcc, boost, qnx, qcc","<p>My compile command is<br>
<code>C:\work\PROJ-test\QNX_SDK\host\win32\x86/usr/bin/qcc -c -Wc,-frandom-seed=""sadfsasafssadsa"" -Wc,-MP,-MT,C:/work/PROJ-test/N_Manag/src/bld/N_Manag//armle-v7/release/nav_event_rcv.cpp.o,-MMD,C:/work/PROJ-test/N_Manag/src/bld/N_Manag//armle-v7/release/nav_event_rcv.cpp.d -Vgcc_ntoarmv7le -w9 -shared  -O3  -ggdb3 -DBUILD_VERSION= -DPASLOGOPTIONS=0x02 -DPASLOGAPPZONES=31,23,30,9,8,3 -DNS1_5PORT -DBOARD_TYPE=PRODUCTION     C:/work/PROJ-test/N_Manag/src/nav_event_rcv.cpp -o C:/work/PROJ-test/N_Manag/src/bld/N_Manag//armle-v7/release/nav_event_rcv.cpp.o</code></p>

<p>When I run this command twice in a row, the two <code>.obj</code> files are different and not just a few bytes from a timestamp.</p>

<p>We're switching build systems so we want our builds to be binary compatible. The vast majority of my object files are binary identical. A few that use the <code>__DATE__</code> and <code>__TIME__</code> macros are different by a few bytes but this one is wildly different!</p>

<p>I used an elf-dump utility and found the section that is wildly different between two compiles is this</p>

<pre><code>  [544] .debug_info
       PROGBITS        00000000 047d70 1021ed 00   0   0  1
       [00000000]: 
</code></pre>

<p>But I don't know what <code>PROGBITS</code> contains and why it contains different items for consective compiles. <a href=""https://www.tortall.net/projects/yasm/manual/html/objfmt-elf-section.html"" rel=""nofollow noreferrer"">This site</a> just states that <code>PROGBITS</code> is an attribute but not what it indicates (and why it'd be different for consecutive compiles).</p>

<p><strong>QUESTION</strong></p>

<p>How do I make the generation of the <code>.obj</code> binary deterministic ?</p>

<p><strong>THOUGHTS</strong></p>

<p>Somehow, the code being compiled is actually modifying the <code>.debug_info</code> section of the <code>.obj</code>. This <code>.cpp</code> uses a bunch of boost libraries; is it possible that's the cause?</p>

<p><strong>UPDATE</strong></p>

<p>I looked at the assembly files being generated and they are different. Makes sense that the resulting <code>.obj</code>s would be different.<br>
Still doesn't make sense why this is happening.</p>

<p><strong>UPDATE</strong>
The <code>qcc</code> command above is not the actual compiler command executed: <code>qcc</code> is a compiler ""redirector"" in that it will call the one that matches the <code>-V</code> argument.
The ""real"" compiler call is this:</p>

<p><code>C:/work/Proj/QNX_SDK/host/win32/x86/usr/lib/gcc/arm-unknown-nto-qnx6.5.0eabi/4.4.2/cc1plus -Wall -O3 -ggdb3 -DBUILD_VERSION= -DPASLOGOPTIONS=0x02 -DPASLOGAPPZONES=31,23,30,9,8,3 -DNS1_5PORT -DBOARD_TYPE=PRODUCTION  -quiet -fno-builtin -fpic -march=armv7-a -mfloat-abi=softfp -mfpu=vfpv3-d16 -mlittle-endian -nostdinc -nostdinc++ -D__cplusplus -D__QNX__ -D__QNXNTO__ -D__GNUC__=4 -D__GNUC_MINOR__=4 -D__GNUC_PATCHLEVEL__=2 -D__NO_INLINE__ -D__DEPRECATED -D__EXCEPTIONS -D__unix__ -D__unix -D__ELF__ -fpic -DPIC=1 -D__ARM__ -D__arm__ -march=armv7-a -mfpu=vfpv3-d16 -mfloat-abi=softfp -D__LITTLEENDIAN__ -D__ARMEL__ -U__ARMEB__ -frandom-seed=sadfsasafssadsa -MP -MT C:/work/Proj/N_Manag/src/bld/N_Manag//armle-v7/release/nav_event_rcv.cpp.o -MMD C:/work/Proj/N_Manag/src/bld/N_Manag//armle-v7/release/nav_event_rcv.cpp.d -isystem C:/work/Proj/QNX_SDK/target/qnx6/usr/include -isystem C:/work/Proj/QNX_SDK/host/win32/x86/usr/lib/gcc/arm-unknown-nto-qnx6.5.0eabi/4.4.2/include -isystem C:/work/Proj/QNX_SDK/target/qnx6/usr/include/cpp/c -isystem C:/work/Proj/QNX_SDK/target/qnx6/usr/include/cpp C:/work/Proj/N_Manag/src/nav_event_rcv.cpp -dumpbase C:/work/Proj/N_Manag/src/nav_event_rcv.cpp -o C:\work\Proj\nav_event_rcv.s</code></p>

<p><strong>UPDATE</strong></p>

<p>I think it'd be worthwhile to look at the <code>.s</code> assembly output since there are major differences there.</p>

<p>Remember, I'm using <code>-frandom-seed</code>.</p>

<p>The <code>.s</code> file is 1.05mil lines and it's at line ~900k that the differences start.</p>

<p>Left:  </p>

<blockquote>
  <p>.LASF17345:<br>
  .ascii    ""_ZN5boost6detail7variant21make_initializer_node5app""<br>
  .ascii    ""lyINS_3mpl4pairINS3_INS5_INS3_INS5_INS3_INS5_INS3_I""<br>
  .ascii    ""NS5_INS3_INS5_INS3_INS5_INS3_INS5_INS3_INS5_INS3_IN""<br>
  .ascii    ""S5_INS3_INS5_INS3_INS5_INS3_INS5_INS3_INS5_INS3_INS""<br>
  .ascii    ""5_INS3_INS5_INS3_INS5_INS3_INS5_INS3_INS5_INS1_16in""<br>
  .ascii    ""itializer_rootEN4mpl_4int_ILi0EEEEENS4_6l_iterINS4_""<br>
  ...</p>
</blockquote>

<p>Right:  </p>

<blockquote>
  <p>.LASF17764:<br>
  .ascii  ""_ZNKSt8numpunctIcE13decimal_pointEv\000""<br>
  .LASF10304:<br>
  .ascii    ""cAlpha0\000""<br>
  .LASF10222:<br>
  .ascii    ""usWeek\000""<br>
  .LASF14117:<br>
  .ascii    ""_ZN5boost10shared_ptrI27TnRespTravelEstimationEvent""<br>
  .ascii    ""EaSERKS2_\000""<br>
  ...</p>
</blockquote>

<p>It goes on for several hundred bytes.</p>

<p>Now that I examine my beyond compare closely, all the difference sections are due to <code>boost::detail::variant::make_initializer_node</code>. Does that boost function generate different code each time?</p>

<p><strong>RESOLUTION</strong></p>

<p>Turns out it's a <code>gcc</code> bug. I compiled my <code>.cpp</code> with all permutations of <code>-O&lt;X&gt; -ggdb&lt;Y&gt;</code> and for Y>=2, the assembly files <code>.s</code> and the objects <code>.obj</code> are non-deterministic.</p>

<p>I found <a href=""https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65015"" rel=""nofollow noreferrer"">a gcc bug</a> that describes this issue.</p>

<hr>

<p>I had to delete the other post for . . . reasons.</p>
","<h2>Causes for non-determinism</h2>

<p>The usual culprits are the macros <code>__DATE__</code>, <code>__TIME__</code>, <code>__TIMESTAMP__</code> which the compiler expands to values calculated from the system time.</p>

<p>One possibility is that the debug info generated for the binary is written in a non-deterministic manner. This could happen, for example, when the in-memory layout of the debug info in the compiler process is not deterministic. I don't know the internals of GCC. But I guess something like this can happen when</p>

<ul>
<li>using <a href=""https://www.chromium.org/developers/testing/isolated-testing/deterministic-builds#TOC-Toolset-and-infrastructure-induced-non-determinism"" rel=""nofollow noreferrer"">random GUIDs</a> in debug information output,</li>
<li>using <a href=""http://blog.mindfab.net/2013/12/on-way-to-deterministic-binariy-gcc.html"" rel=""nofollow noreferrer"">mangling of symbols in anonymous namespaces</a>, or</li>
<li>serializing a hashmap where the key is a pointer to memory, sequentially.</li>
</ul>

<p>The latter source of non-determinism is usually considered to be a bug in the compiler (e.g. <a href=""https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65015"" rel=""nofollow noreferrer"">GCC PR65015</a>)</p>

<h2>Mitigation</h2>

<p>To force reproducible expansions of the <code>__DATE__</code>, <code>__TIME__</code> and <code>__TIMESTAMP__</code> macros, one has to emulate and fake the system time (e.g. by using <a href=""https://github.com/wolfcw/libfaketime"" rel=""nofollow noreferrer"">libfaketime/faketime</a>) to the compiler. The <code>-Wdate-time</code> command-line option to GCC can be used to warn whenever these predefined macros are used.</p>

<p>To force reproducible ""randomness"" for GUIDs and mangling, you could try to compile with <code>-frandom-seed=&lt;somestring&gt;</code> where <code>&lt;somestring&gt;</code> is a unique string for your build (e.g. the hash of the contents of the source file you're compiling should do it).</p>

<p>Alternatively you can try to compile without debug information (e.g. without the <code>-ggdb</code> etc flags) or use some strip tool to remove the debug information section later.</p>

<h2>See also</h2>

<ul>
<li><a href=""https://wiki.debian.org/ReproducibleBuilds/About"" rel=""nofollow noreferrer"">https://wiki.debian.org/ReproducibleBuilds/About</a></li>
<li><a href=""https://stackoverflow.com/q/14653874/3919155"">How to produce deterministic binary output with g++? - Stack Overflow</a></li>
</ul>
"
41453907,how to run valgrind with qnx binaries,https://stackoverflow.com/questions/41453907/how-to-run-valgrind-with-qnx-binaries,5,1483485881,"arm, valgrind, qnx","<p>I picked up a valgrind banary for qnx 6.5 and was able to run the qnx binary on a sample program as below :</p>

<pre><code># /usr/valgrind/x86/usr/bin/valgrind        
valgrind: no program specified
valgrind: Use --help for more information.

# /usr/valgrind/x86/usr/bin/valgrind --version
valgrind-3.10.1
# /usr/valgrind/x86/usr/bin/valgrind --tool=memcheck
valgrind: no program specified
valgrind: Use --help for more information.
# /usr/valgrind/x86/usr/bin/valgrind --tool=memcheck ls
==6332450== Memcheck, a memory error detector
==6332450== Copyright (C) 2002-2013, and GNU GPL'd, by Julian Seward et al.
==6332450== Using Valgrind-3.10.1 and LibVEX; rerun with -h for copyright info
==6332450== Command: ls
==6332450== 
==6332450== 
==6332450== 
==6332450== Valgrind is exiting:
==6332450==   Symbols for /proc/boot/libc.so.3 are required but not found.
==6332450==   (Suggestion: compile that binary with debug-information, or provide a separate symbol-file.)
==6332450== 
==6332450==
</code></pre>

<p>But while to run the same binary with a arm binary(code compiled on arm processor) its throwing the below error :</p>

<pre><code># /usr/valgrind1/x86/usr/bin/valgrind /usr/bt 
</code></pre>

<p>(here bt is the binary compiled with arm)                                                           </p>

<p>valgrind: executable is not for this architecture</p>

<p>Note : /usr/valgrind_arm/valgrind/bin/valgrind ls
/usr/valgrind_arm/valgrind/bin/valgrind[1]: syntax error: `^A√ú$O4T^H' unexpected</p>

<p>Any suggestion or response will be highly appreciated .</p>
",
41108190,Cross compile perl for QNX 6.6.0 armle v7,https://stackoverflow.com/questions/41108190/cross-compile-perl-for-qnx-6-6-0-armle-v7,3,1481571194,"linux, perl, compilation, cross-compiling, qnx","<p>I'm trying to cross compile perl 5.24  using following method since the target machine does not have ssh installed.
<a href=""https://github.com/arsv/perl-cross"" rel=""nofollow noreferrer"">https://github.com/arsv/perl-cross</a></p>

<p>Just for Fyi, my local machine is ubuntu x86_64 GNU/Linux.</p>

<p>I configure the toolchain with the following option:</p>

<p>./configure -Dsysroot=$QNX_TARGET -Dcc=ntoarmv7-gcc -Dtargetarch=armle -Dprefix=$HOME/localperl -Duseshrplib</p>

<p>The reason I think the above scripts worked just fine because it generates the makefile with the following message:</p>

<pre><code>Generating config.h
Extracting config.h (with variable substitutions)
Generating Makefile.config
Configuration completed for native build

        platform:  x86_64-
      c compiler:  ntoarmv7-gcc
              ld:  ntoarmv7-gcc
              ar:  ar
          ranlib:  ranlib
</code></pre>

<p>when i run the make -j4 option i end up getting either of the following 2 results:</p>

<pre><code>./generate_uudmap uudmap.h bitcount.h mg_data.h
./generate_uudmap: 1: ./generate_uudmap: Syntax error: word unexpected (expecting "")"")
make: *** [uudmap.h] Error 2
</code></pre>

<p>OR</p>

<pre><code>cp -f op.c opmini.c
cp -f perl.c perlmini.c
cp -f ext/re/re.pm lib/re.pm
sh cflags.SH
cp -f dist/ExtUtils-ParseXS/lib/ExtUtils/xsubpp lib/ExtUtils/xsubpp
ntoarmv7-gcc -DPERL_CORE --sysroot=/opt/qnx650/target/qnx6 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  -fPIC -Wno-unused-function -c -o op.o op.c
./miniperl_top lib/unicore/mktables -w -C lib/unicore -P pod -maketest -makelist -p
./miniperl_top: no ./miniperl found; build it before using miniperl_top
make: *** [lib/unicore/CombiningClass.pl] Error 1
</code></pre>

<p>I couldn't find much info on how to resolve the above issues. Could it be because i have not provided correct setting options for ./configure ?? If so, can you provide more insight on this.</p>

<p>EDIT:</p>

<p>It looks like i was passing the wrong information to ./configure script (it was considering it as the native rather than cross), I updated it with the following and was able to make bit of progress.</p>

<pre><code>./configure -Dsysroot=/opt/qnx6 -Dcc=arm-unknown-nto-qnx6.6.0eabi-gcc --target-tools-prefix=arm-unknown-nto-qnx6.6.0eabi- --target=arm-unknown-nto-qnx6.6.0eabi  --host=arm-unknown-nto-qnx6.6.0eabi -Dprefix=$HOME/localperl
</code></pre>

<p>with this, the configuration was successfull for the cross platform. Now when I perform the make, it runs fine for a bit and I run it following error</p>

<pre><code>arm-unknown-nto-qnx6.6.0eabi-ar cru libperl.a op.o perl.o gv.o toke.o perly.o pad.o regcomp.o dump.o dquote.o util.o mg.o reentr.o mro_core.o hv.o av.o run.o pp_hot.o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.o taint.o deb.o universal.o globals.o perlio.o perlapi.o numeric.o mathoms.o locale.o pp_pack.o pp_sort.o keywords.o caretx.o time64.o DynaLoader.o
arm-unknown-nto-qnx6.6.0eabi-ranlib libperl.a
./miniperl_top statars  &gt; static.list
./miniperl_top extlibs  &gt; ext.libs
 arm-unknown-nto-qnx6.6.0eabi-gcc -DPERL_CORE --sysroot=/opt/qnx6 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  -c -o perlmain.o perlmain.c

arm-unknown-nto-qnx6.6.0eabi-gcc --sysroot=/opt/qnx6 -Wl,-E -o perl perlmain.o libperl.a   
libperl.a(pp.o): In function `Perl_pp_crypt':
pp.c:(.text+0xffd8): warning: The 'crypt' function has been deprecated in libc. Link against liblogin for extended algorithm support.
libperl.a(toke.o): In function `Perl_scan_num':
toke.c:(.text+0x27b82): undefined reference to `pow'
libperl.a(util.o): In function `Perl_drand48_r':
util.c:(.text+0xa36e): undefined reference to `ldexp'
libperl.a(sv.o): In function `S_hextract':
sv.c:(.text+0x13ca0): undefined reference to `frexp'
libperl.a(sv.o): In function `Perl_sv_vcatpvfn_flags':
sv.c:(.text+0x16cc0): undefined reference to `frexp'
libperl.a(time64.o): In function `Perl_gmtime64_r':
time64.c:(.text+0x338c): undefined reference to `fmod'
.
.
time64.c:(.text+0x359c): undefined reference to `floor'
time64.c:(.text+0x37e6): undefined reference to `ceil'
collect2: error: ld returned 1 exit status
make: *** [perl] Error 1
</code></pre>
",
41271320,Cross compiling gcc 6.2 for QNX,https://stackoverflow.com/questions/41271320/cross-compiling-gcc-6-2-for-qnx,2,1482351868,"linux, gcc, cross-compiling, qnx","<p>I'm trying to cross compile GCC or clang for qnx and I am not able to find any good set of instructions that explain cross compiling to other operating systems. I already have access to qnx and a GCC compiler version 4.7 for the target. </p>

<p>I've tried reading <a href=""http://preshing.com/20141119/how-to-build-a-gcc-cross-compiler/"" rel=""nofollow noreferrer"">http://preshing.com/20141119/how-to-build-a-gcc-cross-compiler/</a> and wasn't successful. I keep running into this error:</p>

<pre><code>checking dynamic linker characteristics... ldqnx.so
checking how to hardcode library paths into programs... immediate
checking for shl_load... configure: error: Link tests are not allowed after GCC_NO_EXECUTABLES.
Makefile:11454: recipe for target 'configure-target-libstdc++-v3' failed
make[1]: *** [configure-target-libstdc++-v3] Error 1
</code></pre>

<p>I want to compile the latest stable GCC. The host machine is an x86_64 linux. The target is i486-pc-nto-qnx6.6.0. Any ideas?</p>
",
40776851,InterruptAttach fails on am3352x irq number 97 for bank 0B,https://stackoverflow.com/questions/40776851/interruptattach-fails-on-am3352x-irq-number-97-for-bank-0b,0,1479951861,"interrupt, interrupt-handling, qnx, qnx-neutrino, blackberry-qnx","<p>I am trying to attach an <em>IRQ handler</em> to a <em>gpio bank 0</em> i.e <code>0B irq no 97</code>.</p>

<p>At the present moment, my implementation returns with <code>-1</code>. What am I doing wrong? It would be a very simple issue to implement.</p>

<pre><code>#include &lt;stdio.h&gt;                                                              
#include &lt;unistd.h&gt;                                                             
#include ""gpio.h""
#include &lt;sys/neutrino.h&gt;                                                       
#include ""interrupt.h""                                                          
volatile unsigned int gpio0_irq_count;                                          

static const struct sigevent * gpio0_irq_handler (void *gpio, int id){      
    gpio0_irq_count++;
    return NULL;
}

int main(){
    int ret;
    unsigned long count=0;
    ret = InterruptAttach(97, gpio0_irq_handler, NULL,0,_NTO_INTR_FLAGS_TRK_MSK);
    printf(""%s: Registering handler for irq %d result = %d\n"",__func__ , 97, ret);
    if (ret)
        return -1;
    while(1){
        printf(""%s:[%lu] : gpio0_irq_count = %d\n"", __func__, count++, gpio0_irq_count);
        sleep(2);
    }
}
</code></pre>

<p>The erroneous output is:</p>

<pre><code>main: Registering handler for irq 97 result = -1
</code></pre>
","<p>After much back and forth with QNX, it turns out that a process requesting InterruptAttach() or InterruptAttach_r() needs elevated permissions acquired through</p>

<pre><code>ThreadCtl( _NTO_TCTL_IO, 0 );
</code></pre>

<p>Once that is executed the API's work. However, one must still configure the gpio registers to actually fire the interrupt.</p>

<pre><code>GPIO_OE
GPIO_STATUS
GPIO_STATUS_SET
GPIO_CTRL
GPIO_RISINGDETECT
</code></pre>
"
37703499,Default scheduling policy and priority of new QNX process/thread,https://stackoverflow.com/questions/37703499/default-scheduling-policy-and-priority-of-new-qnx-process-thread,1,1465391487,"multithreading, qnx, qnx-neutrino","<p>The QNX documentation says a new thread inherits the scheduling policy and priority from the parent thread it was started from.</p>

<p>What if I start a new process from shell or from an init-script? Where does the scheduling policy and priority of the new process/thread come from?</p>
","<p>The <strong>priority</strong> of the new process will be set to <code>10</code>. This is described by QNX at the following <a href=""http://www.qnx.com/developers/articles/article_295_1.html"" rel=""nofollow noreferrer"">link</a>:</p>

<blockquote>
  <p>Under QNX Neutrino, processes will run at priority 10 by default.  So when you open a terminal and run a program, unless it takes steps to modify it's priority, it will be running at priority 10.</p>
</blockquote>

<p>The <strong>scheduling policy</strong> instead will be set to the <code>Adaptive scheduling</code> until you will change it. I found this information in two different links ( <a href=""http://www.qnx.com/developers/docs/qnx_4.25_docs/qnx4/sysarch/microkernel.html"" rel=""nofollow noreferrer"">QNX doc</a> and <a href=""http://mazsola.iit.uni-miskolc.hu/tempus/parallel/doc/drotos/rtos/microkernel/schedul.html"" rel=""nofollow noreferrer"">Tempus documentation</a>). In particular the QNX documentation reports:</p>

<blockquote>
  <p>Adaptive scheduling is the default scheduling method for programs created by the Shell.</p>
</blockquote>
"
40463670,How to use Windows SDK in Qt 5.7?,https://stackoverflow.com/questions/40463670/how-to-use-windows-sdk-in-qt-5-7,0,1478516791,"c++, visual-studio, qt, bluetooth, qnx","<p>I have been trying to use the Windows SDK inside QT creator with QT 5.7.</p>

<p>I'm trying to use the Bluetooth LE API-s, which are not supported in QT.</p>

<p>I have also installed Visual Studio 2015 for the headers and libs for Windows.Devices.Bluetooth.Advertisement.h</p>

<p>I added to the .pro file</p>

<pre><code>INCLUDEPATH += ""C:\Program Files (x86)\Windows Kits\10\Include\10.0.14393.0\winrt""
LIBS += -L""C:\Program Files (x86)\Windows Kits\10\Lib""
LIBS += -L""C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\lib""
</code></pre>

<p>but now when I try to build I get 8000 issues, for example:</p>

<pre><code>C:\Program Files (x86)\Windows Kits\10\Include\10.0.14393.0\winrt\Windows.Foundation.h:9149: error: use of enum 'PropertyType' without previous declaration
         typedef enum PropertyType PropertyType;
                      ^
</code></pre>

<p>I tried to install qt addon for visual studio 2015 but it did not show up..</p>

<p>How to get Microsoft SDK working with QT?</p>
","<p>I had installed QT with miniGW compiler, but I needed to use the MSVC compiler to make the errors disappear.</p>
"
40450038,Equivalent of ENDIAN_BE16() function for Ubunu,https://stackoverflow.com/questions/40450038/equivalent-of-endian-be16-function-for-ubunu,1,1478440066,"c, linux, ubuntu, qnx, qnx-neutrino","<p>What is the exact equivalent of the following function for Ubuntu?</p>

<p><a href=""http://www.qnx.com/developers/docs/6.4.1/neutrino/lib_ref/e/endian_be16.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/6.4.1/neutrino/lib_ref/e/endian_be16.html</a></p>
","<p>What you need is:</p>

<pre><code>#include &lt;endian.h&gt;

result_in_host_endianness = be16toh(my_big_endian_number)
</code></pre>

<p>See <a href=""http://man7.org/linux/man-pages/man3/endian.3.html"" rel=""nofollow noreferrer"">http://man7.org/linux/man-pages/man3/endian.3.html</a></p>
"
26265327,How to get the QNX Kernel source code?,https://stackoverflow.com/questions/26265327/how-to-get-the-qnx-kernel-source-code,2,1412798192,"svn, qnx, qnx-neutrino","<p>I'm wondering how could I fetch the latest version of QNX kernel source code? I've tried the following command:</p>

<pre><code>svn checkout --username &lt;username&gt; http://community.qnx.com/svn/repos/coreos_pub/trunk
</code></pre>

<p>while replacing  with my email address I can login <a href=""http://www.qnx.com/account/login.html"" rel=""nofollow"">QNX Developer Community</a> but it seems I don't have access. Can anyone help me with that?</p>
","<p>I think the answer to that question might be that you cannot get it that way. Quoting Wikipedia:</p>

<p>""On April 9, 2010, Research In Motion announced they would acquire QNX Software Systems from Harman International Industries.[1] On the same day, <strong>QNX source code access was restricted</strong>.[10] In September 2010, the company announced a tablet computer, the BlackBerry PlayBook, and a new operating system BlackBerry Tablet OS based on QNX to run on the tablet.[11]""</p>

<p>Also: <a href=""http://community.qnx.com/sf/wiki/do/viewPage/projects.community/wiki/UpdatedQNXSourceAccessPolicyFAQ"" rel=""nofollow"">link</a></p>
"
40086000,How to add passwd command to system builder project?,https://stackoverflow.com/questions/40086000/how-to-add-passwd-command-to-system-builder-project,0,1476706060,"linux, configuration, qnx, qnx-neutrino, momentics","<p>I have a system builder project to make a QNX OS image that needs to be accomplished. The problem is it is not currently supporting passwd command. I mean when I write the image and try <strong>passwd root</strong> command, I get this output:</p>

<pre><code>/bin/passwd[1]: root::0:0:Superuser:/root:/bin/sh: cannot execute - No such file or directory
/bin/passwd[2]: bin:x:1:1:Binaries: cannot execute - No such file or directory
/bin/passwd[3]: daemon:x:2:2:System: cannot execute - No such file or directory
/bin/passwd[4]: mail:x:8:40:User: cannot execute - No such file or directory
/bin/passwd[5]: news:x:9:50:Network: cannot execute - No such file or directory
/bin/passwd[6]: uucp:x:12:60:Network: cannot execute - No such file or directory
/bin/passwd[7]: ftp:x:14:80:FTP: cannot execute - No such file or directory
/bin/passwd[9]: nobody:x:99:99:Nobody:/:: cannot execute - No such file or directory
</code></pre>

<p>I have already added passwd binary to <strong>Binaries</strong> part of the project but the problem is not solved. I am new to image building concepts. What steps should I take?</p>
","<p>It was all an unwanted override! In my overrides folder I had a <strong>passwd</strong> (the one that usually sits in etc folder) which was replacing the binary in <strong>/bin</strong> folder and causing the problem.</p>
"
40127928,scope of boost allocators: scratchpad for e.g. a frame or also long-lived?,https://stackoverflow.com/questions/40127928/scope-of-boost-allocators-scratchpad-for-e-g-a-frame-or-also-long-lived,1,1476870817,"c++, linux, memory-management, boost, qnx","<p>I'm writing an application for the platform QNX. Deallocations there seem to be really slow. Even instructing the system to never release memory back to the kernel won't help much. It's faster, but still stays quite some time in the system (i.e. inside the call to C++'s delete). </p>

<p>I thought I could apply custom allocators to help reduce this stall.
I wrote a test where my use case is depicted: <a href=""http://pastebin.com/x23aB8uj"" rel=""nofollow"">http://pastebin.com/x23aB8uj</a></p>

<p>The output on my linux laptop is this:</p>

<pre><code>Running test_alloc ...
test_alloc took: 1.07227 ms.
Running dealloc ...
dealloc took: 0.0358887 ms.
Running test_custom_alloc_pool_1 ...
test_custom_alloc_pool_1 took: 1.70239 ms.
Running dealloc ...
dealloc took: 91.7312 ms.
Running test_custom_alloc_pool_2 ...
test_custom_alloc_pool_2 took: 0.78833 ms.
Running dealloc ...
dealloc took: 95.5864 ms.
</code></pre>

<p>That means, for a single deallocation almost a millisecond is needed (on my laptop. On QNX it's a couple of milliseconds).</p>

<p>In the example of <code>boost::singleton_pool</code> (<a href=""http://www.boost.org/doc/libs/1_62_0/libs/pool/doc/html/boost_pool/pool/interfaces.html#boost_pool.pool.interfaces.interfaces.singleton_pool"" rel=""nofollow"">link</a>) after the malloc is stated:</p>

<p><em>Do something with t; don't take the time to free() it.</em></p>

<p>Does that mean my use-case just does not apply to the usage of these allocators, i.e. they should be used more for a temporary scratch-pad where you seldomly destroy objects?</p>
",
40107704,Inserting header file during compile time,https://stackoverflow.com/questions/40107704/inserting-header-file-during-compile-time,0,1476792021,"gcc, qnx, qnx-neutrino, blackberry-qnx","<p>I'm trying to compile a library but some macros are missing. I want to add these macros, which are located in a header file, during compile time. gcc has an <code>include</code> option like below:</p>

<pre><code>gcc  ...  -include &lt;macros.h&gt; ...
</code></pre>

<p>How could I achieve this in QNX? I couldn't find an <em>qcc</em> option to add header file.</p>
","<p>In case you would like to define a path to the headers file to include, you have to use the <code>-I</code> option by defining where the header files are located:</p>

<pre><code>qcc ... -I&lt;&lt;path_to_header_files&gt;&gt; ...
</code></pre>

<p>Otherwise, in case you don't want to insert the <code>#include</code> directive in every file that uses the macros defined in a specific header file, you can use the following compiler option:</p>

<pre><code>qcc -Wp, -include&lt;&lt;path_to_header_file/file.h&gt;&gt; ...
</code></pre>

<p>In this way you are telling to the compiler that during the preprocessing phase (<code>-Wp</code>) it has to include the header file specified after the <code>-include</code> argument.</p>
"
40088206,Why creating a file in etc folder is not allowed?,https://stackoverflow.com/questions/40088206/why-creating-a-file-in-etc-folder-is-not-allowed,0,1476712211,"configuration, qnx, momentics","<p>I have a system builder project to make a QNX OS image that needs to be accomplished. The problem is I can't create files or folders in <strong>etc</strong> folder. When I try to do that I get ""<em>folder creation error! reason: function not implemented</em>"" or ""<em>no such file or directory</em>"". 
I haven't build this myself. Where should I look for to solve it? etc permission is  777.</p>
",
39983643,Share data between two indexpendent processes in C,https://stackoverflow.com/questions/39983643/share-data-between-two-indexpendent-processes-in-c,2,1476208677,"c, process, posix, qnx","<p>How do I share data (struct) between two independent(no fork) processes. What I want to do is basically something like this:</p>

<pre><code>process1:

Server(PID-399341): Waiting for input....
</code></pre>

<p>then in another terminal </p>

<pre><code>process2:

Enter server process:

399341

Enter a string:

Hello
</code></pre>

<p>finally</p>

<pre><code>process1:

""Hello"" has been entered. 
</code></pre>

<p>System is QNX/POSIX. What are my options to do this? </p>

<p>Thanks!</p>
","<p>It can be easily achieved by using named pipe (FIFO).
Just choose the name of the FIFO same as your PID.
Here's a working code for server and client.</p>

<p>server.c</p>

<pre><code>    int fd;
    char buf[10], rdbuf[50];

    sprintf(buf,""%d"",getpid());

    if(mkfifo(buf,0660) == -1)
            perror(""mkfifo"");

    printf(""Server(PID-%d): Waiting for input..\n"",getpid());

    fd = open(buf,O_RDONLY);

    read(fd, rdbuf, 50);

    printf(""%s has been entered\n"",rdbuf);

    close(fd);

    return 0;
</code></pre>

<p>client.c</p>

<pre><code>    int fd;
    char wrbuf[50], buf[10];

    printf(""Enter server process: "");
    scanf(""%s"",buf);
    getchar();

    fd = open(buf,O_WRONLY);

    printf(""Enter message\n"");

    gets(wrbuf);

    write(fd, wrbuf, strlen(wrbuf)+1);
</code></pre>

<p>I think same can be done with message queue and shared mem segment by making the key value same as PID. But I am not sure.</p>
"
39916423,Memory mapping behaviour in QNX,https://stackoverflow.com/questions/39916423/memory-mapping-behaviour-in-qnx,3,1475668210,qnx,"<p>I‚Äôm working on porting our text to speech code to work on QNX (6.6). One challenge is to keep RAM consumption as low as possible, as our high quality voices need access to around 200 Mbyte of data (stored in a single file).</p>

<p>We hoped that we could memory map this 200 Mbyte of data but it looks like mmap() on QNX has a different behaviour than on other OS‚Äôs. What we observe is that when a (4Kbyte ?) page is memory mapped, it never gets released before the file is unmapped. Since the access to this 200 Mbyte data block is fairly random (depends on the input text), we end up with the complete 200 Mbyte of data within a few seconds of generated speech.</p>

<p>Could this behaviour be confirmed, and if so, do you know if are there other ways (maybe unique to QNX) where old pages are released back to the OS (we have to play nicely with other processes that are running like media player, navigation, GUI, etc.)?</p>

<p>A second observation is that memory mapping a big file takes several seconds. This is unexpected as well since I thought one of the advantages/purpose of memory mapping is skipping the long load times of data into RAM. We use this line of code to mmap() the data file:</p>

<pre><code>pFileData = mmap(0, cFileData, PROT_READ, MAP_SHARED, hFile, 0);
</code></pre>

<p>I think PROT_READ and MAP_SHARED are not so special as to cause long mapping times (on Linux and iOS, mmap() returns immediately).</p>

<p>Any insights on this memory mapping behaviour on QNX would be greatly appreciated.</p>
",
36287575,clock_gettime is precision is only ms,https://stackoverflow.com/questions/36287575/clock-gettime-is-precision-is-only-ms,1,1459262554,"c, arm, qnx, gettime","<p>I'm running QNX on a microcontroller board with a 25MHz clock speed. Running <code>clock_gettime(CLOCK_REALTIME, &amp;tp);</code> gives me only a precision of ms. I'm aware that a precion of ns is not possible because of the low clock speed but us should be possible. Do I have to set some configuration flags to get a better precision?</p>
",
25720890,Russian symbols in console in QNX system become unreadable after QT application runs,https://stackoverflow.com/questions/25720890/russian-symbols-in-console-in-qnx-system-become-unreadable-after-qt-application,1,1410167853,"c++, qt, qt4, qnx","<p>I have an x86 QNX 6.5.0 system with Russian localization, and such things like date and time in console, or login (username and password invitation) are in Russian. However if I run any QT application and then close it to get back to console all Russian words (including previous output) change to something unreadable.</p>

<p>How to resolve it?</p>
",
39473097,Eclipse - how to disable error message that prevents startup,https://stackoverflow.com/questions/39473097/eclipse-how-to-disable-error-message-that-prevents-startup,0,1473778560,"eclipse, qnx","<p>I'm using a QNX-based Eclipse <code>momentics-qnx-7.0-201607252121.win32.x86_64</code></p>

<p>Apparently it doesn't like it when you store it in a location that has spaces.</p>

<p>When I start Eclipse, I get a modal message </p>

<blockquote>
  <p>""installation directory of IDE or SDK ... contains space characters, it may cause untraceable errors during make. You should exit the IDE and fix the error""</p>
</blockquote>

<p>But when I click <strong>OK</strong> it just exits the IDE.</p>

<p>It looks like this was an error message added specifically by QNX.</p>

<p>For me, this message is irrelevant because I don't use the built-in <code>make</code>.</p>

<p><strong>QUESTION</strong></p>

<p>Is there a way for me to disable this message (like <code>.ini</code> file)?</p>

<p>It works fine moving it to a location with no space in path.</p>
",
11188347,QNX shell loop sequence,https://stackoverflow.com/questions/11188347/qnx-shell-loop-sequence,0,1340623144,"bash, shell, unix, sh, qnx","<p>Both following examples work in modern Bash but don't work in different sh shells (like QNX shell).</p>

<pre><code>$ for i in {1..3}; do echo $i; done
1
2
3

$ for i in $(seq 1 3); do echo $i; done
1
2
3
</code></pre>

<p>Is there any alternative method to produce same sequence in QNX shell?</p>
","<p>I found a method which works in QNX shell:</p>

<pre><code>integer i=0
while ((i&lt;4)); do i=i+1; echo $i; done
</code></pre>
"
39293269,gcc - leverage compiler to aid in code instrumentation,https://stackoverflow.com/questions/39293269/gcc-leverage-compiler-to-aid-in-code-instrumentation,0,1472821777,"c++, gcc, instrumentation, qnx","<p><strong>BACKGROUND</strong></p>

<p>I'm developing on <a href=""http://www.ti.com/product/OMAP5432"" rel=""nofollow"">OMAP 5 (ARM)</a> and using a QNX <code>gcc</code>-based C++ compiler.</p>

<p>I know about <a href=""https://gcc.gnu.org/onlinedocs/gcc/Instrumentation-Options.html"" rel=""nofollow"">the ability of gcc to insert a custom entry/exit callback for each function</a> but I'd like to have more info than that.</p>

<p><strong>PROBLEM</strong></p>

<p>For starters, I want to instrument every control-flow statement</p>

<pre><code>void func()
{
    if(bob == 9)
    {

        bob = 55;   
    }
    else
    {
        bob = 101;
    }
}
</code></pre>

<p>Would become</p>

<pre><code>void func()
{
    if(bob == 5)
    {
        MACRO(0x1433) //0x1433 = ID for this particular if-statement
        bob = 55;   
    }
    else
    {
        MACRO(0x3243) //0x3243 = ID for this particular else-statement
        bob = 99;
    }
}
</code></pre>

<p>I know I could do the parsing myself but for more complex statements, it would get messy.</p>

<p><strong>QUESTION</strong></p>

<p>The gcc compiler already does the parsing of the code in the process of compilation.</p>

<p>Is there any way I can leverage some intermediate output so I can more easily identify control-flow statements?</p>

<p>Obviously there's the preprocessed output but that only resolves macros</p>
",
37789890,How to create image file for x86 platform in QNX Momentics 5.0 for QNX 6.6,https://stackoverflow.com/questions/37789890/how-to-create-image-file-for-x86-platform-in-qnx-momentics-5-0-for-qnx-6-6,1,1465820937,"image, qnx, momentics","<p>I am new to QNX. i have to make image file in Momentics 5.0. from help i came to know about process for Momentics 4.7. there are some deviations between this two IDEs.I want to make a simple application which will stand alone run on target system.for that i have download BSP file for x86 platform from QNX website.Now i dont know how to make image file. anybody know about process for making image file in Momentics 5.0? Thanks in advance.</p>
",
38946894,Cannot find ldl lnsl lpthread lrt when buildling?,https://stackoverflow.com/questions/38946894/cannot-find-ldl-lnsl-lpthread-lrt-when-buildling,3,1471211111,"linux, qnx, data-distribution-service, qcc","<p>I am trying to build the RTI perftest in an i86 QNX architecture. When I try to build the makefile that I generated, I get the following:</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>Checking directory obj/i86QNX6.6qcc_cpp4.7.3/Release
Checking directory ../bin/i86QNX6.6qcc_cpp4.7.3/Release
qcc -V4.7.3,gcc_ntox86 -Y_cpp -lang-c++ -m64 -Wall -o ../bin/i86QNX6.6qcc_cpp4.7.3/Release/perftest_cpp obj/i86QNX6.6qcc_cpp4.7.3/Release/test.o obj/i86QNX6.6qcc_cpp4.7.3/Release/testPlugin.o obj/i86QNX6.6qcc_cpp4.7.3/Release/testSupport.o obj/i86QNX6.6qcc_cpp4.7.3/Release/Property.o obj/i86QNX6.6qcc_cpp4.7.3/Release/RTIDDSImpl.o obj/i86QNX6.6qcc_cpp4.7.3/Release/perftest_cpp.o -L/opt/RTI/ndds.5.1.0/lib/i86QNX6.6qcc_cpp4.7.3 -lnddscppz -lnddscz -lnddscorez -lm -lsocket  -lpthread -lnsl -lrt -L/usr/lib/nptl
/opt/qnx/6.6.0/host/linux/x86/usr/bin/i486-pc-nto-qnx6.6.0-ld: cannot find -lpthread
/opt/qnx/6.6.0/host/linux/x86/usr/bin/i486-pc-nto-qnx6.6.0-ld: cannot find -lnsl
/opt/qnx/6.6.0/host/linux/x86/usr/bin/i486-pc-nto-qnx6.6.0-ld: cannot find -lrt
cc: /opt/qnx/6.6.0/host/linux/x86/usr/bin/i486-pc-nto-qnx6.6.0-ld error 1
make: *** [../bin/i86QNX6.6qcc_cpp4.7.3/Release/perftest_cpp] Error 1</code></pre>
</div>
</div>
</p>

<p>I am not to familiar with QNX and its libraries, but when I remove those flags I get a ton of errors. Any tips on how to build the perftest for QNX or dealing with this error would be great, thanks!</p>
","<p>My <code>makefile</code> has the following build line which resolves all symbols and results in a running executable:</p>

<pre><code>qcc -o ../bin/i86QNX6.6qcc_cpp4.7.3/Release/perftest_cpp 
  obj/i86QNX6.6qcc_cpp4.7.3/Release/test.o 
  obj/i86QNX6.6qcc_cpp4.7.3/Release/testPlugin.o 
  obj/i86QNX6.6qcc_cpp4.7.3/Release/testSupport.o 
  obj/i86QNX6.6qcc_cpp4.7.3/Release/RTIDDSImpl.o 
  obj/i86QNX6.6qcc_cpp4.7.3/Release/perftest_cpp.o
  -L/opt/RTI/rti_connext_dds-5.2.3/lib/i86QNX6.6qcc_cpp4.7.3
  -lnddscppz -lnddscz -lnddscorez -lm -lsocket
  -V4.7.3,gcc_ntox86 -Y_cpp -lang-c++ -Wall
</code></pre>

<p>Note that it has none of the libraries that you mention.</p>
"
39118050,"qnx6 fs cannot be mounted read/write, standard hd",https://stackoverflow.com/questions/39118050/qnx6-fs-cannot-be-mounted-read-write-standard-hd,2,1472026909,"mount, qnx, qnx-neutrino","<p>I am running Neutrino 6.4.0 with an attached standard 2.5"" , 250GB Toshiba hard disk with 6 pre-existing qnx6 partitions. All of them can be mounted read-only; however, I cannot mount any of those as read/write. For instance:</p>

<pre><code>mount -r -t qnx6 /dev/hd1t77.3 /home/p3
</code></pre>

<p>works fine, while </p>

<pre><code>mount -t qnx6 /dev/hd1t77.3 /home/p3
</code></pre>

<p>returns the following:</p>

<pre><code>mount: Can't mount /home/p3 (type qnx6)
mount: Possible reason: Read-only file system
</code></pre>

<p>I have even tried different sync options (<code>-o sync=ignore</code> , and <code>-o sync=optional</code>), to no avail.</p>

<p>Interestingly, I have created an additional partition on the same disk using <code>mkqnx6fs /dev/hd1t77.6</code> , and that partition CAN be mounted read/write</p>

<p>My question is, what might be causing the existing partitions to be read-only, and is there any way to make them read-write?</p>
",
25916619,QMAKE. How to figure out host platform and target platform when cross compiling QT projects,https://stackoverflow.com/questions/25916619/qmake-how-to-figure-out-host-platform-and-target-platform-when-cross-compiling,5,1411053643,"qt, arm, cross-platform, qmake, qnx","<p>I compiling for QNX, ARM, My Host platform can be Win32/64 ,  Linux  or Mac
I want to find a way to see wheat is my host platform in my PRO file (on computer I building my project)</p>

<p>Apparently using:</p>

<pre><code>win32 {}
unix {}
macx {}
</code></pre>

<p>does not work because on different OSes it will always report unix, so I assume this is target platform
So what is the way to obtain current host platform to make PRO file flexible because on different platform I would like to do different things.</p>

<p>Thank you</p>
","<p>Could not get anything better then:</p>

<pre><code>QMAKE_SPEC_T = $$[QMAKE_SPEC]

contains(QMAKE_SPEC_T,.*win32.*){
    HOST_PLATFORM=WIN
    IS_WIN = 1
}

contains(QMAKE_SPEC_T,.*macx.*){
    HOST_PLATFORM=MAC
    IS_MAC = 1
}

contains(QMAKE_SPEC_T,.*linux.*){
    HOST_PLATFORM=LINUX
    IS_LINUX = 1
}
</code></pre>

<p>and then anywhere to check:</p>

<pre><code>!isEmpty(IS_WIN):message($${HOST_PLATFORM})
!isEmpty(IS_MAC):message($${HOST_PLATFORM})
!isEmpty(IS_LINUX):message($${HOST_PLATFORM})
</code></pre>
"
36157726,std::call_once lazy initialization issue on QNX,https://stackoverflow.com/questions/36157726/stdcall-once-lazy-initialization-issue-on-qnx,3,1458658384,"c++, multithreading, c++11, lazy-initialization, qnx","<p>My code is periodically crashing on QNX. It crashes with error</p>

<blockquote>
  <p>error reading variable: Cannot access memory at address <code>0x85dd6ac</code>)</p>
</blockquote>

<p>while trying to access std::map member variable of <code>0x85dd6ac</code> object, which is lazy initialized using <code>std::call_once</code>.</p>

<p>Initialization is done with the following pseudo-code:</p>

<pre><code>mutable std::aligned_storage&lt;sizeof(A), alignof(A) &gt;::type m_value;

void init(A *ptr)
{
    new (ptr) A();
}

inline T* data() const
{
    return reinterpret_cast&lt;A*&gt;(&amp;m_value);
}

const A&amp; get() const
{
    std::call_once(m_once_flag, init, data());
    return *data();
}
</code></pre>

<p>At some point when object returned by <code>get()</code> is accessed the process is crashed.</p>

<p>On other platforms issue is not reproduced and it's very difficult to debug.
From the code I can see that object cannot be uninitialized and it also cannot be deleted at that point.</p>

<p>I suspect there can be issue with <code>std::call_once</code> implementation with thread safety or memory ordering.
Does anybody have experience with std::call_once on QNX platform or bugs like that?
Any ideas how I can find the issue?</p>
","<p>I have the same experience by using std::call_once in QNX but beside crash it can cause also dead lock in multi-threading application. I suggest to use the following pattern to replace std::call_once:</p>

<pre><code>static std::atomic&lt; bool &gt; once_flag = false;
if ( !once_flag.exchange( true ) )
{
    // This part will be executed only once.
    // ...
}
</code></pre>

<p><strong>UPDATE</strong>
Based on comment of fefe this solution does not satisfy the condition of blocking of passive execution (see details on <a href=""http://www.cplusplus.com/reference/mutex/call_once/"" rel=""nofollow"">http://www.cplusplus.com/reference/mutex/call_once/</a>).</p>

<p>If you have to satify this as well you should implement more complex solution. Here is an example:</p>

<pre><code>static std::atomic&lt; bool &gt; once_flag = false;
static std::atomic&lt; bool &gt; once_call_done = false;
if ( !once_flag.exchange( true ) )
{
    // This part will be executed only once.
    // ...

    once_call_done = true;
}
else
{
    // Block until the call once part is running.
    while( !once_call_done )
    {
        sleep( 1 );
    }
}
</code></pre>
"
38961649,gcc - how to create a mapfile of the object file,https://stackoverflow.com/questions/38961649/gcc-how-to-create-a-mapfile-of-the-object-file,19,1471289061,"c++, gcc, qnx","<p>I have a <code>.map</code> file called <code>a.out.map</code> that was created from a <code>.cpp</code>/<code>.obj</code> file but I don't remember how. I've included a snippet:</p>

<pre><code>.plt            0x0000380c      0x848
 *(.plt)
 .plt           0x0000380c      0x848 C:/QNX650/target/qnx6/armle-v7/lib/crti.o

.text           0x00004054     0x5448
                0x00004054                _btext = .
 *(.text .stub .text.* .gnu.linkonce.t.*)
 .text          0x00004054        0x0 C:/QNX650/target/qnx6/armle-v7/lib/crti.o
 .text          0x00004054       0xf4 C:/QNX650/host/win32/x86/usr/lib/gcc/arm-unknown-nto-qnx6.5.0eabi/4.4.2/pic//crtbegin.o
 .text          0x00004148     0x1b3c C:\Temp\2qccTulUdb\eventlookupmodel.o
                0x00004b80                AL2HMIBridge::EventLookupModel::data(QModelIndex const&amp;, int) const
                0x000054f8                AL2HMIBridge::EventLookupModel::rowCount(QModelIndex const&amp;) const
                0x000046a8                AL2HMIBridge::EventLookupModel::getNameFromId(unsigned int, unsigned int)
                0x00004148                AL2HMIBridge::EventLookupModel::EventLookupModel(AL2HMIBridge::CsvImporter&amp;, QObject*)
                0x00004738                AL2HMIBridge::EventLookupModel::getElementFromId(unsigned int, unsigned int)
                0x00004ab4                AL2HMIBridge::EventLookupModel::getElementFromName(QString const&amp;)
                0x00005548                AL2HMIBridge::EventLookupModel::appendElement(AL2HMIBridge::EventLookupModel::EventElement const&amp;)
                0x00005804                AL2HMIBridge::EventLookupModel::appendElement(QString const&amp;, unsigned int, unsigned int, QList&lt;
</code></pre>

<p>What's the gcc command to produce the <code>.map</code> file?</p>
","<p>If you are linking the program and want to generate map output add:</p>

<pre><code> -Xlinker -Map=output.map 
</code></pre>

<p>to the gcc command in order to make it create the map file output.map</p>

<p>If you want to see the symbols and relocation of an object file, you can use the objdump tool:</p>

<pre><code>objdump -x an_object_file.o
</code></pre>
"
38960757,gcc C++ compiler - obj file creation non-deterministic?,https://stackoverflow.com/questions/38960757/gcc-c-compiler-obj-file-creation-non-deterministic,0,1471285525,"c++, windows, gcc, qnx, non-deterministic","<p><strong>PROBLEM</strong></p>

<p>For a certain <code>.obj</code>, my compiler ""toggles"" the value of a byte between builds even when I don't change <strong><em>anything</em></strong>. It's always the same byte position and it's always one of two values: <code>0x00</code> or <code>0x80</code></p>

<p><a href=""https://i.sstatic.net/v3HZQ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/v3HZQ.png"" alt=""enter image description here""></a></p>

<p><strong>BACKGROUND</strong></p>

<p>I'm using QNX C++ compiler; it's <code>gcc</code>-based so just think of it as <code>gcc</code>.</p>

<p>My <code>make</code> command is:</p>

<pre><code>C:\make421.exe all --trace --debug=vjm --jobs=16 --output-sync=recurse --print-directory --print-data-base
</code></pre>

<p>The <code>make</code> rule for this object lists files which are ALL contained within my top-level working folder.    </p>

<p>It only depends on one <code>.cpp</code> file which doesn't change - I'm doing Beyond Compare on the entire <code>HMI_FORGF</code> folder which is where the artifacts are - and I'm also diffing the other folders that hold libraries.</p>

<p>ABSOLUTELY NOTHING IS CHANGING!</p>

<p><strong>QUESTION</strong></p>

<p>Why is one byte being toggled with no change in . . . ANYTHING?</p>

<p>Yes I'll also ask QNX but wanted to see if anyone has experienced something like this.</p>

<p><strong>UPDATE</strong></p>

<p>I did a diff of the <a href=""https://sourceware.org/binutils/docs/binutils/objdump.html"" rel=""nofollow noreferrer""><code>objdump -xSsDg</code></a> output but it's over 100MB is size so can't upload it (if anyone knows a site to host this let me know).</p>

<p>There are two sections in the diff that are different:</p>

<p>First section, left<br/> </p>

<pre><code>Contents of section .ARM.exidx.text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE:
 0000 00000000 00000000                    ........        
</code></pre>

<p>First section, right<br/></p>

<pre><code>Contents of section .ARM.exidx.text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE:
 0000 00000000 00000080                    ........        
</code></pre>

<p>Second section, left</p>

<pre><code>00000000 &lt;.ARM.exidx.text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE&gt;:
    ...
            0: R_ARM_PREL31 .text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE
            0: R_ARM_NONE   __aeabi_unwind_cpp_pr1
            4: R_ARM_PREL31 .ARM.extab.text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE
</code></pre>

<p>Second section, right:</p>

<pre><code>00000000 &lt;.ARM.exidx.text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE&gt;:
   0:   00000000    andeq   r0, r0, r0
            0: R_ARM_PREL31 .text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE
            0: R_ARM_NONE   __aeabi_unwind_cpp_pr1
   4:   80000000    andhi   r0, r0, r0
            4: R_ARM_PREL31 .ARM.extab.text._ZN5QHashI7QStringiE11deleteNode2EPN9QHashData4NodeE
</code></pre>
",
38576725,PowerPC: integer division does not generate SIGFPE,https://stackoverflow.com/questions/38576725/powerpc-integer-division-does-not-generate-sigfpe,2,1469477982,"signals, powerpc, qnx, divide-by-zero, sigfpe","<p>I have Implemented following code in QNX to handle divided by zero exception.</p>

<pre><code>static int st_iThreadID = -1;
static sigjmp_buf fpe_env;
float a = -10, b = 0;
volatile float c = 0;
 /**************************************
 *
 * Signal Handler for Divided by zero exception
 *
 ****************************************/
void SignalHandler(int Signo,siginfo_t* info,void* other)
{
 int iThreadID =  gettid();`enter code here`
printf( "" exception caught for thread \t %d Generated Signal is \t %d   \n"",iThreadID,Signo);   
siglongjmp(fpe_env, info-&gt;si_code);
}

 /**************************************
 *
 * Handler Ends
 *
 ****************************************/


int TestDividedByZero()
{
 /*local variable initialization*/
    int l_iStatus = 0;
    sigset_t set;
    int code ;
    struct sigaction act;   /*Sigaction structure to set the action for Signal*/

/*End local variable initialization*/       

    fp_exception_mask(_FP_EXC_DIVZERO, 1 );   /* Set the exception mask for floating point Exception */


    sigfillset( &amp;act.sa_mask);
    sigdelset(&amp;set,SIGFPE);

    act.sa_flags = SA_SIGINFO;
    act.sa_mask = set;
    act.sa_sigaction =SignalHandler;
    sigaction(SIGFPE, &amp;act, NULL ); /* POSIX: Specify the action associated with a signal SIGFPE */


    code = sigsetjmp(fpe_env, 1);
    if(code == 0)
    {

        c = a / b;   /*Here generates floating point signal SIGFPE and registered handler will get call */
        //  printf(""value of d is %d \n"",d);
    }
    else
    {
        puts( ""Jumped from Signal handler"");
        c = 0;  // Set result to default value      
    }
    //puts( ""End SIGFPE of Testing "");

    return l_iStatus ;
</code></pre>

<p>}</p>

<p>When the type of variable is float or double , this code generates SIGFPE but when change the variable type to int or long, this code does not generates the SIGFPE. I am using gcc compiler, processor is POWERPC MPC8347 and OS is QNX.
I wants to test SIGFPE with integer value as well.
earlier same code was not generating SIGFPE for float also but later I added fp_exception_mask(), and it is working fine. Is there any such mask for integer operation?</p>
",
38426194,Apache Nifi on QNX,https://stackoverflow.com/questions/38426194/apache-nifi-on-qnx,0,1468791541,"java, jvm, sensors, qnx, apache-nifi","<p>I have been reading about the possibilities of Apache Nifi. In this article <a href=""http://www.zdnet.com/article/hortonworks-cto-on-apache-nifi-what-is-it-and-why-does-it-matter-to-iot/"" rel=""nofollow"">http://www.zdnet.com/article/hortonworks-cto-on-apache-nifi-what-is-it-and-why-does-it-matter-to-iot/</a> </p>

<p>and in Hortonworks website there are examples of using Nifi while simulating trucks events (speed, etc). <a href=""http://hortonworks.com/hadoop-tutorial/realtime-event-processing-nifi-kafka-storm/#section_3"" rel=""nofollow"">http://hortonworks.com/hadoop-tutorial/realtime-event-processing-nifi-kafka-storm/#section_3</a></p>

<p>How come they suggest the scenario of vehicle sensor collection and filtering with Nifi when the main OS in cars is QNX and it does not support Java? Being JVM a main requirement for installing Apache Nifi. It is just some PR marketing?</p>

<p>In the article is mentioned ""it's important to be able to prioritise the data that gets sent and maybe only send the summary level information and if an anomaly is detected. Then from the central processing area you can go back and request more data from that particular unit.""</p>

<p>Making the point of minimizing data transfer on expensive connections (mobile data) by configuring the sensor collection from the central processing area seems impossible if QNX (and therefore the sensor data producer unit) does not support JVM.</p>
",
38300525,cmake - multiple platform - Check for QNX,https://stackoverflow.com/questions/38300525/cmake-multiple-platform-check-for-qnx,0,1468218982,"cmake, qnx","<p>I have a cmake file, that will set some environment variables based on the  platform. Ex: UNIX, WINDOWS, </p>

<pre><code>if(WIN32)
.....
endif(WIN32)


if(UNIX)
...
endif(UNIX)
</code></pre>

<p>Now I try cross-compiling </p>

<blockquote>
  <p>QNX platform</p>
</blockquote>

<p>in a </p>

<blockquote>
  <p>Linux machine</p>
</blockquote>

<p>with below settings:</p>

<pre><code>set(CMAKE_SYSTEM_NAME QNX)
set(arch gcc_ntox86v7le)
set(SUBARCH x86)
set(CMAKE_C_COMPILER qcc)
set(CMAKE_C_COMPILER_TARGET ${arch})
set(CMAKE_CXX_COMPILER QCC)
set(CMAKE_CXX_COMPILER_TARGET ${arch})
</code></pre>

<p>My problem is that when the above code is added to a CMAKE file, always QNX cross compilation will take place. </p>

<p>I am try to add some if(condition), so that the above setting apply only for QNX cross-compiling. But I cannot find any.</p>

<p>I tried with</p>

<pre><code>if(UNIX)
....
elseif
     set(CMAKE_SYSTEM_NAME QNX)
     set(arch gcc_ntox86v7le)
endif()
</code></pre>

<p>But this always assumes it to be UNIX.</p>
",
38151312,How does this endian conversion work?,https://stackoverflow.com/questions/38151312/how-does-this-endian-conversion-work,1,1467395473,"c-preprocessor, endianness, qnx","<p>A QNX library called gfpr.h contains the line</p>

<pre><code>#define ENDIAN_LE16(__x)    (__x)
</code></pre>

<p>which is used as follows</p>

<pre><code>var1 = ENDIAN_LE16(var1);
</code></pre>

<p>to convert the endianness of (unsigned short) var1.  How does this work?  <code>__x</code> and <code>x__</code> must have some special meaning to the preprocessor?  </p>
",
37943521,QNX 6.6 Windows Host - Flashing image in USB flash drive,https://stackoverflow.com/questions/37943521/qnx-6-6-windows-host-flashing-image-in-usb-flash-drive,0,1466509527,"windows, host, qnx","<p>I have installed QNX 6.6 SDP in Windows host.</p>

<p>Have created an ifs image using mkifs command.</p>

<p>I have created FAT32 partition of the USB drive and copied the filesystem to it. But I am unsure of the following:</p>

<p>1) How to create QNX loader using dinit
2) How and where to copy the ifs image</p>

<p>Can anyone pls guide me / provide pointers to resolving this?</p>
","<p><a href=""http://community.qnx.com/sf/frs/do/downloadFile/projects.bsp/frs.qnx_sdp_6_6_bsp_for_generic_x86.bsp_user_guide_for_the_generic_x/frs58795?dl=1"" rel=""nofollow"">Here</a> is a guide with couple of methods for boot from USB and creating your own image.</p>
"
32407261,Where is the libpcap library for QNX Neutrino?,https://stackoverflow.com/questions/32407261/where-is-the-libpcap-library-for-qnx-neutrino,1,1441404613,"c, linker, libpcap, qnx, momentics","<p>I know QNX 6.6 has libpcap as part of its standard libraries.</p>

<p>When I link to libpcap.a and try to use the functions, I get ""undefined reference to 'function_name'"".</p>

<p>Where is the real libpcap library I need to get it to actually work? Is there someplace I need to download it from?</p>

<hr>

<p>I am building from Momentics, so there is no single command to build.</p>

<p>Under Linker > other options I have -lpcap, and under Linker > extra libraries I have pcap.</p>

<p>A possibility is that I need to import additional libraries, but libpcap comes with hundreds and I have no idea which ones I would need.</p>

<p>As for output, I get some innoculous building messages followed by my project search path, followed by 18 of these about different functions:</p>

<pre><code>U:/.../target/qnx6/x86/usr/lib\libpcap.a(fad-getad.o): In function pcap_findalldevs':
(.text+0x2b): undefined reference to `getifaddrs'
</code></pre>

<p>Some of which are in pcap.h and some aren't. This is the complete list:</p>

<blockquote>
  <p>'U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(scanner.o): In function <code>pcap_lex':
  (.text+0x9c8): undefined reference to</code>getaddrinfo'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(inet.o): In function <code>pcap_lookupnet':
  (.text+0x6d8): undefined reference to</code>socket'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(inet.o): In function <code>pcap_lookupnet':
  (.text+0x744): undefined reference to</code>ioctl_socket'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(inet.o): In function <code>pcap_lookupnet':
  (.text+0x7c8): undefined reference to</code>ioctl_socket'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(pcap-bpf.o): In function <code>pcap_set_datalink_bpf':
  (.text+0x16): undefined reference to</code>ioctl_socket'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(pcap-bpf.o): In function <code>pcap_stats_bpf':
  (.text+0x21a): undefined reference to</code>ioctl_socket'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(pcap-bpf.o): In function <code>pcap_setdirection_bpf':
  (.text+0x3ef): undefined reference to</code>ioctl_socket'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(pcap-bpf.o):(.text+0x49d): more undefined references to <code>ioctl_socket' follow
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(fad-getad.o): In function</code>pcap_findalldevs':
  (.text+0x2b): undefined reference to <code>getifaddrs'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(fad-getad.o): In function</code>pcap_findalldevs':
  (.text+0x175): undefined reference to <code>freeifaddrs'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(gencode.o): In function</code>gen_mcode6':
  (.text+0x5777): undefined reference to <code>freeaddrinfo'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(gencode.o): In function</code>gen_scode':
  (.text+0x5b36): undefined reference to <code>freeaddrinfo'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(nametoaddr.o): In function</code>pcap_nametoaddr':
  (.text+0x2e): undefined reference to <code>gethostbyname'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(nametoaddr.o): In function</code>pcap_nametoaddrinfo':
  (.text+0x93): undefined reference to <code>getaddrinfo'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(nametoaddr.o): In function</code>pcap_nametonetaddr':
  (.text+0xc4): undefined reference to <code>getnetbyname'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(nametoaddr.o): In function</code>pcap_nametoport':
  (.text+0xee): undefined reference to <code>getservbyname'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(nametoaddr.o): In function</code>pcap_nametoport':
  (.text+0x10f): undefined reference to <code>getservbyname'
  U:/shutchinson/QNX/target/qnx6/x86/usr/lib\libpcap.a(nametoaddr.o): In function</code>pcap_nametoproto':
  (.text+0x251): undefined reference to `getprotobyname'</p>
</blockquote>
","<p>You must add another library (libsocket.a) to the linker options. I.e. your linker options must be.............. -lpcap -lsocket.</p>
"
37612919,Visual Studio Code compile on remote host,https://stackoverflow.com/questions/37612919/visual-studio-code-compile-on-remote-host,7,1464952464,"c++, makefile, g++, visual-studio-code, qnx","<p>I have a project on remote host (QNX, g++, makefile if it matters). I'm using <a href=""https://code.visualstudio.com/"" rel=""nofollow noreferrer"">VSCode</a> to edit sources on remote host over ftp.</p>

<p>How could I run make utility with params from local machine on remote host with <a href=""https://code.visualstudio.com/"" rel=""nofollow noreferrer"">Visual Studio Code</a> to build this project on remote host?</p>

<p>I have found <a href=""https://stackoverflow.com/a/30269450/6419156"">this .json script</a> to run make on local machine, but I can't figure out how to execute it on remote.</p>
",
37531678,Coverage data without system header files in QNX,https://stackoverflow.com/questions/37531678/coverage-data-without-system-header-files-in-qnx,1,1464632492,"file, header, code-coverage, gcov, qnx","<p>I have generated gcno and gcda files required for code coverage.<br>
After importing these files into <code>QNX IDE</code>, it shows code coverage for all system included header files (like <code>&lt;vector&gt;</code>) also whose values are <code>zero%</code>.</p>

<p>Is there any <code>option</code>/<code>flags</code> while build to remove system header files from code coverage data in <code>QNX IDE</code>.</p>
",
37459624,Cross-compiling boost 1.60.0 internal dependency issue,https://stackoverflow.com/questions/37459624/cross-compiling-boost-1-60-0-internal-dependency-issue,0,1464262259,"c++, boost, qnx, qcc","<p>I can successfully cross-compile boost on windows targeting QNX OS (x86) using the following command: <code>b2 toolset=qcc target-os=qnx threadapi=pthread</code></p>

<p>However, of some reason, it seems like the resulting library files don't link correctly to the internal dependencies.</p>

<p>For example doing an objdump on the unit-test-framework results in:</p>

<pre><code>Dynamic Section:
   NEEDED               bin.v2\libs\timer\build\qcc\release\target-os-qnx\threadapi-pthread\threading-multi\libboost_timer-qcc-mt-1_60.so.1.60.0
   NEEDED               bin.v2\libs\system\build\qcc\release\target-os-qnx\threadapi-pthread\threading-multi\libboost_system-qcc-mt-1_60.so.1.60.0
   NEEDED               libm.so.2
   NEEDED               libc.so.3
</code></pre>

<p>As you can see there is a ridiculous path to link to both the timer and the system library (also QNX, like linux, interpret '\' as an escape-char so I can't use the folder-structure in the QNX machine). I've manually edited the library's binary-file and removed the path (I know this is very risky...) to:</p>

<pre><code>Dynamic Section:
   NEEDED               libboost_timer-qcc-mt-1_60.so.1.60.0
   NEEDED               libboost_system-qcc-mt-1_60.so.1.60.0
   NEEDED               libm.so.2
   NEEDED               libc.so.3
</code></pre>

<p>Which works. Is it possible to force Boost to not include the entire path into the library? Is this a boost issue or the QNX 6.6 qcc toolchain issue? I really don't want to edit each library's binary file manually...</p>
",
37407533,How to generate a pulse timer in QNX,https://stackoverflow.com/questions/37407533/how-to-generate-a-pulse-timer-in-qnx,1,1464076566,"c, timer, real-time, qnx","<p>I'm using QNX to generate a frequently event. The frequence of the event need to be adjusted from time to time by a control loop. I tried to use usleep. </p>

<pre><code>while(1)
{
   //performe event
   //calculate phase shift
   usleep(FREQUENCE - drift); // Frequnce is in the range of 1-4 ms
}
</code></pre>

<p>This works but it produces large jitter of the frequency. I assume this is because usleep blocking the CPU from performing other tasks. QNX is a operating system therefore some other task need to be perfomrmed as well. </p>

<p>So what I would like to do is to use timer instead. As far as i figured out timer allow the perfomens of other processes while my proccess is sleeping. </p>

<p>Sadly I'm new to QNX so I have no idea how to use timer. I only found links to examples generating a frequent timer signal but not adjusting the frequency afterwards.
Thx for your help</p>

<p>PS: I assume a pulse timer is correct because its the timer that is used if you want to wait according to <a href=""http://www.qnx.com/developers/docs/6.4.1/neutrino/getting_started/s1_timer.html?lang=de"" rel=""nofollow"">QNX timer docu</a></p>
",
37300917,libstdc++ QNX cross-compilation fails on mutex class compilation,https://stackoverflow.com/questions/37300917/libstdc-qnx-cross-compilation-fails-on-mutex-class-compilation,1,1463577631,"c++11, gcc, cross-compiling, qnx","<p>I try to compile a cross-compiler for Linux-host and QNX-target.</p>

<p>Got the 5.1 version from foundry27 site.</p>

<p>So now I stall on compilation of target libstdc++ by intermediate xgcc just compiled. Error happen when it try to compile libstdc++/src/c++11/conditional_variable.cc
Error message is:</p>

<pre><code>In file included from                 /home/kovtyukhrd/toolchain/builds/gcc_5_1_branch/linux-x86-o-ntox86/i486-pc-nto-qnx8.0.0/libstdc++-v3/include/condition_variable:39:0,
             from ../../../../../libstdc++-v3/src/c++11/condition_variable.cc:25:
/home/kovtyukhrd/toolchain/builds/gcc_5_1_branch/linux-x86-o-ntox86/i486-pc-nto-qnx8.0.0/libstdc++-v3/include/mutex:126:5: error: explicitly defaulted function 'constexpr std::mutex::mutex()' cannot be declared as constexpr because the implicit declaration is not constexpr:
 mutex() noexcept = default;
 ^
/home/kovtyukhrd/toolchain/builds/gcc_5_1_branch/linux-x86-o-ntox86/i486-pc-nto-qnx8.0.0/libstdc++-v3/include/mutex:118:9: error: use of deleted function 'constexpr std::__mutex_base::__mutex_base()'
   class mutex : private __mutex_base
     ^
/home/kovtyukhrd/toolchain/builds/gcc_5_1_branch/linux-x86-o-ntox86/i486-pc-nto-qnx8.0.0/libstdc++-v3/include/mutex:65:15: note: 'constexpr std::__mutex_base::__mutex_base() noexcept' is implicitly deleted because its exception-specification does not match the implicit exception-specification 'noexcept (false)'
 constexpr __mutex_base() noexcept = default;
           ^
</code></pre>

<p>So now I can see, that compiler is try to implicitly delete __mutex_base constructor and then the compilation is fails when we try to use it in inherited class (mutex). <a href=""http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1778"" rel=""nofollow noreferrer"">Here</a> we can read about implicit deletion of functions with explicit exception-specification, that is not compatible with implicit exception-specification (got this link <a href=""https://stackoverflow.com/questions/29483120/program-with-noexcept-constructor-accepted-by-gcc-rejected-by-clang"">here</a>).</p>

<p>Now we should think about the ""implicit exception-specification 'noexcept (false)'"" of __mutex_base(). It can be implicitly specified to 'noexcept (false)' if it should to call a function, that has 'noexcept (false)' specification. But after preprocessor we has this code:</p>

<pre><code>...
typedef struct _sync { int __count; unsigned __owner; } sync_t;
...
typedef struct _sync pthread_mutex_t;
...
typedef pthread_mutex_t __gthread_mutex_t;
...

    class __mutex_base
  {
  protected:
    typedef __gthread_mutex_t __native_type;


    __native_type _M_mutex = { 0x80000000, 0xffffffff };

    constexpr __mutex_base() noexcept = default;
# 78 ""/home/kovtyukhrd/toolchain/builds/gcc_5_1_branch/linux-x86-o-ntox86/i486-pc-nto-qnx8.0.0/libstdc++-v3/include/mutex"" 3
    __mutex_base(const __mutex_base&amp;) = delete;
    __mutex_base&amp; operator=(const __mutex_base&amp;) = delete;
  };
</code></pre>

<p>And now -- the question: ""Why the __mutex_base() has the implicit exception-specification 'noexcept (false)'?""</p>

<p>And another question is how should I correctly compile this library without any modifications in source code?</p>
","<p>This is a problem in GCC 5.1, which has already been fixed in GCC 5.2. The issue is that <code>0x80000000</code> is not a valid initializer for the <code>int</code> member of the <code>_sync</code> struct, because it is out of range for an <code>int</code> and so is a value of type unsigned. Converting it to int requires a narrowing conversion, which is not permitted in constant expressions. This makes the constructor non-constexpr (the mention of <code>noexcept(false)</code> seems to be a red herring).</p>
"
36771037,Playing audio/video in QNX Qt,https://stackoverflow.com/questions/36771037/playing-audio-video-in-qnx-qt,2,1461245166,"c++, qt, audio, video, qnx","<p>I am using Qt 5.3.1 for QNX 6.6.0 + Apps and Media 1.1. I try to play audio/video from my HMI app. However, I get an error message saying ""checkForDrmPermission: Unable to open bar-descriptor.xml"".</p>

<p>After some googling, I found the open source code which matches here:</p>

<p><a href=""https://fossies.org/linux/misc/qt-everywhere-opensource-src-5.6.0.tar.gz/qt-everywhere-opensource-src-5.6.0/qtmultimedia/src/plugins/qnx/mediaplayer/mmrendererutil.cpp"" rel=""nofollow"">https://fossies.org/linux/misc/qt-everywhere-opensource-src-5.6.0.tar.gz/qt-everywhere-opensource-src-5.6.0/qtmultimedia/src/plugins/qnx/mediaplayer/mmrendererutil.cpp</a></p>

<p>Do I have to create bar-descriptor.xml and install my app with .bar file in order to be able to play audio/video?</p>
",
36650013,Unable to connect to mysql server at boot time,https://stackoverflow.com/questions/36650013/unable-to-connect-to-mysql-server-at-boot-time,0,1460730817,"mysql, linux, qnx","<p>Client side operating System: Qnx 6.4.0 </p>

<p>Server side: Red Hat 6.5</p>

<p>I trying to connect to mysql server at boot time from the following script (at qnx machine).</p>

<pre><code>#!/bin/sh

cd /root
io-pkt-v4-hc -di82544 -ptcpip
ifconfig en0 192.168.4.122 netmask 255.255.0.0
slay qconn
qconn
dumper -n
inetd
devc-pty
if_up -p en0
./mysql_connect
</code></pre>

<p>Source code of mysql_connect</p>

<pre><code>MYSQL *conn;
MYSQL_RES *res;
MYSQL_ROW row;
const char *database = ""PRC_OPT"";
unsigned int conn_timeout = 5;


      conn = mysql_init(NULL);
      Wprintf(Terminal2,""MySQL Tables connection = %p:\n"", conn);
      mysql_options(conn, MYSQL_OPT_CONNECT_TIMEOUT, &amp;conn_timeout);
       /* Connect to database */
       if (!mysql_real_connect(conn, DATABASE_IPADDRESS,
             USER, PASSWORD, database, DATABASE_PORT, NULL, 0)) {
          Wprintf(Terminal2, ""%s\n"", mysql_error(conn));
          mysql_close(conn);
          return;
       }
       /* send SQL query */
       if (mysql_query(conn, ""SELECT * FROM ADRLIS WHERE PM='TKPRC' AND NUMTS=1;"")) {
          Wprintf(Terminal2, ""%s\n"", mysql_error(conn));
          return;
       }
       res = mysql_use_result(conn);

       /* close connection */
       mysql_free_result(res);
       mysql_close(conn);
</code></pre>

<p>As result I have a following error at <strong>mysql_real_connect</strong></p>

<p><strong><em>Can't connect to MySql server on 'ip address' (4)</em></strong>
but then .............when I invoke ./mysql_connect (at second time from bash command line) all works correctly.  </p>

<p>At first time I was thinking that iptables rejected my connection packets, but this situation is repeated even so I do <strong><em>service iptables stop</em></strong>.</p>

<p>I have invoked tcpdump at server side and have following</p>

<pre><code>14:06:15.402347 IP 192.168.4.122.65534 &gt; prc.mysql: Flags [S], seq 33833343, win 32768, options [mss 1460,nop,wscale 0,sackOK,nop,nop,nop,nop,TS val 0 ecr 0], length 0
    0x0000:  5254 00b2 fdb1 0023 6b01 13d8 0800 4500  RT.....#k.....E.
    0x0010:  0040 ed1b 4000 4006 c309 c0a8 047a c0a8  .@..@.@......z..
    0x0020:  04c8 fffe 0cea 0204 417f 0000 0000 b002  ........A.......
    0x0030:  8000 db01 0000 0204 05b4 0103 0300 0402  ................
    0x0040:  0101 0101 080a 0000 0000 0000 0000       ..............
14:06:15.403234 IP prc.mysql &gt; 192.168.4.122.65534: Flags [S.], seq 4145356488, ack 33833344, win 14480, options [mss 1460,sackOK,TS val 703030136 ecr 0,nop,wscale 7], length 0
    0x0000:  0023 6b01 13d8 5254 00b2 fdb1 0800 4500  .#k...RT......E.
    0x0010:  003c 0000 4000 4006 b029 c0a8 04c8 c0a8  .&lt;..@.@..)......
    0x0020:  047a 0cea fffe f715 1ec8 0204 4180 a012  .z..........A...
    0x0030:  3890 9122 0000 0204 05b4 0402 080a 29e7  8..""..........).
    0x0040:  6378 0000 0000 0103 0307                 cx........
14:06:15.403451 IP 192.168.4.122.65534 &gt; prc.mysql: Flags [R], seq 33833344, win 0, length 0
    0x0000:  5254 00b2 fdb1 0023 6b01 13d8 0800 4500  RT.....#k.....E.
    0x0010:  0028 ed1c 0000 4006 0321 c0a8 047a c0a8  .(....@..!...z..
    0x0020:  04c8 fffe 0cea 0204 4180 0000 0000 5004  ........A.....P.
    0x0030:  0000 d4e0 0000 0000 0000 0000            ............
</code></pre>

<p>As we can see the server reset tcp connection from client. If we try to invoke second time from the bash command line tcp connection is established successfully and then we can work with database without any problems</p>

<pre><code>14:18:09.068632 IP 192.168.4.122.65533 &gt; 192.168.4.200.3306: Flags [S], seq 917705451, win 32768, options [mss 1460,nop,wscale 0,sackOK,nop,nop,nop,nop,TS val 0 ecr 0], length 0
    0x0000:  5254 00b2 fdb1 0023 6b01 13d8 0800 4500  RT.....#k.....E.
    0x0010:  0040 f115 4000 4006 bf0f c0a8 047a c0a8  .@..@.@......z..
    0x0020:  04c8 fffd 0cea 36b3 12eb 0000 0000 b002  ......6.........
    0x0030:  8000 d4e7 0000 0204 05b4 0103 0300 0402  ................
    0x0040:  0101 0101 080a 0000 0000 0000 0000       ..............
14:18:09.068681 IP 192.168.4.200.3306 &gt; 192.168.4.122.65533: Flags [S.], seq 4004872844, ack 917705452, win 14480, options [mss 1460,sackOK,TS val 703743802 ecr 0,nop,wscale 7], length 0
    0x0000:  0023 6b01 13d8 5254 00b2 fdb1 0800 4500  .#k...RT......E.
    0x0010:  003c 0000 4000 4006 b029 c0a8 04c8 c0a8  .&lt;..@.@..)......
    0x0020:  047a 0cea fffd eeb5 828c 36b3 12ec a012  .z........6.....
    0x0030:  3890 4bd7 0000 0204 05b4 0402 080a 29f2  8.K...........).
    0x0040:  473a 0000 0000 0103 0307                 G:........
14:18:09.068920 IP 192.168.4.122.65533 &gt; 192.168.4.200.3306: Flags [.], ack 1, win 33580, options [nop,nop,TS val 0 ecr 703743802], length 0
    0x0000:  5254 00b2 fdb1 0023 6b01 13d8 0800 4500  RT.....#k.....E.
    0x0010:  0034 f116 4000 4006 bf1a c0a8 047a c0a8  .4..@.@......z..
    0x0020:  04c8 fffd 0cea 36b3 12ec eeb5 828d 8010  ......6.........
    0x0030:  832c 3007 0000 0101 080a 0000 0000 29f2  .,0...........).
    0x0040:  473a                                     G:
</code></pre>

<p>What is the difference between those two starts??? Why the first connection is rejected???</p>
",
36402138,How to get process memory on qnx,https://stackoverflow.com/questions/36402138/how-to-get-process-memory-on-qnx,3,1459771448,"c, qnx, qnx-neutrino","<p>I would like to get the process memory on qnx. On a shell,I can get the result using the command <code>showmem -P pid</code>. In c I open a pipe for the command but then I would like to parse the output of the command but I don't know how is it done.</p>

<pre><code>int main()
{ 
    pid_t self;
    FILE *fp;
    char *command;
    self=getpid();

    sprintf(command,""showmem -P %d"",self);
    fp = popen(command,""r"");
    // Then I want to read the elements that results from this command line
}
</code></pre>
","<p>Your idea with the popen and showmem is feasible. You just have to parse the result from the popen() in order to extract the memory information.</p>

<p>Here is an example, assuming you don't have shared objects:</p>

<pre><code>int main(int argc, char *argv[]) {
    pid_t self;
    FILE *fp;
    char command[30];
    const int MAX_BUFFER = 2048;
    char buffer[MAX_BUFFER];
    char* p;
    char* delims = { "" ,"" };
    int memory[] = {-1, -1, -1, -1, -1 };
    int valueindex = -1;
    int parserindex = 0;
    self = getpid();
    sprintf(command, ""showmem -P %d"", self);

    fp = popen(command, ""r"");
    if (fp) {
        while (!feof(fp)) {
            if (fgets(buffer, MAX_BUFFER, fp) != NULL) {
                p = strtok( buffer, delims );
                while (p != NULL) {
                    if (parserindex &gt;=8 &amp;&amp; parserindex &lt;= 13) {
                        memory[++valueindex] = atoi(p);
                    }
                    p = strtok(NULL, delims);
                    parserindex +=1;
                }
            }
        }
        pclose(fp);
    }

    printf(""Memory Information:\n"");
    printf(""Total: %i\n"", memory[0]);
    printf(""Code: %i\n"", memory[1]);
    printf(""Data: %i\n"", memory[2]);
    printf(""Heap: %i\n"", memory[3]);
    printf(""Stack: %i\n"", memory[4]);
    printf(""Other: %i\n"", memory[5]);
    return EXIT_SUCCESS;
}
</code></pre>

<p>This program generates the following output:</p>

<pre><code>Memory Information:
Total: 851968
Code: 741376
Data: 24576
Heap: 73728
Stack: 12288
Other: 0
</code></pre>
"
36006479,Is Apache Thrift compatible with the QNX platform?,https://stackoverflow.com/questions/36006479/is-apache-thrift-compatible-with-the-qnx-platform,0,1458032055,"qt, thrift, qnx, blackberry-qnx","<p>I have code that is running on Linux platform. I am trying to port it on QNX platform. Here I have used Apache Thrift libraries and for the same I am using QT widgets  so it will provide cross platform development. If anyone trying for same then please answer me if the Apache Thrift libraries are compatible with the QNX platform, and if yes, then how..?</p>
",
1497112,Cannot start gvim with photon-gui (can&#39;t find a valid font),https://stackoverflow.com/questions/1497112/cannot-start-gvim-with-photon-gui-cant-find-a-valid-font,1,1254304158,"fonts, vim, qnx","<p>I'm having a problem trying to get gvim 7.2 working under QNX6.4.1 and Photon. Every time I 
try to start it I get the following error:</p>

<p>E665: Cannot start GUI, no valid font found</p>

<p>and I get the console vim instead. I think I've problem with my Photon 
configuration, or gvim configuration. As I already wrote, I've been using Photon, no xorg or xfree. I suppose that all I need is to specify font path for gvim, but don't know how under Photon.</p>

<p>thx</p>
",
35762180,how can i resolver &quot;ldd:fatal: could not load library libap.so.3&quot; [QNX 6.5.0],https://stackoverflow.com/questions/35762180/how-can-i-resolver-lddfatal-could-not-load-library-libap-so-3-qnx-6-5-0,0,1456972833,"runtime-error, qnx","<p>I am extremely new to <code>QNX</code>. </p>

<p>I created a photon Appbuilder project and when I run the application, it ends with below error </p>

<blockquote>
  <p>ldd:fatal: could not load library libap.so.3</p>
</blockquote>
",
22512491,Is the RT Linux kernel monolithic or a micro-kernel (like QNX)?,https://stackoverflow.com/questions/22512491/is-the-rt-linux-kernel-monolithic-or-a-micro-kernel-like-qnx,3,1395247134,"linux, operating-system, kernel, real-time, qnx","<p>I am studying some documents regarding RT linux and qnx and confused about monolithic and microkernel.Some papers are telling that RT linux is monolithic and some are saying that microkernel. I am worried which is right ?? could you please some one answer my question ??</p>

<p>I know QNX is a microkernel Os and confused w.r.t RTlinunx.
Could someone tell me what is the differenec between the two real time operating system and also the below question.
RT linux is monolithic or microkernel ??</p>
",
35057096,How to detect the path for usb in QNX,https://stackoverflow.com/questions/35057096/how-to-detect-the-path-for-usb-in-qnx,1,1453972099,"usb, qnx","<p>How we can detect that USB (pen drive) is under which path?
For one of our issue device was connected to /dev/ttyUSB1 instead of /dev/ttyUSB0.</p>

<p>How we can detect that where device is connected? 
Is there any command i QNX so that we can use that to detect the path of usb?</p>
","<p>Please follow this thread. This will solve your problem I hope.</p>

<p><a href=""https://stackoverflow.com/questions/29164829/usb-mass-storage-file-system-location-on-qnx/34410547#34410547"">Usb mass storage file system location on QNX</a></p>
"
34168433,Am I able to use C++11 in QNX?,https://stackoverflow.com/questions/34168433/am-i-able-to-use-c11-in-qnx,8,1449619341,"c++, c++11, qnx","<p>I have some cross-platform code with some C++11 features like <code>#include &lt;thread&gt;</code> and others. I will soon be using a QNX 6.6 board, and I'm wondering if my code can compile on it, and which features will be available.</p>

<p><a href=""http://www.qnx.com/developers/docs/6.4.0/neutrino/utilities/q/qcc.html"" rel=""noreferrer"">QCC</a> is the official QNX C++ compiler, but I can't find any documentation citing which C++11 features, or even which C++ features in general, it supports. Is this a wrapper around GCC or its own thing? Either way, can I get or compile other compilers on this platform?</p>
","<p>From what I know <code>qcc</code> is just using <code>gcc</code> internally. Because of this you can use all functionalities provided by the version of <code>gcc</code> that QNX decided to put into their package.</p>

<p>Judging from the <a href=""http://www.qnx.com/developers/articles/rel_5849_7.html"" rel=""noreferrer"">release notes of QNX 6.6</a> gcc 4.7 is used:</p>

<ul>
<li>GCC 4.7 tool chain, including support for the Intel Advanced Vector Extensions (AVX)</li>
<li>GDB 7.5 </li>
<li>New: Binutils 2.24 </li>
<li>Python 2.7.5, as a host-side tool</li>
</ul>

<p>The release notes provide a link to information about gcc 4.7 but I think <a href=""https://gcc.gnu.org/projects/cxx0x.html"" rel=""noreferrer"">this link</a> better shows which specific features are supported. There is too much information on the linked page, because of that I do not copy it. But in essence the link states:</p>

<blockquote>
  <p>GCC provides experimental support for the 2011 ISO C++ standard. This support can be enabled with the -std=c++11 or -std=gnu++11 compiler option ... GCC's C++11 mode implements much of the C++11 standard produced by the
  ISO C++ committee</p>
</blockquote>
"
34858374,"Double comparison using EXPECT_NEAR fails In QNX platform, but not in Linux",https://stackoverflow.com/questions/34858374/double-comparison-using-expect-near-fails-in-qnx-platform-but-not-in-linux,0,1453131025,"c++, linux, googletest, qnx","<p>Test Case is like this:</p>

<pre><code>EXPECT_NEAR(aVal, bVal, Delta);
</code></pre>

<p>In Linux: parameters values receptively like below: </p>

<pre><code>aVal = 14.661583000000000 
bVal = 14.661583000000000 
Delta = 1.0e-15 
</code></pre>

<p>Since, aVal and bVal are same, Hence this testcase passing on Linux. </p>

<p>In QNX:  What is happening I don't know, </p>

<pre><code>aVal = 14.661583000000000
bVal = 14.661582999999998
Delta = 1.0e-15 
</code></pre>

<p>Since, aVal and bVal are different, Hence this test case is fails.</p>

<pre><code>NOTE: aVal, bVal and Delta are in double data type.
</code></pre>

<p>I found out if we increase delta values like ""1.0e-10"" Testcase will pass I don't want to do that, because I don't want to increase delta value here. </p>

<p>Could somebody explain me, why in QNX has like this kind of problem, can't it round the double value inside when it compare with other value ? And how to solve this problem explicitly ?</p>
",
34724715,How to create this process tree using fork()?,https://stackoverflow.com/questions/34724715/how-to-create-this-process-tree-using-fork,-4,1452524862,"c, process, tree, fork, qnx","<p>first of all i would like to ask you how to create this process tree listed below with using only fork() function.</p>

<pre><code>|____1____
|___2__   |
|_4_   |  |_3_
|   |  |  |   |


#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;

int main() {
   if (fork()) {
</code></pre>

<p>The thing is I don't know what to do next and how it works.</p>
","<p>Let's try that with a bit more whitespace and some placeholder comments for you to fill in:</p>

<pre><code>/* initial process */
if (fork()) {
    /* process ? */

    if (fork()) {
        /* process ? */

        if (fork()) {
            /* process ? */

        } else {
            /* process ? */

        }
    } else {
        /* process ? */

    }
} else {
    /* process ? */

    if (fork()) {
        /* process ? */

    } else {
        /* process ? */
    }
}
</code></pre>
"
34587285,Retrieving the memory map of its own process in QNX,https://stackoverflow.com/questions/34587285/retrieving-the-memory-map-of-its-own-process-in-qnx,0,1451896611,"linux, virtual-memory, qnx, memory-mapping","<p>In Linux if we look at the /proc/self/maps:</p>

<pre><code>00400000-004ef000 r-xp 00000000 08:01 12845058                           /bin/bash
006ef000-006f0000 r--p 000ef000 08:01 12845058                           /bin/bash
006f0000-006f9000 rw-p 000f0000 08:01 12845058                           /bin/bash
006f9000-006ff000 rw-p 00000000 00:00 0
00d5a000-010a2000 rw-p 00000000 00:00 0                                  [heap]
7f6fe582a000-7f6fe5835000 r-xp 00000000 08:01 1048595                    /lib/x86_64-linux-gnu/libnss_files-2.19.so
7f6fe5835000-7f6fe5a34000 ---p 0000b000 08:01 1048595                    /lib/x86_64-linux-gnu/libnss_files-2.19.so
7f6fe5a34000-7f6fe5a35000 r--p 0000a000 08:01 1048595                    /lib/x86_64-linux-gnu/libnss_files-2.19.so
7f6fe5a35000-7f6fe5a36000 rw-p 0000b000 08:01 1048595                    /lib/x86_64-linux-gnu/libnss_files-2.19.so
</code></pre>

<p>I want information like pathname and starting address for Qnx. How can I get that information?</p>

<p>My analysis says that there is not /proc/self/maps file in Qnx.</p>
","<p>We have self file in QNX too !!</p>

<p>The address space is represented by a binary file called ""as"" in every folder in /proc. /proc/self/as contains the address space of the current process. </p>

<p>Problem is that its not human readable directly. You need to use devctl() to read it. Below is the link for all the devctl commands regarding address space decoding.</p>

<p><a href=""http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_cookbook%2Fs3_procfs.html"" rel=""nofollow"">http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_cookbook%2Fs3_procfs.html</a></p>

<p>Example - 
devctl(""/proc/self/as"",DCMD_PROC_TIDSTATUS,&amp;debug_data,                   sizeof(debug_data)</p>

<p>This command will give you debug data of the thread in a struct _debug_thread_info structure. </p>

<p>Similarly DCMD_PROC_PAGEDATA and DCMD_PROC_MAPINFO can be used to get the segment  mapping ( in linux <strong>maps</strong> file does this) information of a process's address space.</p>

<p>Hope this helps.</p>
"
34607309,ftw support for large files in linux,https://stackoverflow.com/questions/34607309/ftw-support-for-large-files-in-linux,1,1451983040,"linux, system, large-files, qnx","<p>currently ftw() that I am using does not support large files over 2GB.
qnx provides ftw64() for handling large files.
There is no entry for ftw64 in man pages.
Any help would be appreciated</p>
",
34597796,How to select a row using shell scripting?,https://stackoverflow.com/questions/34597796/how-to-select-a-row-using-shell-scripting,0,1451933350,"linux, shell, unix, qnx","<p>Consider the below example:</p>

<pre><code>Parameter1 = 5
Parameter2 = 10
Parameter3 = 15
Parameter4 = 20
</code></pre>

<p>I want to fetch the value depending on the parameter name by providing a user input as shown below:</p>

<pre><code>echo """"
echo "" Enter the parameter name""
read value
Parameter = ""$value""
</code></pre>

<p>Check if the parameter is existing within the concern file</p>

<pre><code>if grep -qs ""$Parameter"" ""Filename""
then 
    echo "" Parameter exist within the concern file""
    val = #Here I want to fetch the value of the parameter that the user had input and I do not know how to do it? 
</code></pre>

<p>Kindly let me know how I can fetch the value of the parameter which the user had given as input.</p>
",
31304256,Where is normal memory mappings?,https://stackoverflow.com/questions/31304256/where-is-normal-memory-mappings,0,1436391404,"synchronization, posix, mutex, shared-memory, qnx","<p>In the description of QNX Neutrino RTOS and also Blackberry10 OS (<a href=""http://developer.blackberry.com/playbook/native/reference/com.qnx.doc.neutrino.lib_ref/topic/p/pthread_mutex_init.html"" rel=""nofollow"">here</a>) for <code>pthread_mutex_init()</code>, it is said the following:</p>

<blockquote>
  <p>You should allocate synchronization objects only in normal memory
  mappings. On certain processors (e.g. some PPC ones), atomic
  operations such as calls to pthread_mutex_lock() will cause a fault if
  the control structure is allocated in uncached memory.</p>
</blockquote>

<p>I have defined my <code>Mutex</code> out of any function and I'm getting 'memory fault' error while trying to do <code>pthread_mutex_init()</code>. So, I'm wondering what do ""normal memory mappings"" and ""uncached memory"" terms mean? Where should I define my <code>Mutex</code> lock? </p>
",
29164829,Usb mass storage file system location on QNX,https://stackoverflow.com/questions/29164829/usb-mass-storage-file-system-location-on-qnx,1,1426848761,"qnx, qnx-neutrino","<p>I need my software to be notifed that usb mass storage stick has been inserterd, also i need locationa where this stick has been mounted. Is it possible to obtain this information, especially location on fs where stick has been mounted from any C library ?</p>

<p>For instertion i already know usbd_connect() and i'm using it. Unfortunatelly there is no information with respect to location on fs.</p>

<p>regards
JosiP</p>
","<p>io-usb should be up and running on your target.</p>

<p>Add the library ""usbdi"" to your project.</p>

<p>Then use the following code snipet :</p>

<pre><code>#include &lt;sys/usbdi.h&gt;

static struct usbd_connection *conn_usb = NULL;
static void cbinsert(struct usbd_connection *connection, usbd_device_instance_t *ins);
static void cbremove(struct usbd_connection *connection, usbd_device_instance_t *ins);

        int init(void)
        {
            usbd_funcs_t funcs = { _USBDI_NFUNCS, cbinsert, cbremove, NULL };
            usbd_connect_parm_t parm = {NULL, USB_VERSION, USBD_VERSION, 0, 0, NULL, 0, NULL,  &amp;funcs,0};

            if (usbd_connect(&amp;parm, &amp;conn_usb) != EOK) {
                /* write your own error handler */
            }
</code></pre>

<p>And then, add your customized handler :</p>

<pre><code>static void cbinsert(struct usbd_connection *usb_connection,usbd_device_instance_t *usb_instance)
{
    if (usb_instance-&gt;ident.dclass == 8 &amp;&amp; usb_instance-&gt;ident.subclass == 6) {
        /* USB mass storage */
    } else if (usb_instance-&gt;ident.dclass == 3 &amp;&amp; usb_instance-&gt;ident.subclass == 1) {
        /* USB mouse */
    } else {
        /* unknown device */
    }
</code></pre>

<p>This is an example. You will have to customized it.
But everything you need is there.</p>

<p>Hope this help !
Emmanuel</p>
"
34326955,socket communication in QNX,https://stackoverflow.com/questions/34326955/socket-communication-in-qnx,1,1450328528,"sockets, qnx","<p>When I compare UDP socket communication between linux and QNX, I observed linux socket communication is much faster than in QNX. I written a test code to send 258MB of data to remote place using UDP sockets. Same code compiled for linux and QNX, and ran on their respective machines. I made application aware of retransmission. I observed retransmission is comparatively very less in linux than QNX. Please suggest if I need to use any QNX specific system calls, rather generic sendmsg/recvfrom. </p>
",
26347116,Why isn&#39;t this perl cgi script redirecting?,https://stackoverflow.com/questions/26347116/why-isnt-this-perl-cgi-script-redirecting,1,1413227125,"perl, cgi, qnx","<p>I have a perl cgi script that is exactly the following:</p>

<pre><code>#!/usr/bin/perl -w
use CGI;
$query = new CGI;
print $query-&gt;redirect(""http://www.yahoo.com"");
</code></pre>

<p>At the command line things look OK:</p>

<pre><code>$perl test.pl
Status: 302 Moved
Location: http://www.yahoo.com
</code></pre>

<p>When I load it in the browser, <code>http://localhost/cgi-bin/test.pl</code>, the request gets aborted, and depending on the browser I get various messages:</p>

<ul>
<li><p>Connection reset by server. </p></li>
<li><p>No data received.</p></li>
</ul>

<p>The only research I could find on this issue, stated that a common problem is printing some data or header before the redirect call, but I am clearly not doing that here.</p>

<p>I'm hosting it from a QNX box with the default slinger server.</p>
",
34128800,initializer_list memory fault,https://stackoverflow.com/questions/34128800/initializer-list-memory-fault,1,1449475007,"c++, c++11, initializer-list, qnx","<p>I'm trying to initialize an object of my class using constructor with initializer_list.</p>

<p>The code is following:</p>

<pre><code>QueryBuilder::QueryBuilder(std::initializer_list&lt;std::string&gt; list)
{
   std::cout &lt;&lt; ""QueryBuilder constructor begin"" &lt;&lt; std::endl;
   std::cout &lt;&lt; ""List size: "" &lt;&lt; list.size() &lt;&lt; std::endl;
   for(const auto&amp; element : list)
   {
      std::cout &lt;&lt; ""List element: "" &lt;&lt; element &lt;&lt; std::endl;
      query_.tokens_.emplace_back(new NameEqualToken(element));
   }
   std::cout &lt;&lt; ""QueryBuilder constructor end"" &lt;&lt; std::endl;
}
</code></pre>

<p>The constructor is called in the following way:</p>

<pre><code>QueryBuilder{""Path""}
</code></pre>

<p>Unfortunately, during execution of this part I have always got the memory fault.</p>

<pre><code>Console output:
QueryBuilder constructor begin 
List size: 2857706971 
List element: Path
</code></pre>

<p>and then some random characters (program is trying to read the second element, which does not exists) finalized by memory fault. </p>

<p>It looks like the size of the initializer_list, passed to the constructor, is invalid.</p>

<p>PS I have also tried with const char* as a initializer list template parameter type.</p>

<p>Can anyone tell me what I'm doing wrong ?</p>

<p>I'm using gcc 4.7.3 (crosscompiler armv7).</p>
",
33999823,Steps required to port from QNX to open source RTOS,https://stackoverflow.com/questions/33999823/steps-required-to-port-from-qnx-to-open-source-rtos,0,1448890266,"c++, rtos, qnx","<p>What are the options available as an open source alternatives to QNX neutrino OS ?
Also what are the steps involved in porting code from QNX to other RTOS ?</p>

<p>Thanks</p>
",
33821513,Thread in ready state consumes CPU,https://stackoverflow.com/questions/33821513/thread-in-ready-state-consumes-cpu,0,1448005831,"multithreading, qnx","<p>I understand that only the threads in running state actually consumes CPU but as show below by top in QNX platform, total CPU states is 99.3 which is a cumulative of four threads of which only one is in running state.</p>

<p>Any idea why CPU is consumed more than what running threads consume?</p>

<pre><code>    CPU states: 99.3% user, 0.6% kernel
    CPU  0 Idle: 0.0% 
    CPU  1 Idle: 0.0% 
    Memory: 0 total, 1G avail, page size 4K
    PID   TID PRI STATE HH:MM:SS CPU  COMMAND
    704585 11  10  Run   0:01:52 24.82% App
    704585 10  10  Rdy   0:01:52 24.68% App
    704585 13  10  Rdy   0:01:52 24.53% App
    704585 16  10  Rdy   0:01:49 24.19% App
</code></pre>
","<p>The threads that are ready were in a running state when they consumed the CPU. Given the very similar CPU values, I'll bet that all of those threads are always either ready to run or running.</p>
"
33804840,How to set up a breakpoint to catch the USB device getting control?,https://stackoverflow.com/questions/33804840/how-to-set-up-a-breakpoint-to-catch-the-usb-device-getting-control,2,1447938486,"debugging, gdb, usb, qnx","<p>I need to understand how the code on a USB gets the control after plug-in to the QNX device. What I already done:</p>

<ol>
<li>Save slogger output (using sloginfo) during plugging the USB </li>
</ol>

<p>Through it I understand that devb-umass driver and then mme-update get the control. I got and disasm the mme-update. Find the string from sloginfo and code that prints it</p>

<ol start=""2"">
<li><p>I ran gdb, check memory on needed addresses (it's ok, just like in disasm) and set breakpoint on code and watchpoint on a string. Plan was to trace the code further till USB code</p></li>
<li><p>Eject and plug the USB again. No reaction</p></li>
</ol>

<p>Could you please give some ideas why? May be you can thing of a better way to understand how code on the USB gets the control? Changing some byte to 0xCC on a USB doesn't seem the solution</p>
",
33713103,How to use .. QNX Momentics Application Profiler?,https://stackoverflow.com/questions/33713103/how-to-use-qnx-momentics-application-profiler,1,1447533625,"profiling, performance-testing, profiler, qnx","<p>I'd like to profile my (multi-threaded) application in terms of timing. Certain threads are supposed to be re-activated frequently, i.e. a thread executes its main job once every fixed time interval. In other words, there's a fixed time slice in which all the threads a getting re-activated.</p>

<p>More precisely, I expect certain threads to get activated every 2ms (since this is the cycle period). I made some simplified measurements which confirmed the 2ms to be indeed effective.</p>

<p>For the purpose of profiling my app more accurately it seemed suitable to use Momentics' tool ""Application Profiler"".
However when I do so, I fail to interpret the timing figures that I selected. I would be interested in the <em>average</em> as well in the <em>min</em> and <em>max</em> time it takes <strong>before</strong> a certain thread is re-activated. So far it seems, the idea is to be only able to monitor the times certain functions occupy. However, even that does not really seem to be the case. E.g. I've got 2 lines of code that are put literally next to each other:</p>

<p><code>if (var1 &amp;&amp; var2 &amp;&amp; var3) var5=1;</code> takes 1ms (avg)</p>

<p><code>if (var4) var5=0;</code> takes 5ms (avg)</p>

<p><a href=""https://i.sstatic.net/fuJJb.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/fuJJb.png"" alt=""enter image description here""></a></p>

<p>What is that supposed to tell me?</p>

<p>Another thing confuses me - the parent thread ""takes"" up 33ms on <em>avg</em>, 2ms on <em>max</em> and 1ms on <em>min</em>. Aside the fact that the <em>avg</em> shouldn't be bigger than <em>max</em> (i.e. even more I expect <em>avg</em> to be not bigger than 2ms - since this is the cycle time), it's actually increasing the longer I run the the profiling tool. So, if I would run the tool for half an hour the 33ms would actually be something like 120s. So, it seems that <em>avg</em> is actually the <em>total</em> amount of time the thread occupies the CPU.</p>

<p><a href=""https://i.sstatic.net/3drEM.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/3drEM.png"" alt=""enter image description here""></a></p>

<p>If that is the case, I would assume to be able to offset against the total time using the <em>count</em> figure which doesn't work either. Mostly due to the figure being almost never available - i.e. there is only as a separate list entry (for every parent thread) called <em></em> which does not represent a specific process scope.</p>

<p><a href=""https://i.sstatic.net/vJu2o.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/vJu2o.png"" alt=""enter image description here""></a></p>

<p>So, I read QNX community wiki about the <a href=""http://community.qnx.com/sf/wiki/do/viewPage/projects.ide/wiki/ApplicationProfiler"" rel=""nofollow noreferrer"">""Application Profiler""</a>, incl. the manual about <a href=""http://community.qnx.com/sf/docman/do/downloadDocument/projects.ide/docman.root.design/doc1164"" rel=""nofollow noreferrer"">""New IDE Application Profiler Enhancements""</a>, as well as the official manual articles about how to use the <a href=""http://www.qnx.com/developers/docs/6.5.0/topic/com.qnx.doc.ide.userguide/topic/profiler_Base_.html"" rel=""nofollow noreferrer"">profiler</a> tool.. but I couldn't figure out how I would use the tool to serve my interest.</p>

<p><strong>Bottom line</strong>: I'm pretty sure I'm misinterpreting and misusing the tool for what it was intended to be used. Thus my question - how would I interpret the numbers or use the tool's feedback properly to get my 2ms cycle time confirmed?</p>

<hr>

<p>Additional information</p>

<ul>
<li>CPU: single core</li>
<li>QNX SDP 6.5 / Momentics 4.7.0</li>
<li>Profiling Method: Sampling and Call Count Instrumentation</li>
<li>Profiling Scope: Single Application</li>
<li>I enabled ""Build for Profiling (Sampling and Call Count Instrumentation)"" in the Build Options<sup>1</sup></li>
</ul>
","<p>The <a href=""http://www.qnx.com/developers/docs/6.5.0/index.jsp?topic=%2Fcom.qnx.doc.ide.userguide%2Ftopic%2Fsysprof_INTRO_.html"" rel=""nofollow"">System Profiler</a> should give you what you are looking for. It hooks into the micro kernel and lets you see the state of all threads on the system.  I used it in a similar setup to find out what our system was getting unexpected time-outs.  (The cause turned out to be Page Waits on critical threads.)</p>
"
29311846,Retrieving showmem output on QNX,https://stackoverflow.com/questions/29311846/retrieving-showmem-output-on-qnx,0,1427499298,qnx,"<p>Does QNX store the output of showmem system call in some file?</p>

<p><em>showmem -S</em><br>
System RAM:     4096M (    4294967296)<br>
Total Used:     1425M (    1494345552)<br>
Used Private:   1075M (    1127446352)<br>
Used Shared:     349M (     366899200)  </p>
",
24040046,Find amount of installed memory on QNX system,https://stackoverflow.com/questions/24040046/find-amount-of-installed-memory-on-qnx-system,0,1401891741,qnx,"<p>How do I find the amount of memory installed on my QNX Neutrino system? </p>

<ul>
<li><code>uname -a</code> doesn't show it </li>
<li><code>top</code> only shows how much memory is available</li>
<li>I've looked at <code>pidin syspage</code> without success</li>
<li><code>pidin mem</code> shows all the used memory in gory detail</li>
</ul>
","<p>The amount of free RAM is the size of ""/proc"" !</p>

<p>In your own program, you can write something like this :</p>

<pre><code>#include &lt;sys/stat.h&gt;
struct stat buf;
if (stat(""/proc"", &amp;buf) != -1) {
    printf(""Mem free = %d\n"", buf.st_size);
}
</code></pre>

<p>--
Hope this help
Emmanuel</p>
"
33384784,Segmentation fault on recvfrom call,https://stackoverflow.com/questions/33384784/segmentation-fault-on-recvfrom-call,-1,1446015573,"c, sockets, segmentation-fault, qnx, recvfrom","<p>I have a UDP server implementation ,  Where i am getting Segmentation fault on <code>recvfrom</code> call.</p>

<pre><code>#define SIZEOF      sizeof
#define PKTSIZE    65535

char tmp_buf[PKTSIZE];
struct sockaddr_storage tmp_from;
int tmp_fromlen = 0;
int tmp_bytes;
tmp_bytes = truncate_size_t_to_int(recvfrom(fd, tmp_buf,
                      SIZEOF(tmp_buf), 0,
                      (struct sockaddr *) &amp;tmp_from,
                      (socklen_t *) &amp;tmp_fromlen));
</code></pre>

<p>Both bind and connect was successful before this.It's a single thread process.
What is wrong with this <code>recvfrom</code> call.
Do I need to do <code>SIGALRM</code> signal handling for <code>recvfrom</code>?
truncate_size_t_to_int is for size_t to int.</p>
",
33118093,"QNX - two partitions mounted to same mounting point, change mountpoints order, or select the targeted partition?",https://stackoverflow.com/questions/33118093/qnx-two-partitions-mounted-to-same-mounting-point-change-mountpoints-order-o,0,1444804101,"mount, qnx","<p>I have two partitions mounted to the same mounting point in the filesystem.</p>

<p>The partitions have explicitly set a precedence, to resolve filename in a desired order.</p>

<p>Assuming Partition A is mounted before any other partition and partition B is mounted after all other partitions.
Every time when I point to some pathname, the system, at first, looks at the partition A, and in case it is not able to resolve the filename, it looks at the partition B.</p>

<p><strong>The question is, how can I 'dynamically' change this order or explicitly points the desired partition?</strong></p>

<p><strong>Second issue.. perhaps it is possible to replicate the partition B mounting point under additional location ? Something like mount --bind under QNX ?</strong></p>

<p>I know I can umount and mount partitions again, but this is not an option.
Also I'm not able to change the mounting order of the partition by the remount, even if I explicitly set the 'after' flag for the partition A.</p>
",
33077341,How do I compile googleTestLibrary on QNX 6.5.0?,https://stackoverflow.com/questions/33077341/how-do-i-compile-googletestlibrary-on-qnx-6-5-0,1,1444641227,"build, googletest, qnx, qnx-neutrino","<p>I want to compile google Test Library on QNX. But I did not success. I tried everything. Can be seen my compilation errors below</p>

<p>Is someone share to <strong>libGoogleTest_g.a</strong> and <strong>libGoogleTest.a</strong> file for me ?</p>

<pre><code>D:/ETCT_PROJECTS/CommonLibrary/Test/ETCCommon/Common/QNXUnitTests/../../../../GoogleTestLibrary/lib\libgoogleTest_g.a(gtest-all.o): 
In function `_M_initialize_dispatch&lt;const char* const*&gt;':
/usr/qnx650/target/qnx6/usr/include/c++/4.4.2/ext/new_allocator.h:87: undefined reference to `std::__throw_bad_alloc()'
D:/ETCT_PROJECTS/CommonLibrary/Test/ETCCommon/Common/QNXUnitTests/../../../../GoogleTestLibrary/lib\libgoogleTest_g.a(gtest-all.o): 
In function `operator&lt;&lt; &lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;':
/usr/qnx650/target/qnx6/usr/include/c++/4.4.2/bits/basic_string.h:2506:
 undefined reference to `std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::__ostream_insert&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*, int)'
D:/ETCT_PROJECTS/CommonLibrary/Test/ETCCommon/Common/QNXUnitTests/../../../../GoogleTestLibrary/lib\libgoogleTest_g.a(gtest-all.o): 
In function `ValueHolder':
/usr/qnx650/target/qnx6/usr/include/c++/4.4.2/ext/new_allocator.h:87: undefined reference to `std::__throw_bad_alloc()'
D:/ETCT_PROJECTS/CommonLibrary/Test/ETCCommon/Common/QNXUnitTests/../../../../GoogleTestLibrary/lib\libgoogleTest_g.a(gtest-all.o): In function `~DeathTestImpl':
/home/emres/GoogleTest/./src/gtest-death-test.cc:374:
 undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, std::allocator&lt;char&gt; const&amp;)'
/home/emres/GoogleTest/./src/gtest-death-test.cc:374:
 undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, std::allocator&lt;char&gt; const&amp;)'
/home/emres/GoogleTest/./src/gtest-death-test.cc:374:
 undefined reference to `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, std::allocator&lt;char&gt; const&amp;)'
</code></pre>
","<p>Check this link to fix the compilation problem.
<a href=""https://code.google.com/p/googletest/issues/detail?id=444"" rel=""nofollow"">https://code.google.com/p/googletest/issues/detail?id=444</a>
After you fixed the compilation problem, follow the below steps to create your static library files.</p>

<ul>
<li>Generate gtest-all.o object file for all configurations(DEBUG RELEASE) simply open QNX momentics and right click to gtest-all.cc</li>
<li>Login to QNX, and copy your gtest-all.o files to any directory</li>
<li>enter the directory to where files copied</li>
<li><p>create static libraries by using ar(archive) command as shown below.</p>

<p>DEBUG   : ar -rv libgoogle_test_g.a gtest-all.o</p>

<p>RELEASE : ar -rv libgoogle_test.a gtest-all.o</p></li>
</ul>

<p>Copy *.a files from QNX and use new static library in your project </p>
"
33027682,How to mount a CD with QNX on a virtual machine,https://stackoverflow.com/questions/33027682/how-to-mount-a-cd-with-qnx-on-a-virtual-machine,-3,1444347622,"virtual-machine, vmware, mount, qnx","<p>I'm trying to mount an iso image on my Virtual Machine running QNX.</p>

<p>How do I do this?</p>

<p>I'm using VMWare Player. I've loaded the iso file under player > removable devices > cd/dvd > settings, but I can't find it in my QNX file system.</p>

<p>I'm new to QNX, and to Linux to which it is similar, but I've been able to find most of the Linux commands I will need. However, unless I can find the name of the cd drive, I can't mount it.</p>
",
33098449,How can I fix QNX ldd:FATAL:Could not load library XXXX.so.0?,https://stackoverflow.com/questions/33098449/how-can-i-fix-qnx-lddfatalcould-not-load-library-xxxx-so-0,5,1444727070,"fatal-error, qnx","<p>I am trying to run GoogleTestLibrary on QNX ? </p>

<p>But i am getting this error message?</p>

<pre><code>ldd:FATAL: Could not load library libgtest.so.0
</code></pre>

<p>Firstly i build googtestLibrary on qnx virtual machine with make command and it genarates lib files.</p>

<p>And then i added these libs in qnx extra library paths. Also i added extra include file for GoogleTestLibrary. And then i build my qnx project on QNX momentics ide and it build successfully. And then i tried to run but it gave me the ldd:FATAL: Could not load library libgtest.so.0 that error.</p>

<p>I included all libraries into the projects but i did not get success run. Does anyone encourage the that problem?</p>
","<p>I found the solution. 
I copied <strong>libgtest.so.0</strong> library to /usr/lib folder in target machine. </p>

<p>And i restarted to target machine. After that i can run my projects. Thanks for advices.</p>
"
33070727,How to show Qt (widgets) app on QNX based on specific location and size?,https://stackoverflow.com/questions/33070727/how-to-show-qt-widgets-app-on-qnx-based-on-specific-location-and-size,2,1444601915,"qt, window, qnx","<p>I'm trying to make my Qt widgets-based app to run on QNX device on a specific location and size using <code>QWidget::setGeometry(..)</code>, but it always get shown in full screen.</p>

<p>The app uses <code>QMainWindow</code> with menu bar and a <code>QGLWidget</code> as the central widget.</p>

<p>The same code running on Linux desktop works fine, positioned based on the provided <code>x</code> &amp; <code>y</code> and with the provided size.</p>

<p>Does the windowing system on QNX not support this? Or is it Qt that does not able to use the windowing system on QNX? Or something else? I don't get it :(</p>

<p>Any help is much appreciated!</p>
","<p>The Qt platform plugin is implemented with the platform capabilities and limitations in mind. Seems like QNX only supports window switching, no full fledged window management as you would have in windows or linux, therefore Qt applications are implicitly, and possibly intrinsically full screen. </p>

<p>If you desire to not have it on the entire screen, just implement a blank main window and position the central widget by having it free floating rather than being put in a layout inside the main window.</p>

<p>But that doesn't mean you will be able to put more applications on the screen, you will only not be using the entire screen for the one application window it displays. You could fake multiple applications by simply using multiple widgets and implement your own fake window manager, the caveat is you will still be using one process, which may or may not end up being an issue.</p>

<p>Here is what I mean by a ""free floating widget"":</p>

<pre><code>class YourWidget : public QWidget {
    Q_OBJECT
public:
    YourWidget(QWidget * p) : QWidget(p) { resize(100, 100); }
    void paintEvent(QPaintEvent *) {
        QPainter p(this);
        p.fillRect(rect(), Qt::black);
    }
};

class MainWindow : public QMainWindow {
    Q_OBJECT
public:
    MainWindow(QWidget *parent = 0) : QMainWindow(parent) {
        resize(500, 500);
        QWidget * blank = new QWidget;
        setCentralWidget(blank);
        widget = new YourWidget(blank);
        widget-&gt;move(rect().center());
    }

    void mousePressEvent(QMouseEvent * e) {
        widget-&gt;move(e-&gt;pos());
    }
private:
    YourWidget * widget;
};
</code></pre>

<p><code>YourWidget</code> is no longer anchored by a layout, it is free to move to arbitrary position, it is still drawn in the confines of its container widget, which is just a blank widget set as the window's central widget and lifetime is also managed automatically.</p>
"
32900469,How to access static library from the application in qnx660,https://stackoverflow.com/questions/32900469/how-to-access-static-library-from-the-application-in-qnx660,0,1443759349,"qnx, qnx-neutrino, qnx-ifs","<p>I have installed qnx660 in Ubuntu 14.04. </p>

<p>1-I have created a test project hello world for application.In Build variant option i have selected x86 variant. While building the project there is no error message in the console. After building the project in side the work space for x86 its creating both o and o-g folder. But when trying to run project as C/C++ QNX Application some error like ""must select a target"". So please suggest me how to resolve this issue. </p>

<p>2- I have created two project one for application and second for shared library. From application i want to access API which have to define in the library. But i am not able to write anything because there is no .c file to write. In library project only Makefile and comman.mk is available. So please help me to solve the issue.</p>
","<p>Right click on your project.....then Properties -> Qnx c/c++ project -> Build variants TAB. You must check platform and build variant (release or debug) . Please, see image<a href=""https://i.sstatic.net/sTAHp.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/sTAHp.jpg"" alt=""enter image description here""></a></p>

<p>then open Debug Dialog and choose Qnx target. Press bug image and choose ""Open Debug Dialog""<a href=""https://i.sstatic.net/CEZdB.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/CEZdB.jpg"" alt=""enter image description here""></a></p>

<p>In the Debug dialog choose Main tab and in the bottom you must choose Qnx Target. I attach screenshot. <a href=""https://i.sstatic.net/Znzu4.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Znzu4.jpg"" alt=""enter image description here""></a></p>

<p>For your second question.....simply Right click on your progect , then New->Header File (or Source File) <a href=""https://i.sstatic.net/OS4zZ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/OS4zZ.jpg"" alt=""enter image description here""></a></p>
"
32401715,"Like &#39;__LINE__&#39;, is there any standard macro in C/C++ which prints thread name or ID?",https://stackoverflow.com/questions/32401715/like-line-is-there-any-standard-macro-in-c-c-which-prints-thread-name-o,0,1441380748,"c++, c, macros, posix, qnx","<p>I am using some functions across multiple threads in my application written in C++ in QNX IDE. Sometimes while analyzing the logs, it is difficult to find the thread who has called it. Though I can use <a href=""http://www.qnx.com/developers/docs/660/index.jsp?topic=%2Fcom.qnx.doc.neutrino.lib_ref%2Ftopic%2Fg%2Fgettid.html"" rel=""nofollow"">gettid</a> or <a href=""http://www.qnx.com/developers/docs/6.3.2/neutrino/lib_ref/p/pthread_getname_np.html"" rel=""nofollow"">pthread_getname_np</a> in logs, still looking for a standard macro like <a href=""http://www.qnx.com/developers/docs/6.4.0/dinkum_en/c99/preproc.html"" rel=""nofollow""> __LINE__ </a>.</p>

<p>Even if it is not supported by QNX, I would like to know if any other OS/Compiler/standard has it.</p>
",
23649071,c program error in the below program?,https://stackoverflow.com/questions/23649071/c-program-error-in-the-below-program,1,1400055153,"c, linux, time, qnx, qnx-neutrino","<p>I modified the io-packet of qnx and calculating a timestamp in the recieve.c file at ip layer.</p>

<p>CODE:</p>

<pre><code>uint64_t ipStart_time, IPLatency;
EXPORT_SYMBOL(IPLatency);         //I am using this in Linux

void rtl_receive ()
{
      ipStart_time = clock_cycles();
      IPLatency = ipStart_time;
}
</code></pre>

<p>I want to read that timestamp in my user program:</p>

<p>So I did :
code:</p>

<pre><code>extern uint64_t IPLatency;
</code></pre>

<p>But it is showing <code>error: undefined reference to IPLatency</code></p>
",
32305301,"comparison of QNX , Linux, Windows CE in terms of security",https://stackoverflow.com/questions/32305301/comparison-of-qnx-linux-windows-ce-in-terms-of-security,0,1441003427,"linux, qnx, windows-embedded-compact","<p>Can somebody help me in knowing which of the os(<strong>QNX,WINCE,LINUX</strong>) is best in terms of security and why ? </p>
",
3318900,How can I go about debugging this SIGSEV in gdb?,https://stackoverflow.com/questions/3318900/how-can-i-go-about-debugging-this-sigsev-in-gdb,2,1279894123,"gdb, qnx","<p>I am building previously working code, but I am getting a seg fault and I can't figure out what went wrong. gdb catches the error, but it doesn't point to an obvious cause. The source line it shows is a function name, so it doesn't even get into the function. If I look at the dissasembly of the instruction it is still setting up the stack, so maybe the stack is messed up. So how should I go about debugging this? This is in QNX 6.2, console gdb only.</p>

<pre><code>0x0816b829 in __ml (this=0x79b963c, anMultiplier=0) at ../u_matrix.cpp:56
56      tcMatrix tcMatrix::operator*(float64 anMultiplier)

0x816b820 &lt;__ml&gt;:       push   %ebp
0x816b821 &lt;__ml+1&gt;:     mov    %esp,%ebp
0x816b823 &lt;__ml+3&gt;:     sub    $0x13ac,%esp
0x816b829 &lt;__ml+9&gt;:     push   %edi
0x816b82a &lt;__ml+10&gt;:    push   %esi
0x816b82b &lt;__ml+11&gt;:    push   %ebx 
</code></pre>
","<p>The instruction you are crashing on is <code>push %edi</code>.</p>

<p>This most likely means that you have a stack overflow.</p>

<p>One likely cause of stack overflow is infinite recursion. If <code>(gdb) where</code> shows unending stream of function calls, that's your problem.</p>

<p>If <code>where</code> shows reasonable sequence of calls, execute <code>info frame</code> and <code>up</code> repeatedly, looking for frames with unreasonably large size.</p>

<p>Finally, the problem may be caused by a change in your execution environment, and not by anything in your program. I am not sure what QNX equivalent of <code>ulimit -s</code> is, but it's possible that your stack limit is simply too small.</p>
"
26846268,QNX USB Utility not found?,https://stackoverflow.com/questions/26846268/qnx-usb-utility-not-found,0,1415630509,qnx,"<p>I have a physical box with QNX 6.3.0 installed.  PS/2 mice and keyboard work fine.   I'm trying to see if I can get a USB mouse going.  What info I could find seemed to say I should start with:</p>

<p><code>usb -vvv</code></p>

<p>However, I get this:</p>

<pre><code>$ usb
/bin/sh: usb: not found
</code></pre>

<p>Where's the usb utility supposed to be installed at, and why is it not found?  Isn't it supposed to be a default utility?</p>
",
31876381,What are ways through which i can develop an application which runs on QNX?,https://stackoverflow.com/questions/31876381/what-are-ways-through-which-i-can-develop-an-application-which-runs-on-qnx,0,1438946055,"linux, qnx","<p>I was wondering around Internet for proper article regarding how to develop a good UI app for QNX . I was able to find things like -</p>

<ol>
<li>We can use jamaicaVM to port our code developed on java to c .</li>
</ol>

<p>Following are my questions :</p>

<ol>
<li>On what platform should i develop the app for QNX .</li>
<li>The app should have proper UI.</li>
</ol>

<p>This might even help other developer . </p>
",
31899638,Why does the priority of a process change after receiving a message in QNX?,https://stackoverflow.com/questions/31899638/why-does-the-priority-of-a-process-change-after-receiving-a-message-in-qnx,0,1439077394,"unix, operating-system, scheduling, qnx, thread-priority","<p>I wrote a simple <code>C</code> program and compiled it with <code>gcc</code> as usual. When it starts, the default priority is <code>10</code>. Using the <code>sched_setparam()</code> API, I boost the priority of process to <code>100</code>. I noticed that when another process with priority of <code>10</code> sends a message to the first process via <code>MsgSend()</code> API, the priority of the first process goes back to <code>10</code>!</p>

<p>I'm wondering why does this happen? Is there such a similar behavior in other POSIX-compliant operating systems?</p>
",
31669679,How to get Memory information from QNX using c program?,https://stackoverflow.com/questions/31669679/how-to-get-memory-information-from-qnx-using-c-program,1,1438067661,"c, ubuntu, qnx","<p>I have written a code which perfectly works on Ubuntu . But getting unexpected behavior on QNX . </p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;limits.h&gt;
#include &lt;unistd.h&gt;

int main( void )
  {

    printf( ""Total Memory  = %ld MB\n"",
    (sysconf(_SC_PHYS_PAGES)* sysconf(_SC_PAGESIZE))/1048576);

    printf(""Getting available memory...\n"");
    printf( ""Available     = %ld MB\n"",
    (sysconf(_SC_AVPHYS_PAGES)* sysconf(_SC_PAGESIZE))/1048576);

    printf(""Getting used memory...\n"");
    printf( ""Used Memory   = %ld MB\n"",((sysconf(_SC_PHYS_PAGES) - 
    sysconf(_SC_AVPHYS_PAGES))* sysconf(_SC_PAGESIZE))/1048576);

    return EXIT_SUCCESS;
}
</code></pre>

<p>This perfectly works fine on Ubuntu but not on QNX .
Is there any different way out to do this ?</p>

<p>Output :</p>

<pre><code>     Total Memory = - 3906 MB

     Available    = - 3096 MB

     Used Memory  =  0 MB
</code></pre>
","<p>After investing lot of time i got a way i could do it.</p>

<p>Using:</p>

<pre><code>Showmem -S
</code></pre>

<p>To execute this command from c Programming Language use pipe</p>

<pre><code>FILE *fp;
pf = popen(command,""r""); 
</code></pre>

<p>Then you can grab the data from fp.</p>
"
31428989,How to compile Simple C program in QNX,https://stackoverflow.com/questions/31428989/how-to-compile-simple-c-program-in-qnx,0,1436959224,qnx,"<p>I am trying to compile simple C program using QNX as shown below.</p>

<p>conftest.c</p>

<pre><code>int main ()
{
  return 0;
}
</code></pre>

<p>compiling with option:</p>

<p><code>qcc conftest.c -V4.7.3,gcc_ntoarmv7le_cpp</code></p>

<p>compiler throw error like below</p>

<pre><code>cc: ignoring unknown option '""-D__GNUC__'
cc: ignoring unknown option '""-D__GNUC__'
cc: ignoring unknown option '   --dynamic-linker /usr/lib/ldqnx.so.2 --sysroot'
cc: ignoring unknown option '   --hash-style'
cc: ignoring unknown option '%(fmudflap: --wrap'
cc: ignoring unknown option '""-D__GNUC__'
cc: ignoring unknown option '""-D__GNUC__'
cc: ignoring unknown option '   --dynamic-linker /usr/lib/ldqnx.so.2 --sysroot'
cc: ignoring unknown option '   --hash-style'
cc: ignoring unknown option '%(fmudflap: --wrap'
 failed: No such file or directoryys-qnx-660-all/bin/sys/qnx/host/linux/x86/usr/lib/gcc/arm-unknown-nto-qnx6.6.0eabi/4.7.3/
 failed: No such file or directoryys-qnx-660-all/bin/sys/qnx/host/linux/x86/usr/bin/arm-unknown-nto-qnx6.6.0eabi-as
 error 1e//Desktop/sys-qnx-660-all/bin/sys/qnx/host/linux/x86/usr/lib/gcc/arm-unknown-nto-qnx6.6.0eabi/4.7.3/
 error 1e/Desktop/sys-qnx-660-all/bin/sys/qnx/host/linux/x86/usr/bin/arm-unknown-nto-qnx6.6.0eabi-as
</code></pre>

<p>How to I compile it? </p>
",
31494627,How to start a background process in QNX using mkifs script?,https://stackoverflow.com/questions/31494627/how-to-start-a-background-process-in-qnx-using-mkifs-script,0,1437246527,"qnx, qnx-neutrino, qnx-ifs","<p>I have a <code>mkifs</code> script file with <code>.build</code> extension for building a qnx <code>.ifs</code> image. I would like to start a process in background when my QNX is booted with the image. The process is a service which waits for incoming requests and never ends.</p>

<p>I'm wondering how could I define my process in the <code>.build</code> file to run it in background.</p>
",
18666094,How to build Qt 5.1 for QNX target (arm),https://stackoverflow.com/questions/18666094/how-to-build-qt-5-1-for-qnx-target-arm,4,1378499325,"c++, qt, qt5, qmake, qnx","<h2>new update</h2>

<p>I think I should edit the title now. </p>

<p>To make sure I got a clean environment, I </p>

<ol>
<li>download qt5.1.1 src code from qt-prject. </li>
<li>export QNX_TARGET, QNX_HOST, AND add QNX_HOST into PATH. </li>
<li>
then Run the script
<code>./configure -opensource -confirm-license -xplatform qnx-armv7le-qcc -v</code></li>
</ol>

<p>so in here, -opensource -confirm-license just avoid the Q&amp;A -v is to show full message. </p>

<p>a lot of error message. </p>

<pre><code>Creating qmake...
make: Nothing to be done for `first'.
Running configuration tests...
Determining architecture... ()
qcc -Vgcc_ntoarmv7le -c -Wno-psabi -lang-c++ -g -Wall -W -fPIE -DQT_NO_CLIPBOARD -I../../mkspecs/qnx-armv7le-qcc -I. -I/opt/qnx650/target/qnx6/usr/include -I/opt/qnx650/target/qnx6/usr/include/freetype2 -o arch.o arch.cpp
Unable to determine architecture!

Could not determine the target architecture!
Turn on verbose messaging (-v) to see the final report.
Determining architecture... ()
g++ -c -pipe -g -Wall -W -fPIE  -I../../mkspecs/linux-g++ -I. -o arch.o arch.cpp
g++  -o arch arch.o    { test -n """" &amp;&amp; DESTDIR="""" || DESTDIR=.; } &amp;&amp; test $(gdb --version | sed -e 's,[^0-9]\+\([0-9]\)\.\([0-9]\).*,\1\2,;q') -gt 72 &amp;&amp; gdb --nx --batch --quiet -ex 'set confirm off' -ex ""save gdb-index $DESTDIR"" -ex quit 'arch' &amp;&amp; test -f arch.gdb-index &amp;&amp; objcopy --add-section '.gdb_index=arch.gdb-index' --set-section-flags '.gdb_index=readonly' 'arch' 'arch' &amp;&amp; rm -f arch.gdb-index || true
Found architecture in binary
CFG_HOST_ARCH=""x86_64""
CFG_HOST_CPUFEATURES="" mmx sse sse2""
System architecture: 'unknown'
Host architecture: 'x86_64'
C++11 auto-detection... ()
qcc -Vgcc_ntoarmv7le -c -Wno-psabi -lang-c++ -O2 -Wc,-std=gnu++0x -Wall -W -fPIE-DQT_NO_CLIPBOARD -I../../../mkspecs/qnx-armv7le-qcc -I. -I/opt/qnx650/target/qnx6/usr/include -I/opt/qnx650/target/qnx6/usr/include/freetype2 -o c++11.o c++11.cpp
C++11 disabled.
floatmath auto-detection... ()
qcc -Vgcc_ntoarmv7le -c -Wno-psabi -lang-c++ -O2 -Wall -W -fPIE -DQT_NO_CLIPBOARD-I../../../mkspecs/qnx-armv7le-qcc -I. -I/opt/qnx650/target/qnx6/usr/include -I/opt/qnx650/target/qnx6/usr/include/freetype2 -o floatmath.o floatmath.cpp
qcc -Vgcc_ntoarmv7le -c -Wno-psabi -lang-c++ -O2 -Wall -W -fPIE -DQT_NO_CLIPBOARD -I../../../mkspecs/qnx-armv7le-qcc -I. -I/opt/qnx650/target/qnx6/usr/include -I/opt/qnx650/target/qnx6/usr/include/freetype2 -o freetype.o freetype.cpp
FreeType disabled.
STL auto-detection... ()
qcc -Vgcc_ntoarmv7le -c -Wno-psabi -lang-c++ -O2 -Wall -W -fPIE -DQT_NO_CLIPBOARD -I../../../mkspecs/qnx-armv7le-qcc -I. -I/opt/qnx650/target/qnx6/usr/include -I/opt/qnx650/target/qnx6/usr/include/freetype2 -o stltest.o stltest.cpp
STL disabled.
STL functionality check failed! Cannot build Qt with this STL library.
Turn on verbose messaging (-v) to /home/pasadeveloper/qt-everywhere-opensourcesrc-5.1.1/qtbase/configure to see the final report.
</code></pre>

<hr>

<p>UPDATE:
I am working on QNX for ARM, target is an arm platform device. 
Thing is getting weird. in Env Var, I put  </p>

<pre><code>$QNX_CONFIGURATION=/etc/qnx
$QNX_JAVAHOME=/opt/qnx650/_jvm
$QNX_TARGET=/opt/qnx650/target/qnx6
$QNX_HOST=/opt/qnx650/host/linux/x86
</code></pre>

<p>but when I do <code>qmake qmake.conf</code> mkspecs/qnx-armv7le-qcc folder
it returns an error message <code>Project ERROR: QNX_TARGET environment variable not set</code></p>

<p>Have no clue what is going on now. </p>

<hr>

<p>not just qmake qmake.conf
I try to build qt 5.1.2 at another host, ubuntu 12.04-64bit. 
also get the same error message.  <code>Project ERROR: QNX_TARGET environment variable not set</code></p>

<hr>

<p>I was working at Qt development under linux(FYI Ubuntu 12.04 -64bits), but I need to compile this program to binary for QNX. 
I install QNX MOmentics IDE which provide QNX-gcc for me. 
but I can't find the qmake-qnx. </p>

<p>Under the QT/gcc_64/mkspecs/qnx-armv7le-qcc, there is a file call qmake.conf. I guess this is where I can generate my qmake-qnx. after I run qmake -o Makefile qmake.conf, there is a Makefile generated. </p>

<p>However, when I run make, error occured. </p>

<pre><code>qcc -Vgcc_ntoarmv7le -lang-c++ -Wl,-rpath-link,/opt/qnx650/target/qnx6/armle-v7/lib -Wl,-rpath-link,/opt/qnx650/target/qnx6/armle-v7/usr/lib -Wl,-O1 -Wl,-O1 -Wl,-rpath,/home/pasadeveloper/Qt5.1.0/5.1.0/gcc_64 -Wl,-rpath,/home/pasadeveloper/Qt5.1.0/5.1.0/gcc_64/lib -o qmake    -L/opt/qnx650/target/qnx6/armle-v7/lib -L/opt/qnx650/target/qnx6/armle-v7/usr/lib -lm -L/home/pasadeveloper/Qt5.1.0//5.1.0/gcc_64/lib -lQt5Gui -lQt5Core -lGL -lpthread 
</code></pre>

<p><code>cc: no files to process
  make: *** [qmake] Error 1
 pasadeveloper@ubuntu:~/Qt5.1.0/5.1.0/gcc_64/mkspecs/qnx-armv7le-qcc$</code></p>
","<p>You do not ""generate"" your qmake-qnx like that. You are supposed to use the native qmake for generating proper makefiles for your target to aid the cross-compilation. Also, running <code>qmake qmake.conf</code> in the relevant mkspecs folder is wrong because that is not a project file as you may think.</p>

<p>When building Qt itself for instance, you should be using the proper mkspecs files for the target in which case, it is the one you also mentioned above if it is built for that particular arm qnx variant, called <code>qnx-armv7le-qcc</code>.</p>

<p>Here is the exact command you need to run after downloading the relevant Qt sources, like 5.1.1:</p>

<pre><code>./configure -opensource -confirm-license -xplatform qnx-armv7le-qcc -v
</code></pre>

<p>For this QNX version, the bottom line is, if you do not have SP1 <em>and</em> libscreen, it will not work. The QPA plugin would link against it. This library provides the API to the graphics server on newer QNX variants. You need to talk to your QNX representatives.</p>

<p><a href=""http://qt-project.org/wiki/QNX"" rel=""nofollow"">Here</a> you can find further information about the topic.</p>
"
31327631,Can I use Cygwin to compile C/C++ code with Momentics?,https://stackoverflow.com/questions/31327631/can-i-use-cygwin-to-compile-c-c-code-with-momentics,0,1436473861,"c++, qnx, momentics","<p>I'm playing around with QNX's IDE Momentics. I'm currently making local C/C++ code. When I try to run a file, I choose ""local C/C++ application"", and it then gives me a choice of configurations. My question is if I can use the GCC compiler from Cygwin in Momentics to build my programs, and anyone knows HOW to do it.</p>
","<p>After not getting an answer (thanks stack community) and working on it I've figured it out.
1) Since the Cygwin GCC compiler is on the PATH, Momentics automatically sees it and will use it. No need for explicit selection.
2) Momentics can't compile and run code to be executed locally, it only works for targeted remote execution. So I can compile and run my program on a VM, but not on my host machine.</p>
"
31329912,enum completely set to 0,https://stackoverflow.com/questions/31329912/enum-completely-set-to-0,0,1436483739,"c++, g++, qnx","<p>I have 2 enums in a header file.</p>

<pre><code>enum first {
alpha,
delta,
gamma,
};

enum second {
sigma = 20,
zulu,
omega,
};
</code></pre>

<p>I have no issues with compilation. However, at runtime all of second enum is set to 0. i.e sigma, zulu and omega are all 0's. The first one however is proper from 0 to 3.</p>

<p>Whats is going on?
It works on my Linux PC but my QNX is having issues.</p>
","<p>Nothing.</p>

<pre><code>#include &lt;iostream&gt;

enum first { alpha, delta, gamma, };
enum second { sigma, zulu, omega, };

int main(int argc, char **argv)
{
    using namespace std;
  cout&lt;&lt;alpha&lt;&lt; endl;
  cout&lt;&lt;delta&lt;&lt; endl;
  cout&lt;&lt;gamma&lt;&lt; endl;
  cout&lt;&lt;sigma&lt;&lt; endl;
  cout&lt;&lt;zulu&lt;&lt; endl;
  cout&lt;&lt;omega&lt;&lt; endl;

    return 0;
}
</code></pre>

<p>outputs:</p>

<pre><code>0
1
2
0
1
2
</code></pre>

<p>as expected.</p>
"
31208967,How to run qnx executables from Jenkins on Windows platforms?,https://stackoverflow.com/questions/31208967/how-to-run-qnx-executables-from-jenkins-on-windows-platforms,0,1435933081,"linux, windows, jenkins, msbuild, qnx","<p>I've been trying to migrate my whole test projects to Jenkins which includes both Windows and Qnx C++ codes. Since I'm trying to manage all the continuous integration from the windows platform, I installed jenkins only on the windows machine. </p>

<p>Inside Jenkins, I created 2 different jobs, one for windows related codes and the other for qnx related codes. For windows related codes, there is no problem on building, running and collecting gtest outputs like passed/failed results or code coverage. (I use Visual Studio with OpenCppCoverage tool, so inside Jenkins, msbuild plugin and some windows shell commands are enough to create results for cobertura and junit plugins)</p>

<p>However, for the qnx related part I have the problem:
(For qnx projects I'm using Qnx Momentics) Inside Jenkins, I checkout the project to the windows machine from subversion, and use ""mkbuild"" command (which works fine for windows). This builds the project automatically and create the executable on windows. But I could not manage to run the executable (on the target qnx machine) to collect the test results from Jenkins.</p>

<p>I have checked many plugins but couldn't find some to solve this problem.</p>

<p>Is there any option to do this?</p>

<p>Thanks in advance :)</p>
",
30535117,QNX runtime error: unknown symbol __stack_chk_guard,https://stackoverflow.com/questions/30535117/qnx-runtime-error-unknown-symbol-stack-chk-guard,1,1432918591,"runtime-error, backwards-compatibility, buffer-overflow, qnx, qnx-neutrino","<p>I'm trying to test the backward compatibility between QNX 6.6.0 and 6.5.0 (in concequence of an earlier <a href=""https://stackoverflow.com/questions/30460288/whats-the-difference-between-qnx-6-5-1-and-6-6-0-backwards-compatibility"">question</a> I've got). I compiled a relatively simple program using SDP6.6.0 and executed it on Neutrino 6.5.0. When I execute the program the follow runtime error pops up:</p>
<blockquote>
<p>unknown symbol: __stack_chk_guard</p>
<p>ldd:FATAL: Could not resolve all symbols</p>
</blockquote>
<p>What is causing this?..</p>
<hr />
<p><em>(I've found the solution but it wasn't working rightaway. When I started writing this question I realized the error I made. For future reference I will provide the solution here as Q&amp;A myself).</em></p>
",
30460288,What&#39;s the difference between QNX 6.5.0(SP1) and 6.6.0 (backwards compatibility)?,https://stackoverflow.com/questions/30460288/whats-the-difference-between-qnx-6-5-0sp1-and-6-6-0-backwards-compatibility,2,1432647660,"backwards-compatibility, qnx, qnx-neutrino","<p>Couldn't find actual release notes that point out the exact difference between QNX 6.5.1 and 6.6.0. I know that Photon's not supported anymore. </p>

<p>So far, I've got SDP 6.6.0 but it might be that I need my software also to run on 6.5.0. So what is the actual backward compatibility level to 6.5.0? Some state that ""6.6 is binary compatible with 6.5"" [<a href=""http://www.openqnx.com/phpbbforum/viewtopic.php?f=7&amp;t=15727#p57338"" rel=""nofollow"">1</a>] - can anyone support this with official documents?</p>

<p>Since QNX follows the POSIX standard, I suppose that the APIs are the same and should be indeed provide backwards compatibility. So the programs created for 6.6.0 should basically also run on 6.5.0, right?</p>
",
30945115,sshd@QNX: Could not load host key / Missing privileges separation,https://stackoverflow.com/questions/30945115/sshdqnx-could-not-load-host-key-missing-privileges-separation,0,1434739099,"remote-server, qnx, sshd, qnx-neutrino","<p>I followed the manual provided by QNX for SDP 6.6.0 on how to set up the <a href=""http://www.qnx.com/developers/docs/660/topic/com.qnx.doc.neutrino.utilities/topic/s/sshd.html?resultof=%22%73%73%68%22%20"" rel=""nofollow noreferrer"">OpenSSH SSH daemon</a> except I tried to get it running on an existing Neutrino OS. To no avail so far. I encountered several pit falls which I could not find to be solved in any guide I found on the web.</p>

<p>It works quite easily and out of the box for QNX 6.5.0. E.g.
<a href=""https://stackoverflow.com/questions/150737/how-do-you-install-an-ssh-server-on-qnx"">'How do you install an ssh server on qnx'</a> which only states to generated keys and start the daemon. But that doesn't seem to be the case anymore.</p>

<p>This is how I've tried to tackle this so far:</p>

<ul>
<li><p>created folder <code>/etc/ssh</code> and DSA and RSA keys</p></li>
<li><p>tried starting sshd => error: <code>/etc/ssh/sshd_config</code></p></li>
<li><p>created empty file <code>/etc/ssh/sshd_config</code></p></li>
<li><p>tried starting sshd => error:</p>

<pre><code>Could not load host key: /etc/ssh/ssh_host_ecdsa_key
Missing privileges separation directory: /var/chroot/sshd`
</code></pre></li>
<li><p>created folder <code>/var/chroot/sshd</code> and file <code>/etc/ssh/ssh_host_ecdsa_key</code> with proper privileges using <code>chmod 700</code></p></li>
</ul>

<p>P.S.: Why is it that there are only very very few sources actually talking about SSH and QNX. Even QNX only refers to NetBSD by linking their plain man pages. In the BSP guides they handle the topic like ""Yeah we've got SSH - you can use it."" If not SSH what's then the proper way of remote access?!</p>
",
18432492,Can I use nVidia CUDA on QNX(x86 or tegra) and what driver do I need for this?,https://stackoverflow.com/questions/18432492/can-i-use-nvidia-cuda-on-qnxx86-or-tegra-and-what-driver-do-i-need-for-this,0,1377456873,"cuda, gpgpu, nvidia, qnx, tegra","<p>Can I use nVidia CUDA on QNX(x86_64 or other) and what driver do I need for this?</p>

<p>I found nothing about this by link, and in #46 answer sound like ""I don't know""
<a href=""http://www.qnx.com/news/web_seminars/faq_multicore.html"" rel=""nofollow"">http://www.qnx.com/news/web_seminars/faq_multicore.html</a></p>

<p>But, QNX thinks to Include Support for NVIDIA Tegra Processor Family:
<a href=""http://www.qnx.com/news/pr_5306_1.html"" rel=""nofollow"">http://www.qnx.com/news/pr_5306_1.html</a></p>

<p>And nVidia thinks to add support CUDA and OpenCL to the nVidia Tegra5(Logan) ARM+GK1xx in next year:
<a href=""http://en.wikipedia.org/wiki/Tegra#Logan"" rel=""nofollow"">http://en.wikipedia.org/wiki/Tegra#Logan</a></p>

<p><a href=""http://www.ubergizmo.com/2013/07/nvidia-tegra-5-release-date-specs-news/"" rel=""nofollow"">http://www.ubergizmo.com/2013/07/nvidia-tegra-5-release-date-specs-news/</a></p>

<p>And then can we use CUDA on nVidia Tegra5(ARM+GK1xx) on QNX(ARM), and what about QNX(x86)?</p>
","<p>At this time, there's no support for CUDA on QNX.
The supported operating systems for CUDA are listed on the <a href=""https://developer.nvidia.com/cuda-downloads"" rel=""nofollow"">cuda download page</a> as well as in section 1.4 of the <a href=""http://developer.download.nvidia.com/compute/cuda/5_5/rel/docs/CUDA_Toolkit_Release_Notes.pdf"" rel=""nofollow"">release notes</a></p>

<p>Regarding Tegra, at this time there are no Tegra devices that support CUDA.  The list of CUDA-enabled GPUs is <a href=""https://developer.nvidia.com/cuda-gpus"" rel=""nofollow"">here</a>.  Whether using an x86/x86_64 CPU or an ARM CPU, one of these CUDA GPUs is required for CUDA support.</p>

<p>Update: There are now tegra devices that support CUDA, including the widely available Tegra TK1 and recently announced TX1.</p>
"
23885871,Unable to send push message on server (Blackberry - Android Runtime),https://stackoverflow.com/questions/23885871/unable-to-send-push-message-on-server-blackberry-android-runtime,0,1401183170,"php, blackberry, push, qnx","<p>I have successfully getting registration id (pin) from my device, but i stuck on server side development, I hope someone could help me :Helpsmilie:</p>

<p>I have followed these 3 references:</p>

<ol>
<li><p><a href=""http://supportforums.blackberry.com/t5/BlackBerry-Push-Development/Problem-with-SEND-Push-Notificati"" rel=""nofollow noreferrer"">http://supportforums.blackberry.com/t5/BlackBerry-Push-Development/Problem-with-SEND-Push-Notificati</a>...</p></li>
<li><p><a href=""http://supportforums.blackberry.com/t5/Android-Runtime-Development/Not-receiving-push-notification-o"" rel=""nofollow noreferrer"">http://supportforums.blackberry.com/t5/Android-Runtime-Development/Not-receiving-push-notification-o</a>...</p></li>
<li><p><a href=""https://stackoverflow.com/questions/8472331/server-side-problemt-php-push-message-to-blackberry"">server-side problemt: PHP Push message to Blackberry</a></p></li>
</ol>

<p>But I don't get the result as expected, instead i always get ERROR CODE 2000 like this:</p>

<pre><code>Our PUSH-ID: 1401179949.8267

An error has occured
Error CODE: 2000
Error DESC: 2000

string(217) "" ""
</code></pre>

<p>The string(217) "" "" contains:</p>

<pre><code>&lt;pap&gt;
    &lt;badmessage-response bad-message-fragment=""2000"" desc=""2000"" code=""2000""&gt;&lt;/badmessage-response&gt;
&lt;/pap&gt;
</code></pre>

<p>The code I use:</p>

<pre><code>    $appid = '4746-6135ee38Dm11ro8094c98i7900xxxxxxxxx';
    $password = 'xxxxxxxx';
    $boundary = ""mPsbVQo0a68eIL3OAxnm"";

    $deliverbefore = gmdate('Y-m-d\TH:i:s\Z', strtotime('+2 minutes'));
    //An array of address must be in PIN format or ""push_all""
    $addresses = '';
    foreach ($registatoin_ids as $value) {
        $addresses .= '&lt;address address-value=' . $value . '/&gt;';
    }

    // Open connection
    $ch = curl_init();
    $err = false;
    $messageid = microtime(true);

    $data =
        '--' . $boundary . ""\r\n"" .
        'Content-Type: application/xml; charset=UTF-8' . ""\r\n\r\n"" .
        '&lt;?xml version=""1.0""?&gt;
        &lt;!DOCTYPE pap PUBLIC ""-//WAPFORUM//DTD PAP 2.1//EN"" ""http://www.openmobilealliance.org/tech/DTD/pap_2.1.dtd""&gt;
        &lt;pap&gt;
        &lt;push-message push-id=""' . $messageid . '"" deliver-before-timestamp=""' . $deliverbefore . '"" source-reference=""' . $appid . '""&gt;'
        . $addresses .
        '&lt;quality-of-service delivery-method=""unconfirmed""/&gt;
        &lt;/push-message&gt;
        &lt;/pap&gt;' . ""\r\n"" .
        '--' . $boundary . ""\r\n"" .
        // 'Content-Encoding: binary' . ""\r\n"" .
        'Content-Type: text/plain' . ""\r\n"" .
        'Push-Message-ID: ' . $messageid . ""\r\n\r\n"" .
        '{
            ""key"":""value"",
            ""key2"":""value2""
        }'. ""\r\n"" .
        '--' . $boundary . '--' . ""\n\r"";

    $url = 'https://cp4746.pushapi.eval.blackberry.com/mss/PD_pushRequest';
    // Set the url, number of POST vars, POST data
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_HEADER, false);
    curl_setopt($ch, CURLOPT_USERAGENT, ""SAA push application"");
    curl_setopt($ch, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_1);
    curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);
    curl_setopt($ch, CURLOPT_USERPWD, $appid . ':' . $password);
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(""Content-Type: multipart/related; boundary="" . $boundary . ""; type=application/xml"", ""Accept: text/html"", ""Connection: keep-alive""));

    // grab URL and pass it to the browser
    $xmldata = curl_exec($ch);

    // close cURL resource, and free up system resources
    curl_close($ch);

    //Start parsing response into XML data that we can read and output
    $p = xml_parser_create();
    xml_parse_into_struct($p, $xmldata, $vals);
    $errorcode = xml_get_error_code($p);
    if ($errorcode &gt; 0) {
        $err = true;
    }
    xml_parser_free($p);

    echo 'Our PUSH-ID: '.$messageid .  ""&lt;br \&gt;\n"";
    if (!$err &amp;&amp; $vals[1]['tag'] == 'PUSH-RESPONSE') {
        echo 'PUSH-ID: ' . $vals[1]['attributes']['PUSH-ID'] . ""&lt;br \&gt;\n"";
        echo 'REPLY-TIME: ' . $vals[1]['attributes']['REPLY-TIME'] . ""&lt;br \&gt;\n"";
        echo 'Response CODE: ' . $vals[2]['attributes']['CODE'] . ""&lt;br \&gt;\n"";
        echo 'Response DESC: ' . $vals[2]['attributes']['DESC'] . ""&lt;br \&gt; \n"";
    } elseif ($err) {
        echo '&lt;p&gt;An XML parser error has occured&lt;/p&gt;' . ""\n"";
        echo '&lt;pre&gt;' . xml_error_string($errorcode) .""&lt;/pre&gt;\n"";
        echo '&lt;p&gt;Response&lt;/p&gt;' . ""\n"";
        echo '&lt;pre&gt;' . $xmldata . '&lt;/pre&gt;' . ""\n"";
    } else {
        echo '&lt;p&gt;An error has occured&lt;/p&gt;' . ""\n"";
        echo 'Error CODE: ' . $vals[1]['attributes']['CODE'] . ""&lt;br \&gt;\n"";
        echo 'Error DESC: ' . $vals[1]['attributes']['DESC'] . ""&lt;br \&gt;\n"";
        echo '&lt;pre&gt;' . $xmldata . '&lt;/pre&gt;' . ""\n"";
        var_dump($xmldata);
    }
    var_dump($vals);
    return $xmldata;
</code></pre>

<p>where registration id i get is already in correct form without prefix, what did I do wrong?</p>
","<p>I finaly found the right answer for me, from here:</p>

<p><a href=""http://supportforums.blackberry.com/t5/BlackBerry-Push-Development/BB-BIS-push-PHP-server-works-on-p"" rel=""nofollow"">http://supportforums.blackberry.com/t5/BlackBerry-Push-Development/BB-BIS-push-PHP-server-works-on-p</a>...</p>

<p>Thank you marcboo for the answer.</p>

<p>And then I change the code below</p>

<pre><code>stripslashes($message)
</code></pre>

<p>to:</p>

<pre><code>json_encode($message)
</code></pre>

<p>Full code below, with neccessary changes:</p>

<pre><code>&lt;?php
class BBPUSH {

    //put your code here
    // constructor
    function __construct() {

    }

    public function send_notification($addresstosendto, $message) {
    // APP ID provided by RIM
        $appid = 'XXXX-XXXXXXXXXXXXXXXXX';
        // Password provided by RIM
        $password = 'XXXXXX';
        // Application device port
        $appport = XXXXXX;

        try {
            // Message to send :
            // $message = ""testing testing"";

            //Deliver before timestamp
            $deliverbefore = gmdate('Y-m-d\TH:i:s\Z', strtotime('+10 minutes'));

            // An array of address must be in PIN format or ""push_all""
            // Format = WAPPUSH=PIN%3APORT/TYPE=USER@rim.com

            // $addresstosendto[] = 'push_all';

            $addresses = '';
            foreach ($addresstosendto as $value) {
                $addresses .= '&lt;address address-value=""' . $value . '"" /&gt;';
            }

            // create a new cURL resource
            $err = false;
            $ch = curl_init();
            $messageid = microtime(true);

            $data = '--asdwewe'. ""\r\n"" .
            'Content-Type: application/xml; charset=UTF-8' . ""\r\n\r\n"" .
            '&lt;?xml version=""1.0""?&gt;
            &lt;!DOCTYPE pap PUBLIC ""-//WAPFORUM//DTD PAP 2.1//EN"" ""http://www.openmobilealliance.org/tech/DTD/pap_2.1.dtd""&gt;
            &lt;pap&gt;
            &lt;push-message push-id=""' . $messageid . '"" deliver-before-timestamp=""' . $deliverbefore . '"" source-reference=""' . $appid . '""&gt;'
            . $addresses .
            '&lt;quality-of-service delivery-method=""unconfirmed""/&gt;
            &lt;/push-message&gt;
            &lt;/pap&gt;' . ""\r\n"" .
            '--asdwewe' . ""\r\n"" .
            'Content-Type: application/json' . ""\r\n"" .
                    //'Content-Encoding: binary'. ""\r\n"" .
            'Push-Message-ID: ' . $messageid . ""\r\n\r\n"" .
            json_encode($message) . ""\r\n"" .
            '--asdwewe--' . ""\r\n"";

            // set URL and other appropriate options
            curl_setopt($ch, CURLOPT_URL, ""https://pushapi.eval.blackberry.com/mss/PD_pushRequest"");
                curl_setopt($ch, CURLOPT_PORT , 443);
                curl_setopt($ch, CURLOPT_SSLVERSION, 3);
                curl_setopt($ch, CURLOPT_CAINFO, getcwd().""\cacert.pem"");
                curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);

            curl_setopt($ch, CURLOPT_HEADER, false);
            curl_setopt($ch, CURLOPT_USERAGENT, ""My BB Push Server\1.0"");
            curl_setopt($ch, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_1);
            curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);
            curl_setopt($ch, CURLOPT_USERPWD, $appid . ':' . $password);
            curl_setopt($ch, CURLOPT_POST, 1);
            curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

            $__extra_Headers = array(
                ""Content-Type: multipart/related; boundary=asdwewe; type=application/xml"",
                ""Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2"",
                ""Connection: keep-alive"",
                ""X-Rim-Push-Dest-Port: "".$appport,
                ""X-RIM-PUSH-ID: "".$messageid,
                ""X-RIM-Push-Reliability-Mode: APPLICATION""
            );
            curl_setopt($ch, CURLOPT_HTTPHEADER, $__extra_Headers);


            // grab URL and pass it to the browser
            $xmldata = curl_exec($ch);
            if($xmldata === false){                                     
                echo 'Error pada CURL : ' . curl_error($ch).""\n"";
            }else{
                echo 'Operasi push berhasil'.""\n"";
            }


            // close cURL resource, and free up system resources
            curl_close($ch);

            //Start parsing response into XML data that we can read and output
            $p = xml_parser_create();
            xml_parse_into_struct($p, $xmldata, $vals);
            $errorcode = xml_get_error_code($p);
            if ($errorcode &gt; 0) {
                echo xml_error_string($errorcode).""\n"";
                $err = true;
            }
            xml_parser_free($p);

            echo 'Our PUSH-ID: ' . $messageid . ""&lt;br \&gt;\n"";
            if (!$err &amp;&amp; $vals[1]['tag'] == 'PUSH-RESPONSE') {
                echo 'PUSH-ID: ' . $vals[1]['attributes']['PUSH-ID'] . ""&lt;br \&gt;\n"";
                echo 'REPLY-TIME: ' . $vals[1]['attributes']['REPLY-TIME'] . ""&lt;br \&gt;\n"";
                echo 'Response CODE: ' . $vals[2]['attributes']['CODE'] . ""&lt;br \&gt;\n"";
                echo 'Response DESC: ' . $vals[2]['attributes']['DESC'] . ""&lt;br \&gt; \n"";
            } else {
                echo '&lt;p&gt;An error has occured&lt;/p&gt;' . ""\n"";
                echo 'Error CODE: ' . $vals[1]['attributes']['CODE'] . ""&lt;br \&gt;\n"";
                echo 'Error DESC: ' . $vals[1]['attributes']['DESC'] . ""&lt;br \&gt;\n"";
            }

        } catch (Exception $e) {
            var_dump($e-&gt;getMessage());
        }

        exit();
    }
}
?&gt;
</code></pre>

<p>Cheers</p>
"
30650906,How to draw to &quot;parent TLW backing store&quot;?,https://stackoverflow.com/questions/30650906/how-to-draw-to-parent-tlw-backing-store,0,1433440672,"c++, qt, window, raster, qnx","<p>This might be very complicated question not many people know answer but I still will ask.</p>

<p>I do have QWindow derived class, with overloaded event(), which uses Backing store and fill in whole window with a colour, let say black.</p>

<p>Now I have my QT QML app, when I create my window and set parent as main view of my app, I getting window sized to 1x1px ! This is driving me crazy..</p>

<p>I dug though the QT source code and found this:</p>

<pre><code>void QQnxRasterWindow::adjustBufferSize()
{
// When having a raster window we don't need any buffers, since
// Qt will draw to the parent TLW backing store.
const QSize windowSize = window()-&gt;parent() ? QSize(1,1) : window()-&gt;size();
if (windowSize != bufferSize())
   setBufferSize(windowSize);
}

void QQnxRasterWindow::setParent(const QPlatformWindow *wnd)
{
    QQnxWindow::setParent(wnd);
    adjustBufferSize();
}
</code></pre>

<p>Which is kinda bummer because I have no idea how I suppose to use TLW and draw into my window now.
Any ideas?</p>

<p>First of all what is TLW ?
Second how do I draw into parent TLW in a way it will end up in my window buffer.</p>

<p>Thank you</p>

<p>QT 5.3.1</p>

<p>Edit:
not renderNow() - my mistake,
overloaded function event, which uses event UpdateRequested to draw my background.</p>

<p>Edit2:
Also this is only problem when I set parent, when no parent set I can do whatewer I want with my QWindow and it has own buffer. Kinda weird.</p>
",
23495511,what is the command to find which interrupt driver is using in the hardware?,https://stackoverflow.com/questions/23495511/what-is-the-command-to-find-which-interrupt-driver-is-using-in-the-hardware,0,1399381389,"c++, c, interrupt, qnx, qnx-neutrino","<p>I am using Embedded PC (FIT PC2) with QNX RTOS.
I planned to create a handler and taking the timestamp when the interrupt occurs. but I am not successful in that. So someone please help me how to find or the command to know which and where is the intrrupt driver in a hardware ?? so that I will take the timestamp directly from the driver.</p>
",
27563199,How to make an replacement for qnx sin command?,https://stackoverflow.com/questions/27563199/how-to-make-an-replacement-for-qnx-sin-command,0,1418981897,"linux, qnx","<p>I am currently working on a project which involves porting a huge application from QNX SRR to Standard Linux using POSIX commands</p>

<p>Currently I am stuck on the sin command that QNX implements. </p>

<p>Can someone guide me as to how an alternate for qnx sin be created in Linux</p>

<p>The application code uses sin in a lot of places to find process ids, kill processes, restart processes etc. So intention is to create a replacement for sin without really making too many changes in the application code</p>
",
30401366,Difference between a QNX &quot;Flash filesystem image&quot; and an &quot;OS image&quot;?,https://stackoverflow.com/questions/30401366/difference-between-a-qnx-flash-filesystem-image-and-an-os-image,1,1432311020,"filesystems, qnx, qnx-neutrino, qnx-ifs","<p>What is the difference between a QNX ""Flash filesystem image"" and a ""OS image""? </p>

<p>I've got an old PC104(x86) unit that works solely with a CompactFlash card drive and now I'm wondering if I need the first or the second one to put on my CF card. The QNX docs [<a href=""http://www.qnx.com/developers/docs/660/index.jsp?topic=%2Fcom.qnx.doc.neutrino.building%2Ftopic%2Fbuilding_nto_IMAGES.html&amp;cp=1_0_1_2_0"" rel=""nofollow"">1</a>] states that only the OS image is bootable. I need the CF card to be bootable since there's no other drive to boot from. Thus, does that mean I can't benefit from the Flash file system image approach with my current setup?</p>

<p>I don't want to use the System Builder to customize my QNX OS or anything, since I still need the QNX SDP to run on the target.</p>
",
23623537,Creating an interrupt handler,https://stackoverflow.com/questions/23623537/creating-an-interrupt-handler,1,1399959544,"c, interrupt, qnx, irq","<pre><code>const struct sigevent *intHandler(void *arg, int id)
{
start_clock = ClockCycles();
//printf(""start clock: %lld\n"", start_clock);

return(&amp;event);
}


int ConfigureISR()
{

// Get IO privilege
//
ThreadCtl( _NTO_TCTL_IO, 0 );


//
// Setup COID and event

chid = ChannelCreate( 0 );
SIGEV_INTR_INIT( &amp;event);
interruptID = InterruptAttach(7, intHandler, NULL, 0, 0);
if (interruptID == -1)

{
        fprintf(stderr, ""can't attach to IRQ\n"");
        perror (NULL);
        exit (EXIT_FAILURE);
    }

InterruptWait(0, NULL);

    end_clock = ClockCycles();
   // printf(""end clock: %lld\n"", end_clock);

    //microseconds

InterruptLatency = (uint32) ((end_clock - start_clock)*1000000/(SYSPAGE_ENTRY(qtime)-&gt;cycles_per_sec));


printf(""microseconds: %ld\n"", InterruptLatency);
measurements[17] = InterruptLatency;


    return (EXIT_SUCCESS);
}

int main()
{
ConfigureISR();
// my socket code here to receive data from client.
}
</code></pre>

<p>I created an interrupt handler in c for QNX operating system. 
my task: kernel should call this interrupt handler, whenever there is a data on the udp layer. I am calculating the interrupt latency in the above code. 
CLIENT is sending data and server (above code) is receiving the data from client and sending back the response.
The above code is not interrupted everytime, when ever it receives data on the udp layer. what could be the mistake in the above ?? could someone please help me in that ?? </p>
",
30264959,USB device detection problems: using Compact Flash card reader and QNX (Virtual Machine),https://stackoverflow.com/questions/30264959/usb-device-detection-problems-using-compact-flash-card-reader-and-qnx-virtual,0,1431709181,"virtual-machine, usb-drive, qnx, qnx-neutrino, cardreader","<p>First of all, there's a similar <a href=""http://www.openqnx.com/phpbbforum/viewtopic.php?f=4&amp;t=12845&amp;p=52688&amp;hilit=PC104#p52688&gt;thread"" rel=""nofollow"">thread</a> on OpenQNX posted years ago but the solutions don't really apply for me.</p>

<p>Having said that, I want to create an OS image of QNX 6.6.0 to put on a Compact Flash card. This card is plugged in an USB adapter which is connected to my host pc. I'm running Neutrino in a VM (VMware/VirtualBox) for which I enabled USB support. Generally, the adapter works fine under Win (current host) and Linux.</p>

<p>The (apparently out-dated) tutorial I was following stated to search for devices named <code>umass*</code> or <code>hd*</code> after connecting the USB adapter. But there aren't any (except for hd0).</p>

<p>See also ""ls /dev"" <a href=""https://i.sstatic.net/8vqwD.png"" rel=""nofollow"">screenshot</a>.</p>

<p>The processes <code>devb-umass</code> and <code>io-usb</code> are running. So I expect that the adapter is detected automatically.</p>

<p>Any suggestions what went wrong?</p>
","<p>OK, it seems that I had to restart the usb driver 'devb-umass' (several times). When the card reader is already plugged-in during the booting the driver will not detect it autoamtically. Thus one has to unplug and plug it in again after the devb-umass was getting re-started. It also might have been that the Host Controller Driver (HCD) was set to 'ohci' instead of 'ehci'.
Everything is working now as expected.
(Thanks Tim from the OpenQNX forum! ;) )</p>
"
24915612,USB performance issues,https://stackoverflow.com/questions/24915612/usb-performance-issues,0,1406131782,"usb, data-transfer, qnx, mqx","<p>I am trying to transfer data over USB. These are packets of at most 64 bytes which get sent at a frequency of 4KHz. This gives a bit rate of about 2Mb/s.</p>

<p>The software task that picks up this data runs at 2.5 KHz.</p>

<p>Ideally we never want packets to get there slower than 2.5 KHz (so 2 KHz isn't very good).</p>

<p>Is anyone aware of any generic limits on what USB can achieve?</p>

<p>We are running on a main board which has a 1.33 GHz running QNX and a daughter board which is a TWR K60F120M tower system running MQX.</p>

<p>Apart from the details of the system, is USB supposed to be used in this kind of data transfers, i.e., high frequency and short packet sizes?</p>

<p>Many Thanks for your help
MG</p>
",
30209649,How to get CPU load / RAM usage out of QNX?,https://stackoverflow.com/questions/30209649/how-to-get-cpu-load-ram-usage-out-of-qnx,1,1431506018,"performance, cpu, cpu-usage, ram, qnx","<p>I'm currently trying to get information about the CPU load and RAM usage out of an PowerPC with QNX running on it. The idea is to write that information in a text file with a time stamp over a certain amount of time, but this ain't my problem here once I have the information as a ""standard value"". My programm will be in C++ and I already did this kind of program for Windows (via PDH API). Maybe you have page like <a href=""https://stackoverflow.com/questions/63166/how-to-determine-cpu-and-memory-consumption-from-inside-a-process"">this</a> but for QNX? Probably I'm looking for the wrong keywords.</p>

<p>Can you help me with this problem? Any kind of direction would be most welcome as I'm new to QNX and this kind of programming. Thanks a lot!</p>
",
29776208,Is it possible to always catch signal even if program just started yet?,https://stackoverflow.com/questions/29776208/is-it-possible-to-always-catch-signal-even-if-program-just-started-yet,0,1429629041,"c++, c, gcc, qnx, signal-handling","<p>I would like to catch signal sent to my program and do simple action (e.g. exit with specified code). But if process received a signal before my signal handler set, it exited abnormally like no handler existed.</p>

<p>Source code of my simple program:</p>

<pre><code>#include &lt;signal.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;

void handler(int sig) { exit(0); }

int main()
{
    signal(SIGTERM, handler);
    while(1) { sleep(1); }
    return 0;
}
</code></pre>

<p>Compiled with <code>g++ my.c</code> command.</p>

<p>Script to run program continuously:</p>

<pre><code>while true; do ./a.out; echo $?; done
</code></pre>

<p>If I manually send a signal to process then most of time everything is ok - exited with zero code. But if I use script below:</p>

<p>Script for frequent sending signal to process:</p>

<pre><code>while true; do slay -sSIGTERM a.out; done
</code></pre>

<p>I've got many of <code>Terminated 143</code> messages.</p>

<p>But if I use gcc (instead of g++) I could not get the situation with a non-zero exit code.</p>

<p>In this regard, the question of how do I get a C++ (g++ compiled) program similar behavior with the C (gcc compiled) program?</p>

<p>Preferably in the maximum standardized approach.</p>

<p>Tested on QNX 6.5, gcc 4.7.2</p>
","<p>The only way to achieve what you want is to have the parent process block all signals (<code>sigprocmask</code>) before forking and wait to unblock them until after setting up your signal handlers. Anything purely in your own program would be useless since the signal could still arrive between the window where the parent forks and where it execs.</p>
"
17725526,Find a file that was created within five days of another file in shell,https://stackoverflow.com/questions/17725526/find-a-file-that-was-created-within-five-days-of-another-file-in-shell,4,1374155843,"shell, sh, qnx, qnx-neutrino","<p>i'm still pretty new to scripting so stick with me and if you have any questions please feel free to ask.</p>

<p>Okay, so:
I have a file let's say <strong><em>file.txt</em></strong></p>

<p><strong><em>file.txt</em></strong> exists in a directory /this/is/the/directory/file.txt</p>

<p>In a separate directory .log files exist that tell me what happens when <strong>file.txt</strong> was created.</p>

<p><em>fuubar.log, fuu.log, bar.log, this.log, that.log, some.log, other.log</em>...there is an unknown number of these logs.</p>

<p>I need to gather all the log files that occurred <strong>+-5</strong> days of the <strong>file.txt</strong> file being created.</p>

<p>For example:
<strong>file.txt</strong> was created on 7 July 2013 (don't pay any attention to date format)
I need the log files that occurred on and between 2 July 2013 and 12 July 2013.</p>

<p>Any ideas?</p>

<p>EDIT: I'm more confused about comparing the dates of the files to get the correct ones, i know how to copy files.  </p>

<h2><strong>Perl and <code>stat</code> are not available to me</strong></h2>
","<p>Since you are on QNX you can't use existing POSIX/Linux/Unix/BSD scripts off the shelf in your approach to this. If you could either install programming languages that can help you do this or install updated system utilities (from QNX one would hope) or shell tools to achieve the same thing it might be easier, but I realize this is not always possible. </p>

<p>You could try the following horrid hackish approach for a quick ""works now"" solution though:  </p>

<p>First use <code>find /path/to/log/file.txt -printf %Cj</code> to give you the day of the year from 1-366 in which the log file was created and <code>-printf %CY</code> to give you the year value. Next use <code>expr</code> +/- 5 as you did  before to find  values for $day_of_year_start and $day_of_year_end which you can then use to set the <code>$start</code> and <code>$end</code> variables just as in JP's script or my variation on it.</p>

<p>Now you need a way to get epoch time for use with <code>date -s</code> so you can convert from epoch to a time format <code>touch -t</code> will use. Without a <code>date</code> that can convert to and from epoch time and no <code>strftime</code> that outputs epoch time to make this easy, you need a ""hack"". One messy approach would be to set a constant for the epoch time at the beginning of a year (say 1356998400 for Jan 1 2013 ; plus values for other years if needed) and then add ($day_of_year_start x 86400) and ($day_of_year_end x 86400) seconds to that constant to get two epoch time values to run through <code>date -s</code> on QNX and set a date/timestamp for <code>$start</code> and <code>$end</code> respectively.</p>

<p>Messy but it might actually work :-)  Let us know if you try this. </p>

<p>Cheers,
ps: here's the start of a script you'll need to check command arguments and date formats for QNX to make sure they are correct. It works on BSD boxes I have with <code>gfind</code> (GNU find) and <code>date -r</code>  (instead of <code>date -s</code> for QNX).</p>

<pre><code>#!/bin/sh
# Find files created within 5 days before/after
# the creation of another file on QNX.
# 
#  ./rangesearch /path/to/logfile.txt
# 
# NB: 
# QNX shell environment lacks some POSIX/GNU features:
# 1. 'stat', 'date -r' are not available (use find to get file ACM dates)
# 2. use GNU 'find' extensions (since -printf is needed for output of dates)
# 3. 'date' cannot modify dates using day/month/year values so we convert
#    to epoch values in a roundabout way. 'find' cannot output epoch dates
#    due to limitations of QNX strftime so we compare year of file creation
#    against a set of constants and then add/subtract daily amounts of 
#    seconds from this value and use QNX 'date -s' to convert these dates to 
#    formats usable by QNX 'touch'. 
#
# TODO: improve and extend year &lt;--&gt; epoch time constant matching with
#       an array and for loop (Bourne shell 'sh' does not really have
#       an ""array"" feature per se). 
#
#       detect version of find/gfind date/gdate so this runs on Linux OSX BSD 
#
#       add more precise units (hours minutes seconds) to epoch time
#       calculation (exercise for reader)
#

year2013=""1357016400""
year2012=""1325394000""
year2011=""1293858000""
year2010=""1262322000""
# .... etc etc,  some kind of vector or array would be nice ...

fileyear=`find $1 -printf %CY`
filedoyr=`find $1 -printf %Cj`

if [ $fileyear -eq ""2013"" ]; then
  logfile_epoch=$(( $year2013 + ($filedoyr * 86400) ))
  echo ""file is from $fileyear or $logfile_epoch SSL""
elif [ $fileyear -eq ""2012"" ]; then
  logfile_epoch=$(( $year2012 +($filedoyr * 86400) ))
  echo ""file is from $fileyear or $logfile_epoch SSL""
elif [ $fileyear -eq ""2011"" ]; then
  logfile_epoch=$(( $year2011 + ($filedoyr *86400) ))
  echo ""file is from $fileyear or $logfile_epoch SSL""
elif [ $fileyear -eq ""2010"" ]; then
  logfile_epoch=$(( $year2010 + ($filedoyr *86400) ))
  echo ""file is from $fileyear or $logfile_epoch SSL""
else
  echo ""there is a problem""
  exit
fi

echo ""file is from day $filedoyr of $fileyear""

epochal_start=$(( $logfile_epoch - (5*86400) ))
epochal_end=$(( $logfile_epoch + (5*86400) ))
start=`date -s $epochal_start +%Y%m%d%H%S`
end=`date -s $epochal_end +%Y%m%d%H%S`

echo ""epochal_start $epochal_start""
echo ""epochal_end $epochal_end""

echo -e ""Searching for files from $start to $end in age \n...\n""

touch -t ""$start"" /tmp/s$$
touch -t ""$end"" /tmp/e$$

# -print0 and xargs -0 allow for file names with whitepace
find . -type f -newer /tmp/s$$ -and ! -newer /tmp/e$$ -print0 |xargs -0 ls -tal

# clean temporary files:
rm /tmp/s$$
rm /tmp/e$$
</code></pre>

<p>SSL here means Seconds Since Long ago :-)</p>
"
29612961,Integrating QNX Qt libraries in a Qt project,https://stackoverflow.com/questions/29612961/integrating-qnx-qt-libraries-in-a-qt-project,1,1428951474,"qt, qnx","<p>Would anyone know how to include/use the QNX Qt libraries such as QtQnxCar2, QPPS, QPlayer in a Qt project? I think this involves including a package in Qt or may be linking the library in the .pro file, just can't figure out what it is though.</p>

<p>QNX has lot of <a href=""http://www.qnx.com/developers/docs/660/topic/com.qnx.doc.qt/topic/qt_dev_tools.html?cp=2_5_3_0"" rel=""nofollow"">documentation</a> about the libraries, but nothing about how to actually include and use them in a Qt project.</p>

<p>I am specifically looking for how to use the <a href=""http://www.qnx.com/developers/docs/660/topic/com.qnx.doc.qt/topic/qpps_api/qpps_api.html?cp=2_5_3_3"" rel=""nofollow"">Qpps</a> namespace in my project. For example, I've linked the qpps library as below in my .pro file:</p>

<pre><code>LIBS += -L/home/me/qnx660/target/qnx6/armle-v7/qtcar/lib/ -lqpps
INCLUDEPATH += /home/me/qnx660/target/qnx6/armle-v7/qtcar
DEPENDPATH += /home/me/qnx660/target/qnx6/armle-v7/qtcar
</code></pre>

<p>Here's the code in mainwindow.cpp,</p>

<pre><code>#include &lt;QDebug&gt;
#include ""mainwindow.h""
#include ""ui_mainwindow.h""
#include &lt;QTimer&gt;
using namespace QPps;
</code></pre>

<p>Here's the build error:</p>

<pre><code>mainwindow.cpp:5:17: error: 'QPps' is not a namespace-name
mainwindow.cpp:5:21: error: expected namespace-name before ';' token
cc: /home/me/qnx660/host/linux/x86/usr/lib/gcc/arm-unknown-nto-qnx6.6.0eabi/4.7.3/cc1plus error 1
make: *** [mainwindow.o] Error 1
</code></pre>

<p>Toolchain: 
Qt Creator 3.3.2 
Qt 5.2.0 
QNX Car 2.1 
QNX SDP 6.6 
Ubuntu
14.04</p>
","<p><strong>EDIT</strong>
The question is changed completely! Instead of linking problem, described earlier, now a compiler error is described.
You have to include the header-file first, where the namespace is declared.
e.g:</p>

<pre><code>#include &lt;qpps/changeset.h&gt;
</code></pre>

<p>Also, pay attention, that the directory of qpps-include files (headers, .h-files) are defined in the line:</p>

<pre><code>INCLUDEPATH += &lt;Path to your qpps includes &gt;
</code></pre>

<p><strong>ORIGINAL ANSWER</strong>
If QNX libraries apply to the same rules as other UNIX libraries, you could use them by including this line in your Qt project file (*.pro)</p>

<pre><code>LIBS += -L/Path/to/mylib/ -lmylib
</code></pre>

<p>Actually QNX doesn't have to provide any info, how to use their libs in Qt.
The appropriate manual is the QMAKE-manual.</p>
"
29644996,Debugging SIGSEGV in an Android app running on QNX 10.3.1,https://stackoverflow.com/questions/29644996/debugging-sigsegv-in-an-android-app-running-on-qnx-10-3-1,1,1429085685,"android, c++, segmentation-fault, coredump, qnx","<p>I am currently trying to debug an Android application (written mostly in C++), whose networking code works flawlessly on Android but produces occasional SIGSEGV when this application is installed on a Blackberry with QNX 10.3.1.</p>

<p>I would like to obtain either a core dump or at least a good stack trace of the crash, but there does not seem to be a way to do this.</p>

<p>Blind alleys: * the QNX ""dumper"" program works only for Momentix applications, or so it seems. 
* I am not able to catch the stack traces with adb.
* Installing signal handler on the offending thread will not produce meaningful stack.</p>

<p>Is there any way how to obtain the state of the crashing Android application on QNX?</p>
",
28506188,How to pass file to qnx using putty,https://stackoverflow.com/questions/28506188/how-to-pass-file-to-qnx-using-putty,0,1423851793,"file, putty, qnx","<p>How can I pass file to qnx using putty?? I tried to connect using root@theipaddress but it always returning connection refuse what might be the problem?</p>
",
28766345,Command line build for Eclipse - dependent projects,https://stackoverflow.com/questions/28766345/command-line-build-for-eclipse-dependent-projects,0,1425043990,"eclipse, makefile, eclipse-cdt, qnx, momentics","<p>I am using an Eclipse based IDE (QNX Momentics.)  I have several projects in my workspace.  I have Project A, B and C. Project C has dependencies on Project A and B.  If I go into the IDE and properties of ""C"" and Project References, and I check A and B, then I can go and do a ""build"" of C, and it will build A and B if they aren't already built.  This works fine in the IDE.  If I do a clean, and go out to a command line, and do a ""make"" under the C project, then it does not compile A and B, and thus gives me some errors. (can't find certain library files).  I see a  flag that has ""A"" and ""B"" projects in the .project file, but I don't see any rules anywhere to instruct it to build. Any help on this is appreciated.  By the way, this is a C++ project if that matters.</p>
",
27242012,How to joing window group on QNX using QT platform native interface?,https://stackoverflow.com/questions/27242012/how-to-joing-window-group-on-qnx-using-qt-platform-native-interface,0,1417495417,"c++, qt, qt5, qnx","<p>In QQuickItem I got window group name as follows:</p>

<pre><code>QPlatformNativeInterface* interface = QCoreApplication::instance()-&gt;platformNativeInterface();
char* groupName = (char*) interface-&gt;nativeResourceForWindow( ""windowGroup"", window() );
</code></pre>

<p>I am now trying to figure out how to join that window group. There is very little if any documentation
on QT platform native interface. I found following via google search:
<a href=""https://qt.gitorious.org/qt/qtbase/source/b08cc0ec6f096d0e6764486c81264c24a406bee1:src/plugins/platforms/qnx/qqnxwindow.cpp"" rel=""nofollow"">https://qt.gitorious.org/qt/qtbase/source/b08cc0ec6f096d0e6764486c81264c24a406bee1:src/plugins/platforms/qnx/qqnxwindow.cpp</a></p>

<pre><code>At any point following the creation of the QQnxWindow object, an application can
change the window group it has joined. This is done by using the \e
setWindowProperty function of the native interface to set the \e qnxWindowGroup property
to the desired value, for example:

\code
QQuickView *view = new QQuickView(parent);
view-&gt;create();
QGuiApplication::platformNativeInterface()-&gt;setWindowProperty(view-&gt;handle(), ""qnxWindowGroup"",
                                                              group);
</code></pre>

<p>So my question is what is ""group"" in this case and if someone can show a code snipped using this interface ?</p>

<p>Thank you for your replies!</p>
",
28882298,Error on dlclose: &quot;shared objects still referenced&quot;,https://stackoverflow.com/questions/28882298/error-on-dlclose-shared-objects-still-referenced,1,1425571405,"linux, shared-libraries, posix, qnx","<p>I have the following error on a dlclose()'d .so: ""Shared objects still referenced"". I didn't find too much information about it. Did you have such a problem before? What kind of programming errors (or compiling options?) can cause this?</p>

<p>The only thing I tried is to find if MY module has successfully released all of the referenced shared objects, but all of them was ok as I see. At least hopefully. I could not really use LD_DEBUG yet.</p>
","<p>I can't find &quot;Shared objects still referenced&quot; error message in Linux or in opensource libraries. This message only mentioned in context of QNX.</p>
<p>This QT patch <a href=""https://qt.gitorious.org/qt/qtbase/commit/4af257eb3cfeef93adefda5f981742ffb58ba0ad"" rel=""nofollow noreferrer"">https://qt.gitorious.org/qt/qtbase/commit/4af257eb3cfeef93adefda5f981742ffb58ba0ad</a>  says that this error is informative and can be ignored</p>
<blockquote>
<p>On QNX that's only &quot;informative&quot;</p>
<p>Shared objects still referenced&quot; dlerror should actually be treated as &quot;for your information&quot; only, not as an actual error.</p>
</blockquote>
<p>We can say more about error only with additional information:</p>
<ul>
<li>debug logs (DL_DEBUG - <a href=""http://www.qnx.com/developers/docs/6.5.0/topic/com.qnx.doc.neutrino_lib_ref/d/dlopen.html"" rel=""nofollow noreferrer"">http://www.qnx.com/developers/docs/6.5.0/topic/com.qnx.doc.neutrino_lib_ref/d/dlopen.html</a>)</li>
<li>or the source of QNX recent dl libraries (QNX now is closed-source and there <em>should</em> be no source of it and its libs in the Internet; you should ask current QNX owners for support or sources licensing)</li>
</ul>
"
23561364,debugging macro related errors on QNX,https://stackoverflow.com/questions/23561364/debugging-macro-related-errors-on-qnx,0,1399628487,"c, gcc, qnx","<p>I am trying to complile one project on QNX which uses libxml. I have installed libxml on system with support for xmlschema turned on. But still I get below error message 
'xmlSchemaParserCtxtPtr' undeclared (first use in this function)</p>

<p>On going thorough libxml source I found that xmlSchemaParserCtxtPtr definitions is protected by LIBXML_SCHEMAN_ENABLED macro which gets defined in xmlversion.h as</p>

<pre><code>#if 1
#define LIBXML_SCHEMAS_ENABLED
#endif
</code></pre>

<p>Now how to see weather this macro is actually getting defined in qnx preprocessing step or not. I tried -P option but it is not printing any macro definitions. </p>

<p>Thanks</p>
",
28451346,File can be opened but not read QNX,https://stackoverflow.com/questions/28451346/file-can-be-opened-but-not-read-qnx,0,1423648714,"c, testing, readfile, qnx","<p>I need to test the following situation: a program in C, that runs on QNX-system, can open a file but can not read it. My task is to make sure that in this situation the program delivers the correct error message.
Manipulating file permissions does not work. </p>

<p>Does anyone have an idea how to simulate this situation? Thank you very much in advance</p>
",
27708074,Just another undefined reference to `boost::system::system_category()&#39;,https://stackoverflow.com/questions/27708074/just-another-undefined-reference-to-boostsystemsystem-category,0,1419953045,"c++, gcc, boost, qnx, momentics","<p>At the beginning I must assure You that I've tried almost every solution from similar topics , still they didn't solve my issue.</p>

<p>I'm building  binaries from Boost 1.57 using <strong>MinGW</strong>.</p>

<p>Boost libraries I'm using: <em>thread</em> and <em>system</em> build without any errors.
I was trying:</p>

<blockquote>
  <p>toolset=gcc --target-os=qnxnto and toolset=gcc --target-os=qnx, both didn't work.</p>
</blockquote>

<p>I'm including correctly both libraries: </p>

<blockquote>
  <p>-lboost_system-mgw48-mt-d-1_57 -lboost_thread-mgw48-mt-d-1_57  </p>
</blockquote>

<p>after using:</p>

<blockquote>
  <p><code>#define BOOST_SYSTEM_NO_DEPRECATED</code></p>
</blockquote>

<p>I got rid of <code>boost::system::generic_category()</code> error, still I can't get rid of:</p>

<blockquote>
  <p>boost::system::system_category()</p>
</blockquote>

<p>I'm working in <strong>QNX Momentics</strong>.
I'm totally out of ideas, I'm really looking forward for any help I can get.</p>
",
27687681,Fail to build Boost system library,https://stackoverflow.com/questions/27687681/fail-to-build-boost-system-library,0,1419851291,"c++, gcc, boost, mingw, qnx","<p>I'm trying to build 'system' library from Boost using command:</p>

<blockquote>
  <p>bjam --toolset=gcc  target-os=qnx
  --build-dir=c:\boost_1_57_0  --build-type=complete --with-system stage</p>
</blockquote>

<p>and keep getting error:</p>

<blockquote>
  <p>C:\boost_1_57_0>bjam --toolset=gcc  target-os=qnx
  --build-dir=c:\boost_1_57_0  --build-type=complete --with-system stage ...found 1 target... ...updating 1 target... config-cache.write
  c:\boost_1_57_0\boost\bin.v2\project-cache.jam ...updated 1 target...</p>
  
  <p>Component configuration:</p>

<pre><code>- atomic                   : not building
- chrono                   : not building
- container                : not building
- context                  : not building
- coroutine                : not building
- date_time                : not building
- exception                : not building
- filesystem               : not building
- graph                    : not building
- graph_parallel           : not building
- iostreams                : not building
- locale                   : not building
- log                      : not building
- math                     : not building
- mpi                      : not building
- program_options          : not building
- python                   : not building
- random                   : not building
- regex                    : not building
- serialization            : not building
- signals                  : not building
- system                   : building
- test                     : not building
- thread                   : not building
- timer                    : not building
- wave                     : not building
</code></pre>
  
  <p>...found 205 targets... ...updating 4 targets... gcc.link.dll
  c:\boost_1_57_0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\debug\target-os-qnx\threading-multi\libboost_system-mgw48-mt-d-1_57.so.1.57.0
  c:/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/bin/ld.exe:
  cannot find -lrt collect2.exe: error: ld returned 1 exit status</p>

<pre><code>""g++""    -o ""c:\boost_1_57_0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\debug\target-os-qnx\threading-multi\libboost_system-mgw48-mt-d-1_57.so.1.57.0""
</code></pre>
  
  <p>-shared -Wl,--start-group ""c:\boost_1_57
  _0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\debug\target-os-qnx\threading-multi\error_code.o""
  -Wl,-Bstatic  -Wl,-Bdynamic -lrt -Wl,--end-group -g -pthread</p>
  
  <p>...failed gcc.link.dll
  c:\boost_1_57_0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\debug\target-os-qnx\threading-multi\libboost_system-mgw48-mt-d-1_57.so.1.57.0...
  ...skipped libboost_system-mgw48-mt-d-1_57.so.1.57.0 for
  lack of
  libboost_system-mgw48-
  mt-d-1_57.so.1.57.0... gcc.link.dll
  c:\boost_1_57_0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\release\target-os-qnx\threading-multi\libboost_system-mgw48-mt-1_57.so.1.57.0
  c:/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/bin/ld.exe:
  cannot find -lrt collect2.exe: error: ld returned 1 exit status</p>

<pre><code>""g++""    -o ""c:\boost_1_57_0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\release\target-os-qnx\threading-multi\libboost_system-mgw48-mt-1_57.so.1.57.0""
</code></pre>
  
  <p>-shared -Wl,--start-group ""c:\boost_1_57
  _0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\release\target-os-qnx\threading-multi\error_code.o""
  -Wl,-Bstatic  -Wl,-Bdynamic -lrt -Wl,--end-group -pthread</p>
  
  <p>...failed gcc.link.dll
  c:\boost_1_57_0\boost\bin.v2\libs\system\build\gcc-mingw-4.8.1\release\target-os-qnx\threading-multi\libboost_system-mgw48-mt-1_57.so.1.57.0...
  ...skipped libboost_system-mgw48-mt-1_57.so.1.57.0 for
  lack of
  libboost_system-mgw48-
  mt-1_57.so.1.57.0... ...failed updating 2 targets... ...skipped 2
  targets...</p>
</blockquote>

<p>The rt lib seems to be missing, where can I obtain such lib to successfully compile 'system' lib?</p>
","<p>Solution for my problem:</p>

<ul>
<li>First thing to do is to get MinGW and put it under C:\MinGW.</li>
<li>In C:\MinGW\bin there should be gcc</li>
<li>Run cmd.</li>
<li>In boost (deflaut C:\boost_1_57_0) main folder</li>
<li>Set path using command: 'set PATH=c:\mingw\bin;%PATH%'</li>
<li>Go to the tools\build directory of your boost folder and run 'bootstrap mingw'</li>
<li>To build system lib in root directory type:</li>
<li>'tools\build\b2 toolset=gcc --target-os=qnxnto --build-type=complete stage --with-system'</li>
<li>.a files will be in stage\libs folder</li>
</ul>
"
26288198,Determining wait time while executing a binary on QNX prompt using telnet,https://stackoverflow.com/questions/26288198/determining-wait-time-while-executing-a-binary-on-qnx-prompt-using-telnet,0,1412890197,"python-2.7, sleep, telnet, qnx","<p>I am processing certain output binary files using sloginfo on QNX, I have used ftp/telnet/vmware to get to a point where I upload the binary from my machine to the vmware instance and then run the sloginfo command. 
The issue is that binary files which need to be processed are of inconsistent size (ranging from 50mb to 200mb), and the time needed to process each of these files is different, thus making it impossible to determine the wait/sleep time required. </p>

<p>I need to know if sloginfo returns a value which can be used as a flag. I tried using tn.read_until(), without getting desired results. </p>

#

<pre><code>import os, sys, telnetlib, time
from ftplib import FTP

def upload(ftp, filed):
      ext = os.path.splitext(filed)[1]
      if ext in ("".txt"", "".htm"", "".html""):
               ftp.storlines(""STOR "" + filed, open(filed))
      else:
               ftp.storbinary(""STOR "" + filed, open(filed, ""rb""), 1024)

def gettext(ftp, filename, outfile=None):
  # fetch a text file
  if outfile is None:
      outfile = sys.stdout
  # use a lambda to add newlines to the lines read from the server
  ftp.retrlines(""RETR "" + filename, lambda s, w=outfile.write: w(s+""\n""))

if __name__ == '__main__':
dbfile = ""LOG1""

nonpassive = False
remotesite = '192.168.0.128'
ftp_port = '21'
tel_port = '23'
password = 'root'

ftp = FTP()
ftp.connect(remotesite, ftp_port)

ftp.login('root','root')

print 'Uploading the Log file... Please wait...'
upload (ftp, dbfile)
print 'File Uploaded Successfully...'

tn = telnetlib.Telnet(remotesite, tel_port)

tn.read_until(""login: "")

tn.write('root' + ""\n"")
if password:
    tn.write(password + ""\n"")

tn.write(""sloginfo LOG1 &gt;&gt; LOG1.txt\n"")

**#need to get more control on this sleep time**
time.sleep(300)
print 'Downloading text file...'
gettext(ftp, ""LOG1.txt"", open(r'LOG1.txt','wb'))


ftp.close()
tn.close()
</code></pre>
","<p>tn.write(""sloginfo LOG1 >> LOG1.txt\n"") modified the above comment with tn.write ('sloginfo '+ strdbfile + '>> ' + strdbfiletxt+ '; echo Done!\n') and this has resolved the issue</p>
"
26946484,opening pps file blocks the process,https://stackoverflow.com/questions/26946484/opening-pps-file-blocks-the-process,0,1416059110,"blackberry-10, publish-subscribe, qnx","<p>I am trying to open a PPS file which blocks my process because the publisher process is not running yet.  After much reading in QNX and Blackberry documentation, I am left with asking the experts.  My code looks like below:</p>

<pre><code>fd = open(""pps/file/path"", O_RDONLY | O_NONBLOCK);
if(fd &gt;= 0)
{
   fprintf(stdout, ""SUCCESS\n"");
}
else
{
   perror(""Error PPS open:"");
}
</code></pre>

<p>What I want is, the open to return immediately if the publisher is not running yet.  What is currently happening is, the open blocks my process until the publisher process associated with the pps file is launched.</p>

<p>Am I missing something here?</p>
","<p>Apparently this was due to not opening all the declared resource files. System process monitoring the launch of your app sees this as a failure and so reports an error after a timeout.  When I made sure that all declared resources were opened, the problem was gone. </p>
"
27054431,Error: Program &quot;make&quot; not found in PATH in QNX Momentics,https://stackoverflow.com/questions/27054431/error-program-make-not-found-in-path-in-qnx-momentics,0,1416546095,"c++, eclipse, blackberry-10, qnx, momentics","<p>I am developing app in bb10 native sdk. All of a sudden QNX Momentics started showing error in all my projects and display this error in the console after cleaning the projects</p>

<p>Error: Program ""make"" not found in PATH
PATH=[C:\bbndk\host_10_2_0_15\win32\x86\usr\bin;C:\bbndk\host_10_2_0_15\win32\x86\bin;C:\bbndk\host_10_2_0_15\win32\x86\usr\sbin;C:\bbndk\host_10_2_0_15\win32\x86\sbin;C:\bbndk\features\com.qnx.tools.jre.win32_1.7.0.51\jre/bin;C:/bbndk//features/com.qnx.tools.jre.win32_1.7.0.51/jre/bin/client;C:/bbndk//features/com.qnx.tools.jre.win32_1.7.0.51/jre/bin;C:/bbndk//features/com.qnx.tools.jre.win32_1.7.0.51/jre/lib/i386;C:\Program Files\Java\jre7\bin;C:\Program Files\Intel\WiFi\bin\;C:\Program Files\Common Files\Intel\WirelessCommon\;C:\bbndk]</p>

<p>tried the solutions in the following link but didn't solve the problem.
<a href=""https://stackoverflow.com/questions/11579135/program-make-not-found-in-path"">Program &quot;make&quot; not found in PATH</a></p>

<p>Thank You in advance. </p>
","<p>Install make for windows :</p>

<p><a href=""http://gnuwin32.sourceforge.net/packages/make.htm"" rel=""nofollow noreferrer"">http://gnuwin32.sourceforge.net/packages/make.htm</a></p>

<p>if it's still not working, add the path to the make binary's directory in your path :</p>

<p><a href=""https://stackoverflow.com/questions/9546324/adding-directory-to-path-environment-variable-in-windows"">Adding directory to PATH Environment Variable in Windows</a></p>
"
26744343,Share semaphore to processes,https://stackoverflow.com/questions/26744343/share-semaphore-to-processes,0,1415132645,"c, fork, shared-memory, semaphore, qnx","<p>I want to share semaphore to all process by using shared memory.
First, I am mapping object ""sem"" to shared memory in the parent process.
After forking processes, I am doing the same, but with the ""sem"" in childs process's addres space.
It is supposed to work with one semaphore in shared memory by all processes, but it is not working. Something wrong with sharing semaphore. I can't use named semaphore.</p>

<pre><code>#include &lt;semaphore.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;string.h&gt;

void doSomething();
void shareSem();
void recieveSem();

sem_t sem;

int main(int argc, char *argv[]) {
    shareSem();
    sem_init(&amp;sem, 1, 1);



    for(int i = 0; i &lt; 1; i++){
            int pid = fork();
            if(pid == 0)
                    recieveSem();  
    };
    doSomething();


return 0;
}

void doSomething() {
int i, time;
for (i = 0; i &lt; 3; i++) {

    // P operation
    if (sem_wait(&amp;sem) == 0) {

        // generate random amount of time (&lt; 30 seconds)
        time = (int) ((double) rand() / RAND_MAX * 5);

        printf(""Process %i enters and sleeps for %d seconds...\n"", getpid(), time);

        sleep(time);

        printf(""Process %i leaves the critical section\n"", getpid());

        // V operation
        sem_post(&amp;sem);
    }
    else 
       printf(""Process id: %d  :error\n"", getpid());
}
}

void shareSem()
{
    int fd, status;
    fd = shm_open(""/swp_es"", O_RDWR | O_CREAT, 0777);
    if(fd == -1) {
            printf(""shm_creator1"");
    }
    status = ftruncate(fd, sizeof(sem));
    if(status != 0) {
            printf(""shm_creator2"");
    }
    void *ptr = mmap(&amp;sem, sizeof(sem), PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
    if(ptr == MAP_FAILED) {
            printf(""shm_creator3"");
    }
}

void recieveSem()
{
    int fd;
    fd = shm_open(""/swp_es"", O_RDWR, 0777);
    if(fd == -1) {
            printf(""shm_user"");
    }
    void *ptr = mmap(&amp;sem, sizeof(sem), PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
    if(ptr == MAP_FAILED) {
            printf(""shm_user"");
    }      

    //munmap(buffer, sizeof(buffer));
}
</code></pre>

<p>Result is:</p>

<pre><code>Process 4534308 enters and sleeps for 2 seconds...
Process id: 4534309  :error
Process id: 4534309  :error
Process id: 4534309  :error
Process 4534308 leaves the critical section
Process 4534308 enters and sleeps for 0 seconds...
Process 4534308 leaves the critical section
Process 4534308 enters and sleeps for 1 seconds...
Process 4534308 leaves the critical section
</code></pre>
","<p>You are missing that <code>mmap()</code> does not necessarily map the shared memory segment to the specific address you give.  Moreover, on some systems, there are particular alignment requirements for the address, and <code>mmap()</code> will fail if the pointer you give does not satisfy those.  It is far more portable to pass <code>NULL</code> as the address, and just let the system choose.  Then whatever location the system chooses, put your semaphore there.</p>

<p>Also, you're making it too hard.  If you <code>fork()</code> a child process then it inherits the parent's memory mappings.  You don't have to recreate them.</p>

<p>Example:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;semaphore.h&gt;

void doSomething(sem_t *sem);

int main(int argc, char *argv[]) {
    int shm_fd = shm_open(""/swp_es"", O_RDWR | O_CREAT, 0600);
    sem_t *sem;
    int i;

    if (shm_fd == -1) {
        printf(""Failed to create/open a shared memory object\n"");
        return 1;
    }
    if (ftruncate(shm_fd, sizeof(*sem)) != 0) {
        printf(""Failed to resize the shared memory object\n"");
        return 1;
    }
    sem = mmap(NULL, sizeof(*sem), PROT_READ | PROT_WRITE, MAP_SHARED, shm_fd, 0);
    if(sem == MAP_FAILED) {
        printf(""Failed to mmap() the shared memory object\n"");
        return 1;
    }

    /* It's safe to unlink once the shared memory is mapped */
    if (shm_unlink(""/swp_es"") &lt; 0) {
        printf(""warning: failed to unlink the shared memory object\n"");
    }

    if (sem_init(sem, 1, 1) != 0) {
        printf(""Failed to initialize the semaphore\n"");
        return 1;
    }

    for(i = 0; i &lt; 1; i++){
        int pid = fork();

        if (pid &lt; 0) {
            printf(""Failed to fork()\n"");
            return 1;
        } else if (pid == 0) {
            printf(""Child %d successfully fork()ed\n"", i);
        }
    };
    doSomething(sem);

    return 0;
}

void doSomething(sem_t *sem) {
    int i;

    for (i = 0; i &lt; 3; i++) {

        if (sem_wait(sem) == 0) {
            int time = (int) (rand() / (RAND_MAX * 5.0));

            printf(""Process %i enters and sleeps for %d seconds...\n"", getpid(), time);
            sleep(time);
            printf(""Process %i leaves the critical section\n"", getpid());

            sem_post(sem);
        }
        else {
           printf(""Process id: %d  :error in sem_wait()\n"", getpid());
           break;
        }
    }
}
</code></pre>
"
26563204,Editing of Android EditText containing text throws NPE on BlackBerry Z10,https://stackoverflow.com/questions/26563204/editing-of-android-edittext-containing-text-throws-npe-on-blackberry-z10,4,1414245584,"android, blackberry, qnx","<p>I got a bunch of identical exceptions from a BlackBerry Z10 device using the Android Runtime 4.3. Whenever the user edits an EditText that already contains a text, the app crashes. Editing an empty EditText works fine. I don't own a BlackBerry device, so I'm unable to verify the crash.</p>

<p>Does anybody have an idea what happens here and how to solve or workaround the problem?</p>

<p>Here comes the stack trace:</p>

<pre><code>java.lang.NullPointerException
    at android.widget.Editor$QnxInsertionHandleView.&lt;init&gt;(Editor.java:3874)
    at android.widget.Editor$InsertionPointCursorController.getQnxHandle(Editor.java:4885)
    at android.widget.Editor.updateCursorsPositions(Editor.java:1577)
    at android.widget.TextView.getUpdatedHighlightPath(TextView.java:4916)
    at android.widget.TextView.onDraw(TextView.java:5103)
    at android.view.View.draw(View.java:13962)
    at android.view.View.getDisplayList(View.java:12856)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3060)
    at android.view.View.getDisplayList(View.java:12793)
    at android.view.View.getDisplayList(View.java:12898)
    at android.view.HardwareRenderer$GlRenderer.buildDisplayList(HardwareRenderer.java:1411)
    at android.view.HardwareRenderer$GlRenderer.draw(HardwareRenderer.java:1359)
    at android.view.ViewRootImpl.draw(ViewRootImpl.java:2367)
    at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2239)
    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1872)
    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1004)
    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5491)
    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
    at android.view.Choreographer.doCallbacks(Choreographer.java:562)
    at android.view.Choreographer.doFrame(Choreographer.java:532)
    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
    at android.os.Handler.handleCallback(Handler.java:730)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:5116)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:525)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:787)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
    at dalvik.system.NativeStart.main(Native Method)
</code></pre>

<p><strong>Update Oct 31, 2014:</strong></p>

<p>The evaluation revealed that the app doesn't crash when</p>

<ul>
<li>the EditText is empty or</li>
<li>the EditText contains a text AND ""selectAllOnFocus"" is set AND the user starts typing, i.e. overwrites the existing text.</li>
</ul>

<p>The app crashes when</p>

<ul>
<li>the EditText contains a text AND ""selectAllOnFocus"" isn't set or</li>
<li>the EditText contains a text AND ""selectAllOnFocus"" is set AND the user positions the cursor inside the EditText (without overwriting the text before).</li>
</ul>
",
26608632,Use C++ socket to validate ethernet interface configuration in QNX,https://stackoverflow.com/questions/26608632/use-c-socket-to-validate-ethernet-interface-configuration-in-qnx,1,1414500036,"c++, sockets, validation, qnx, ifconfig","<p>I have a program that configures the ethernet interface on a remote machine running a QNX Environment, which uses <code>ifconfig</code> to assign an IP Address, netmask and default gateway.  I now need a way to determine whether the ethernet interface has a valid configuration, that I would be able to connect to remotely.  </p>

<p>For example, giving ""127.0.0.1"", ""255.255.255.255"", or ""0.0.0.0"" as IP Addresses should be invalidated, because even though they are valid IP Addresses, I would not be able to establish a remote connection with these.</p>

<p>I need a way for a C++ application to verify that the configuration is valid and can be connected to.
I have heard that one way to do this is to try and create a socket, but I haven't had any luck so far.  I was able to create a socket with ""0.0.0.0"" as the IP Address just as easily as a valid one.
Maybe I'm just not doing it right.  </p>

<pre><code>int sock = socket(AF_INET, SOCK_STREAM, 0);
struct sockaddr_in ipaddr;
ipaddr.sin_family = AF_INET;
inet_pton(AF_INET, ""0.0.0.0"", &amp;ipaddr2.sin_addr);
bind(sock2, (struct sockaddr *) &amp;ipaddr2, sizeof(ipaddr2));
</code></pre>

<p>Is there anything else I could do with this socket to verify connectivity?</p>

<p>Any help would be greatly appreciated!</p>
",
26308150,Running twisted on posix (QNX) system that does not have siginterrupt(),https://stackoverflow.com/questions/26308150/running-twisted-on-posix-qnx-system-that-does-not-have-siginterrupt,0,1412975827,"python, twisted, qnx","<p>I'm experimenting with running twisted/crossbar.io on QNX (target:powerpc-unknown-nto-qnx6.5.0), however it appears that QNX does not have <code>siginterrupt()</code> and <code>SA_RESTART</code> flag is not supported. As result signals.siginterrupt() does not exist in embedded python. </p>

<p>Is there any way to run/patch python/twisted on a system like this? Right now it dies when the handlers are installed because <code>signals</code> module does not have <code>siginterrupt()</code>. Even in the old 2.6 days when iternet/signals were built as c library, they relied on essentially implementing siginterrupt using SA_RESTART.</p>

<p>Is there any other alternative?</p>
","<p>Did you try <code>reactor.run(installSignalHandlers=False)</code>?  This limits the reactor's functionality a bit, but it may allow you to limp along.</p>
"
26014182,Suspicious static-linked executable file size,https://stackoverflow.com/questions/26014182/suspicious-static-linked-executable-file-size,0,1411553260,"c, makefile, linker, blackberry-10, qnx","<p>I have a BB 10/QNX app in which I need to use more recent version of SQLite than is default on BB 10. I thought I could do that by linking my own SQLite code with my app. I realized that in my qmake-generated Makefile the option -lsqlite3 is passed to qcc. In the library location (/opt/bbndk/target_10_2_0_1155/qnx6/armle-v7/usr/lib) I found the following files:</p>

<pre><code>size filename
559386 libsqlite3.a
560662 libsqlite3S.a
15 libsqlite3.so -&gt; libsqlite3.so.1
496503 libsqlite3.so.1
</code></pre>

<p>I thought that I can replace libsqlite3.a with my own file compiled from latest sqlite3.c (amalgamation). What confuses me is that the size of my application executable is just 180 kB, so the code from libsqlite3.a doesn't seem to be present in it. If SQLite is dynamically linked, I'd expect the application archive (.bar) to contain libsqlite3.so, which also isn't true, because the archive is just 130 kB big. How is it possible that the application uses SQLite (via Qt database classes), but SQLite code never makes it to the application archive?</p>
",
25928892,Clearing the Sqlite database and then using cat command shows the deleted data,https://stackoverflow.com/questions/25928892/clearing-the-sqlite-database-and-then-using-cat-command-shows-the-deleted-data,0,1411112894,"sqlite, qnx","<p>I am using squlite database to store the phone book data in my project. During some operation i am flushing or clearing the database .But when i run the cat command, it still shows the deleted data.
I had exported the database after the operation to double check and it shows no data but when the cat command is used, it shows the deleted data.
Could anyone please let me know if there is any work around for this so that cat command also shows nothing?</p>
",
19511947,Importing Blackberry 10 webworks app in QNX Momentics IDE,https://stackoverflow.com/questions/19511947/importing-blackberry-10-webworks-app-in-qnx-momentics-ide,0,1382427858,"blackberry-10, blackberry-webworks, qnx, blackberry-qnx","<p>I have a blackberry 10 webworks application by following this link (""<a href=""https://developer.blackberry.com/htm...llo_world.html"" rel=""nofollow"">https://developer.blackberry.com/htm...llo_world.html</a>"") . This application works fine and I have signed this app from command prompt using this command ""blackberry-signer -storepass xxx path_to_bar file"" and the application is signed successfully.
I got this message in Command line as "" Info: bar signed""</p>

<p>But when I tried to verify my bar file by unzipping it i found an additional manifest.bbr file. when I package another blackberry 10 sample application in QNX momentics IDE , there is no such manifest.bbr file. Its getting signed perfectly.</p>

<p>Now, all I want is to port my Blackberry 10 webworks app from RippleSites folder to QNX momentics IDE and I want to sign the app from that IDE to get it signed perfectly. </p>

<p>How can I do this? can anyone help me on this?</p>
",
25397780,gdb requires libpthread in QNX,https://stackoverflow.com/questions/25397780/gdb-requires-libpthread-in-qnx,0,1408514885,"gdb, qnx","<p>So I am having a serious issue where the qnx version of <code>gdb</code> downloaded from foundry27 (the qnx software site) requires <code>libpthread.so.1</code> :</p>

<pre><code>qnx:/root/# gdb 
ldd:FATAL: Could not load library libpthread.so.1
</code></pre>

<p>Now this is intriguing to me because according to <a href=""http://www.openqnx.com/newsgroups/viewtopic.php?f=8&amp;t=19067"" rel=""nofollow""><strong>here</strong></a> and my own past experience there is no pthread shared lib in QNX, the pthread content is part of libc. </p>

<p>I know this is a long shot but has anyone encountered this before?  </p>

<p>EDIT: </p>

<pre><code>qnx:/root/# uname -a
QNX qnx 6.5.0 2010/07/09-14:44:03EDT x86pc x86
</code></pre>

<p>I tried downloading qnx from here: 
<a href=""http://community.qnx.com/sf/frs/do/viewRelease/projects.toolchain/frs.gdb.gdb_7_6_r863"" rel=""nofollow"">http://community.qnx.com/sf/frs/do/viewRelease/projects.toolchain/frs.gdb.gdb_7_6_r863</a></p>

<p>I got the <code>nto-gdb</code> version because the options are as follows:</p>

<pre><code>gdb-prereq-linux.tgz
gdb-prereq-win32.tgz
linux-gdb-7.6.tar.gz
win32-gdb-7.6.zip
nto-arm-gdb-7.6.tar.gz
nto-gdb-7.6.tar.gz
</code></pre>

<p>GDB info</p>

<pre><code>ls -l $(which -a gdb)
lrwxrwxrwx  1 501   501 10 Jul 09 14:21 /usr/qnx650/host/qnx6/x86/usr/bin/gdb -&gt; ntox86-gdb
</code></pre>

<p>GDB debug info</p>

<pre><code>libs: load_object: attempt load of libpthread.so.1
debug: find_file:1151: name=libpthread.so.1 libpath=:/root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/ACE_wrappers/lib:/root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/DDS/lib:/usr/local/lib rpath=/usr/pkg/lib
debug: searchpath:1095: name=libpthread.so.1 path=/usr/pkg/lib amode=4 bufsize=1025
debug: searchpath:1119: trying /usr/pkg/lib/libpthread.so.1
debug: searchpath:1130:/usr/pkg/lib/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1095: name=libpthread.so.1 path=:/root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/ACE_wrappers/lib:/root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/DDS/lib:/usr/local/lib amode=4 bufsize=1025
debug: searchpath:1119: trying libpthread.so.1
debug: searchpath:1130:libpthread.so.1: failed (No such file or directory)
debug: searchpath:1119: trying /root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/ACE_wrappers/lib/libpthread.so.1
debug: searchpath:1130:/root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/ACE_wrappers/lib/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1119: trying /root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/DDS/lib/libpthread.so.1
debug: searchpath:1130:/root/SMG/extern/libs/opendds/OpenDDS_ACE_TAO/DDS/lib/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1119: trying /usr/local/lib/libpthread.so.1
debug: searchpath:1130:/usr/local/lib/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1095: name=libpthread.so.1 path=/proc/boot:/lib:/usr/lib:/lib/dll:/opt/lib amode=4 bufsize=1025
debug: searchpath:1119: trying /proc/boot/libpthread.so.1
debug: searchpath:1130:/proc/boot/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1119: trying /lib/libpthread.so.1
debug: searchpath:1130:/lib/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1119: trying /usr/lib/libpthread.so.1
debug: searchpath:1130:/usr/lib/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1119: trying /lib/dll/libpthread.so.1
debug: searchpath:1130:/lib/dll/libpthread.so.1: failed (No such file or directory)
debug: searchpath:1119: trying /opt/lib/libpthread.so.1
debug: searchpath:1130:/opt/lib/libpthread.so.1: failed (No such file or directory)
debug: ldd:find_file:1175:libpthread.so.1: search failed
ldd:FATAL: Could not load library libpthread.so.1
</code></pre>
","<p>The reason for this is that the GDB executables provided on foundry 27 (the later ones) are built for QNX 6.6 which is cross compiled and deployed to a system rather than natively compiled. As in there is no native development and therefore the GDB executable wont work on QNX 6.5.</p>

<p>To solve this download a earlier version of the GDB executable. </p>
"
25689323,Get notified if process dies in QNX,https://stackoverflow.com/questions/25689323/get-notified-if-process-dies-in-qnx,0,1409931045,qnx,"<p>I have two processes.  1) Server and 2) Client.  The perquisite for the client to run is that server process must be running.  I can do this check my monitoring the output of pidin command.  The problem lies when server process dies while the client is running.  I(client process) want to be able to get notified if a server process dies and restart the server process. </p>

<p>Can this be achieved in easiest possible way?  Does QNX offers any mechanism for this?</p>

<p>PS:  I do not want to use the QNX IPC mechanism (like ConnectAttach). </p>
",
25376923,Fontconfig error on Qnx,https://stackoverflow.com/questions/25376923/fontconfig-error-on-qnx,0,1408429654,"qt, fonts, qnx","<p>I am using Qnx on PandaBoard Es and try to develope Qt application.</p>

<p>If I run qt application on qnx,I get error as following</p>

<blockquote>
  <p>Fontconfig error: Cannot load default config file</p>
</blockquote>

<p>Apllication is open but fonts aren't shown. 
What can I do solve this problem.</p>

<p>Regards.</p>
",
25109176,Get the PID of a remote SSH Session [QNX]?,https://stackoverflow.com/questions/25109176/get-the-pid-of-a-remote-ssh-session-qnx,3,1407100395,"linux, ssh, pid, qnx, sshd","<p>So I have been scratching my head trying to figure this one out, and I'm a little stuck.</p>

<p>I'm using Python's subprocess module and Popen to open a PuTTY session, (using plink.exe), and connect to a remote host. This means I have access to the session output.</p>

<p>I'm trying to find a command, or write a script I can execute that will tell me the PID of the remote sshd process handling the session. If there were only one SSH session, I could use 
""ps -f | grep sshd"" to list the sshd process, and find the PID from parsing that line.</p>

<p>The problem is, there are multiple SSH connections to this host simultaneously, and thus there are multiple instances of sshd running. Does anyone know a way I can determine the process running a particular session, by running a command from that same session?</p>

<p>Note:
The following script will work for OS X and many forms of Linux.</p>

<pre><code>#!/bin/sh
TTY=$(tty)
TTYID=${TTY##*/}
ps -f | grep $TTYID
</code></pre>

<p>This returns the line with the correct PID, which can then be parsed with Python.
Unfortunately, I am using QNX, which does not have the TTY field implemented in ""ps"", so everything in that field just shows up a a '?'. Any other ideas?</p>

<p>Thanks!</p>
","<p>Full format print pid of the shell you are running, and print third field that is the PPID (parent pid).</p>

<pre><code>ps --no-headers -fp $$ | awk '{print $3}'
</code></pre>
"
21268614,Can TFS be accessed from QNX?,https://stackoverflow.com/questions/21268614/can-tfs-be-accessed-from-qnx,0,1390336680,"tfs, qnx","<p>Specifically, I need to check in/out files from a QNX box, but I don't see any evidence online that this is supported.  </p>

<p>Has anyone had luck doing this?</p>
",
24822611,Why is my Memory dumping soo slow?,https://stackoverflow.com/questions/24822611/why-is-my-memory-dumping-soo-slow,0,1405678623,"c, driver, qnx, pci","<p>The idea behind this program is to simply access the ram and download the data from it to a txt file.
Later Ill convert the txt file to jpeg and hopefully it will be readable .
However when I try and read from the RAM using NEW[] it takes waaaaaay to long to actually copy all the values into the file?
Isnt it suppose to be really fast? I mean I save pictures everyday and it doesn't even take a second?
Is there some other method I can use to dump memory to a file?</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;hw/pci.h&gt;
#include &lt;hw/inout.h&gt;
#include &lt;sys/mman.h&gt;


main()
{
    FILE *fp;
    fp = fopen (""test.txt"",""w+d"");
    int NumberOfPciCards = 3;
    struct pci_dev_info info[NumberOfPciCards];
    void *PciDeviceHandler1,*PciDeviceHandler2,*PciDeviceHandler3;
    uint32_t *Buffer;
    int *BusNumb;   //int Buffer;
    uint32_t counter =0;
    int i;
    int r;
    int y;
    volatile uint32_t *NEW,*NEW2;
    uintptr_t iobase;
    volatile uint32_t *regbase;

    NEW = (uint32_t *)malloc(sizeof(uint32_t));
    NEW2 = (uint32_t *)malloc(sizeof(uint32_t));
    Buffer = (uint32_t *)malloc(sizeof(uint32_t));
    BusNumb = (int*)malloc(sizeof(int));
    printf (""\n 1"");

    for (r=0;r&lt;NumberOfPciCards;r++)
    {
        memset(&amp;info[r], 0, sizeof(info[r]));
    }

    printf (""\n 2"");

        //Here the attach takes place.
    for (r=0;r&lt;NumberOfPciCards;r++)
    {
        (pci_attach(r) &lt; 0) ? FuncPrint(1,r) : FuncPrint(0,r);
    }

    printf (""\n 3"");

    info[0].VendorId = 0x8086;  //Wont be using this one
    info[0].DeviceId = 0x3582;   //Or this one
    info[1].VendorId = 0x10B5;   //WIll only be using this one PLX 9054 chip
    info[1].DeviceId = 0x9054;   //Also PLX 9054
    info[2].VendorId = 0x8086;   //Not used
    info[2].DeviceId = 0x24cb;    //Not used

    printf (""\n 4"");

        //I attached the device and give it a handler and set some setting.
    if ((PciDeviceHandler1 = pci_attach_device(0,PCI_SHARE|PCI_INIT_ALL, 0, &amp;info[1])) == 0)
                {
                    perror(""pci_attach_device fail"");
                    exit(EXIT_FAILURE);
                }

            for (i = 0; i &lt; 6; i++)
            //This just prints out some details of the card.    
                                {
                if (info[1].BaseAddressSize[i] &gt; 0)
                    printf(""Aperture %d: ""
                    ""Base 0x%llx Length %d bytes Type %s\n"", i,
                    PCI_IS_MEM(info[1].CpuBaseAddress[i]) ? PCI_MEM_ADDR(info[1].CpuBaseAddress[i]) :   PCI_IO_ADDR(info[1].CpuBaseAddress[i]),
                            info[1].BaseAddressSize[i],PCI_IS_MEM(info[1].CpuBaseAddress[i]) ? ""MEM"" : ""IO"");
                }
            printf(""\nEnd of Device random info dump---\n"");


    printf(""\nNEWs Address : %d\n"",*(int*)NEW);
        //Not sure if this is a legitimate way of memory allocation but I cant see to read the ram any other way.
    NEW = mmap_device_memory(NULL, info[1].BaseAddressSize[3],PROT_READ|PROT_WRITE|PROT_NOCACHE, 0,info[1].CpuBaseAddress[3]);

                 //Here is where things are starting to get messy and REALLY long to just run through all the ram and dump it.
                 //Is there some other way I can dump the data in the ram into a file?
        while (counter!=info[1].BaseAddressSize[3])
        {

            fprintf(fp, ""%x"",NEW[counter]);
            counter++;
        }

        fclose(fp);

    printf(""0x%x"",*Buffer);

}
</code></pre>
",
24528379,Getting thread name from different process,https://stackoverflow.com/questions/24528379/getting-thread-name-from-different-process,0,1404295661,"multithreading, pthreads, qnx, qnx-neutrino","<p>We have different exes running for our application in qnx environment.
And each exe inturn has several threads.</p>

<p>Now i want to get thread names of all the threads of all processes from a particular process.
Ex: we have 10 processes with 10 threads each. So total no of threads is 100.
I have to get all these 100 thread names from one of these processes (i.e., process no 5)</p>

<p>I tried using pthread_getname_np()</p>

<pre><code>pthread_getname_np(status.tid, thredtable[threadTabIndex].ThreadName, 100);
</code></pre>

<p>But this returns me the thread name of the current process which is executing.
Ex: It returns me threads of only process no 5 since this is being executed currently.</p>

<p>I have the process Ids and thread IDs of all the processes and threads. I now want to get the thread names for these. </p>

<p>Any suggestions will be really helpful.</p>

<p>Thanks in advance.</p>
","<p>Using __getset_thread_name, solved the issue.</p>

<pre><code>extern int  __getset_thread_name(pid_t __pid, pthread_t __thr, const char *__newname,
                                  int __newname_len, char *__prevname, int __prevname_len);
</code></pre>

<p>This method is defined in pthread.h</p>
"
24017179,Does executing a binary on a RAMDisk reload the executable into memory?,https://stackoverflow.com/questions/24017179/does-executing-a-binary-on-a-ramdisk-reload-the-executable-into-memory,0,1401803981,"linux, memory, qnx, ramdisk","<p>Let's say I have two copies of the same 10MB binary executable, <code>A</code> and <code>B</code>.</p>

<p>If I have plenty of available memory and run <code>./A</code>, my understanding is that <code>A</code> will be loaded into memory and run from there. This will take around 10MB of RAM to accomplish.</p>

<p>If I have plenty of available memory, create a RAMDisk, copy <code>B</code> to the RAMDisk, and run <code>./B</code> from the RAMDisk, my understanding is that <code>B</code> will be (re)loaded into memory and run from there. This will take around 10MB of RAM for the executable, plus the memory in use for the RAMDisk. </p>

<p>Is this correct? Is a RAMDisk smart enough to say ""oh, I already have that binary executable in memory, let's just run it in place?"" Even if it was, wouldn't the loader have to do its magic to run the thing?</p>

<p>I'm using QNX and running <a href=""http://www.qnx.com/developers/docs/6.4.1/neutrino/sys_arch/dll.html"" rel=""nofollow"">ELF without COFF</a> binaries, but I would appreciate answers for any *Nix system. </p>
",
23897630,auto_ptr not working as expected - Compile error,https://stackoverflow.com/questions/23897630/auto-ptr-not-working-as-expected-compile-error,3,1401219783,"c++, qnx, auto-ptr","<hr>

<p><strong>MASSIVE EDIT:</strong></p>

<p>Following juanchopanza advice, I managed to get this minimal example:</p>

<pre><code>#include &lt;memory&gt;

struct a{
    int b;
};

int main()
{

    typedef std::auto_ptr&lt;a&gt; ArgAutoPtr;

    ArgAutoPtr floatingArg;

    floatingArg = ArgAutoPtr( new a );

}
</code></pre>

<p>Which gives me the error:</p>

<pre><code>no match for 'operator=' in 'm_floatingArg = std::auto_ptr&lt;a&gt;(((a*)operator new(4u)))'
</code></pre>

<p>QNX 6.4.1 with GCC 4.3.3</p>

<p><strong>EDIT</strong></p>

<p>I managed to compile it like this. Does this work as expected or will generate... whatever evil <code>auto_ptr</code> generates?</p>

<pre><code>ArgAutoPtr floatingArg2 = ArgAutoPtr( new a );
floatingArg = floatingArg2;
</code></pre>
","<p>The expression <code>ArgAutoPtr( new a )</code> is creating a temporary <code>auto_ptr</code>.</p>

<p><code>auto_ptr::operator=</code> takes a <em>non-const</em> reference to its argument, unlike every other example of <code>operator=</code>. A non-const reference cannot be bound to a temporary.</p>
"
23801508,what is the error in the below code of c timestamp?,https://stackoverflow.com/questions/23801508/what-is-the-error-in-the-below-code-of-c-timestamp,-2,1400747161,"c, linux, timestamp, clock, qnx","<pre><code>double GetTimeStamp()
{
    struct timespec start;

    if((clock_gettime( CLOCK_MONOTONIC, &amp;start)) == -1 )
    {
        perror(""clock gettime\n"");
    }

    return start.tv_sec + start.tv_nsec * 1e-9;   //seconds
}
</code></pre>

<p><code>MAIN.c</code>:</p>

<pre><code>uint64_t Receive;
uint32 receiveTime;
int main()
{
    rc=recvfrom(sock, buf, 256, 0, (struct sockaddr*) &amp;client, &amp;len);
    Receive = GetTimeStamp();
    receiveTime = (uint32) (Receive / 1000000);    // I am converting to microseconds
    printf(""Receive time: %lu\n"", receiveTime);
}
</code></pre>

<p>I am taking a timestamp and reading that time from another program as shown above. But I am not getting any value if I do as above. Why is it not displaying any value in main?</p>
",
23800572,Not receiving UDP and outputting data in multi-threaded program,https://stackoverflow.com/questions/23800572/not-receiving-udp-and-outputting-data-in-multi-threaded-program,0,1400744290,"c, linux, multithreading, udp, qnx","<pre><code>uint64_t GetTimeStamp()
{
    struct timespec start;

    if ((clock_gettime( CLOCK_MONOTONIC, &amp;start)) == -1)
    {
        perror(""clock gettime\n"");
    }

    return(start.tv_sec + start.tv_nsec * 1e-9);                // seconds
}

const struct sigevent *intHandler(void *arg, int id)
{
    start_clock = ClockCycles();
    // printf(""start clock: %lld\n"", start_clock);

    return(&amp;event);
}

void *ConfigureISR()
{
    // Get IO privilege
    ThreadCtl( _NTO_TCTL_IO, 0 );
    // Setup COID and event
    SIGEV_INTR_INIT( &amp;event);

    interruptID = InterruptAttach(intrNum, intHandler, NULL, 0, 0);
    if (interruptID == -1)
    {
        fprintf(stderr, ""can't attach to IRQ %d\n"", intrNum );
        perror(NULL);
        exit(EXIT_FAILURE);
    }

    while (loop)
    {
        InterruptWait(0, NULL);
        end_clock = ClockCycles();
        InterruptLatency = (uint32) ((end_clock - start_clock) * 1000000 / (SYSPAGE_ENTRY(qtime)-&gt;cycles_per_sec));
        printf(""Current Interrupt Latency microseconds: %ld\n"", InterruptLatency);
        InterruptUnmask(intrNum, interruptID);
        measurements[17] = InterruptLatency;
    }
    return(EXIT_SUCCESS);
}

int CreateSocket()
{
    // pthread_attr_t attr;
    // Socket creation for UDP

    acceptSocket = socket(AF_INET, SOCK_DGRAM, 0);

    if (acceptSocket == -1)
    {
        printf(""Failure: socket creation is failed, failure code\n"");
        return 1;
    }
    else
    {
        printf(""Socket started!\n"");
    }

    memset(&amp;addr, 0, sizeof(addr));

    addr.sin_family = AF_INET;
    addr.sin_port = htons(port);
    addr.sin_addr.s_addr = htonl(INADDR_ANY);

    rc = bind(acceptSocket, (struct sockaddr *)&amp;addr, sizeof(addr));

    fcntl(acceptSocket, O_NONBLOCK);

    if (rc == -1)
    {
        printf(""Oh dear, something went wrong with bind()! %s\n"", strerror(errno));
        return -1;
    }
    else
    {
        printf(""Socket an port %d \n"", port);
    }
    return acceptSocket;
}

int main(int argc, char *argv[])
{
    pthread_t thread_id, thread_id1;

    Xcp_Initialize();

    pthread_create(&amp;thread_id1, NULL, &amp;ConfigureISR, NULL);

    if ((sock = CreateSocket()) &lt; 0)
    {
        perror(""Create_socket"");
        exit(1);
    }

    if (pthread_create(&amp;thread_id, NULL, &amp;rastertask, NULL))
    {
        perror(""pthread_create"");
        exit(1);
    }

    do
    {
        socklen_t len;
        len = sizeof(client);
        printf(""NEW DATA ARRIVED\n"");
        // non blocking mode : MSG_DONTWAIT
        rc = recvfrom(sock, buf, 256, 0, (struct sockaddr *) &amp;client, &amp;len);
        Receive = GetTimeStamp();
        receiveTime = (uint32) (Receive / 1000000);
        printf(""Receive time: %lu\n"", receiveTime);
        //  printf(""RECEIVE from Time in microseconds: %lu\n"",  ReceiveTimestamp);
        // measurements[19] = ReceiveTimestamp;
        if (rc == 0)
        {
            printf(""Server has no connection..\n"");
            loop = 0;
            break;
        }
        if (rc == -1)
        {
            if (errno == SIGINT)
                continue;
            printf(""Oh dear, something went wrong with read()! s\n"", strerror(errno));
            loop = 0;
            break;
        }

        XcpIp_RxCallback( (uint16) rc, (uint8 *) buf, (uint16) port );
    } while (1);


    close(sock);

    return 0;
}
</code></pre>

<p>The above is a server code, which is receiving the data via ip address and port number.</p>

<p>Later sending the data back to the client. I am receiving the data but after receiving the data, taking the timestamp (you can see in the above code : <code>Send= GetTimeStamp()</code>).</p>

<p>Why is it not printing anything? I am receiving the data via the socket and I gave <code>printf(""new data arrived\n"");</code> then also it is not printing. I am also not receiving any time over there! Could some one tell me what could be the reason? </p>
",
23800064,Printing Wrong version Number when i run ssh -V,https://stackoverflow.com/questions/23800064/printing-wrong-version-number-when-i-run-ssh-v,0,1400742643,"ssh, openssl, openssh, qnx","<p>I am upgrading the <code>openssl</code> &amp; <code>openssh</code> versions for <code>QNX</code> platform, from <code>openssl 1.0.0e</code> to <code>1.0.1g</code> &amp; <code>openssh-5.6p1</code> to <code>openssh-6.6p1</code><br/>
So using my linux machine I am cross compiling to generate binaries for <code>QNX</code>.<br/>
After doing all the steps mentioned below when i run <code>./ssh -V</code> i am getting this output</p>

<pre><code>OpenSSH_6.6p1, OpenSSL 0.9.8g 19 Oct 2007
</code></pre>

<p>But I used <code>openssl 1.0.1g</code> to generate <code>ssh</code> binaries.
Can any one tell me from where i am getting the version wrong?</p>

<p>Steps:<br/>
 Downloaded <code>openssl-1.0.1g.tar.gz</code> &amp; <code>openssh-6.6p1.tar.gz</code> and then <code>untar</code> it.
 2. <code>cd openssl-1.0.1g</code> &amp; run this <code>config</code> command  </p>

<pre><code>CC=qcc CXX=qcc AR=nto${I_CPU}-ar LD=qcc RANLIB=nto${I_CPU}-ranlib CFLAGS+=""-Vgcc_nto${I_CPU} -fPIC -DPIC"" LDFLAGS+=""-Vgcc_nto${I_CPU} -shared"" ./Configure QNX6-i386 -shared --prefix=/home/vamsi/build_ppc --openssldir=/home/vamsi/build_ppc/openssl_dir
</code></pre>

<ol>
<li>Make clean      </li>
<li>Make      </li>
<li>Make install   </li>
<li><p><code>cd openssh-6.6p1</code> &amp; run this <code>config</code> command                                             </p>

<p>CC=qcc CFLAGS=""-Vgcc_nto${I_CPUX} -L/home/vamsi/build_ppc/lib"" AR=nto${I_CPUX}-ar LD=qcc LDFLAGS=""-Vgcc_nto${I_CPUX} -L/home/vamsi/build_ppc/lib"" CXX=qcc CPPFLAGS+=""-DMISSING_HOWMANY -DMISSING_NFDBITS -DMISSING_NFDMASK"" ./configure --disable-lastlog --host=ppcbe --with-ssl-dir=/home/vamsi/build_ppc/openssl_dir --prefix=/home/vamsi/build_ppc --disable-etc-default-login</p></li>
<li><p>make clean   </p></li>
<li>make</li>
</ol>

<p>After these steps i copied generated <code>ssh</code> binary file into target machine and tried to run <code>./ssh -V</code>   </p>

<p>Also when i copied <code>openssl</code> Binary to target <code>QNX</code> machine and tried to execute this command       </p>

<pre><code>./openssl
</code></pre>

<p>It is giving this error</p>

<pre><code>./openssl[1]: syntax error: '(' unexpected
</code></pre>

<p>Note : I am not installing ssh in the target machine but i just want new version <code>ssh</code> binaries so i am running <code>./ssh -V</code> instead of <code>ssh -V</code></p>

<p>I am able to successfully connect to any address using this <code>ssh</code> (generated binary).
and in making this Binary i am getting this warning </p>

<pre><code>skipping incompatible /home/vamsi/build_ppc/lib/libcrypto.a when searching for -lcrypto
</code></pre>

<p>Has this warning got anything to do with the problem i am facing ??</p>

<p>I tried using openssl version 1.0.0l but still the output of ssh -v is showing as </p>

<p>OpenSSH_6.6p1, OpenSSL 0.9.8g 19 Oct 2007</p>
",
23776540,how to get the results of the current time in microseconds?,https://stackoverflow.com/questions/23776540/how-to-get-the-results-of-the-current-time-in-microseconds,0,1400656837,"c, timer, clock, timertask, qnx","<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;unistd.h&gt;
#include &lt;time.h&gt;
typedef unsigned int uint32;
uint32 a;

int main()
{
            struct timespec start;

            if((clock_gettime( CLOCK_REALTIME, &amp;start)) == -1 )
            {
              perror(""clock gettime\n"");

            }

/* I am calculating the Clock granularity here the granularity is basically how long that timer interrupt will last while it's processing the background task.*/
            //micro seconds output
        a = (1000000 * start.tv_sec + start.tv_nsec / 1000);

         printf( ""%u\n"", a);
            return EXIT_SUCCESS;
}
</code></pre>

<p>I created a timer to get the timestamp at any palce, so the above is a free running timer to take the timestamp. I tried to get the output in microseconds and getting the value as : 2847675807 is this right ?? I should get the value in microseconds. I think, getting some bigger values. someone please help me.</p>

<pre><code>typedef unsigned int uint64;
typedef unsigned int uint32;
uint32 a;

uint64 timestamp()
{
            struct timespec start;

            if((clock_gettime( CLOCK_REALTIME, &amp;start)) == -1 )
            {
              perror(""clock gettime\n"");

            }

/* I am calculating the Clock granularity here the granularity is basically how long that timer interrupt
 * will last while it's processing the background task.*/
            //micro seconds output
        a = (uint32)(1e6 * start.tv_sec + start.tv_nsec * 1e-3);

         printf( ""%u\n"", a);
            return EXIT_SUCCESS;
}


int main()
{
timestamp();
return 1;
}
</code></pre>

<p>I modified like above but then also same results like bigger number</p>
",
13015289,src files in sub folders in QNX momentics IDE not compile,https://stackoverflow.com/questions/13015289/src-files-in-sub-folders-in-qnx-momentics-ide-not-compile,0,1350921866,"compiler-errors, eclipse-cdt, subdirectory, qnx","<p>I'm going to re-ask a question belonging to this post <a href=""https://stackoverflow.com/questions/12418452/source-files-in-project-subfolder-not-compile-qnx-momentics-ide"">https://stackoverflow.com/questions/12418452/source-files-in-project-subfolder-not-compile-qnx-momentics-ide</a> because I'm having the exact same issue and after google it for several hours/days/.. I'm not finding any help and the thread I mention before wasn't answer by anybody, I hope not to get the same luck.</p>

<p>I'm going to explain the issue: I'm developing right now for Blackberrys new O.S. BB10, which recommends the QNX Momentics IDE for developing in C/C  /Qt/QML etc. The IDE, as is said in a comment in the thread above, is a re-package/bundle of Eclipse with the Eclipse CDT plugin and some custom QNX tool extensions. The thing is that when I'm trying to organize my code files into subfolder in the main src folder, those files will not compile, wich keep the program from running successfuly obviously. Please if you know why this is happening give me a hand :) .</p>

<p>I've found some sites about Eclipse where they said that I need to add the subfolders to the ""path and symbols"" settings of the project. And I did that, and nothing seems to change. I also tried to create a new src foulder instead of a regular folder, but when I'm trying to do it I get the following error:  Invalid project path: Duplicate path entries found.</p>

<p>So fellows this is driving me crazy, I have like 50 C   classes in the root src folder right now. Help please!.</p>

<p>Greetings!..</p>
",
23652638,what is the error in the below c program?,https://stackoverflow.com/questions/23652638/what-is-the-error-in-the-below-c-program,0,1400064944,"c, linux, timer, timestamp, qnx","<pre><code>a.c:
#include ""a.h""
double GetTimeStamp()
{
            struct timespec start;

            if((clock_gettime( CLOCK_REALTIME, &amp;start)) == -1 )
            {
              perror(""clock gettime\n"");

            }

/* I am calculating the Clock granularity here the granularity is basically how long that timer interrupt
 * will last while it's processing the background task.*/
            //micro seconds output
        return (1e3 * start.tv_sec + start.tv_nsec * 1e-3);

}

int a()
{
intr_rx_time = GetTimeStamp();
IPLatency = intr_rx_time;

}
</code></pre>

<hr>

<pre><code>a.h:
a();
double intr_rx_time, IPLatency;
</code></pre>

<hr>

<pre><code>b.c:
#include ""a.h""
extern double IPLatency;
uint32 ipLatency;

int main()
{
  ipLatency = (uint32)IPLatency;
  printf(""Current IP Latency microseconds: %ld\n"", ipLatency);
}
</code></pre>

<p>In the above : I am calculating a timestamp from a.c program. Later I am reading the calcualted timestamp value in b.c program as shown above. But I am getting the output as 0 in b.c program. what is the error in the above program ?? could someone please help . </p>
",
23547538,how to solve this Unresolved breakpoint warning?,https://stackoverflow.com/questions/23547538/how-to-solve-this-unresolved-breakpoint-warning,0,1399566896,"c++, c, arrays, string, qnx","<pre><code>int id1;   //variables used in the isr should be volatile
int chid;

void *ConfigureISR(void)   //void *ISR (void *arg)
{
    /*  the software must tell the OS that it wishes to associate the ISR with a particular source of interrupts
    * /  *  On x86 platforms, there are generally 16 hardware Interrupt Request lines (IRQs) */
    StartInterruptTime = GetTimeStamp();   //startTime of the interrupt
    // volatile int irq = 11;   //0 :   A clock that runs at the resolution set by ClockPeriod()
    //  InterruptEnable();
    ThreadCtl (_NTO_TCTL_IO, NULL);  // enables the hardware interrupt
    // Initialize event structure
    //
    // Setup COID and event
    //
    /* Tell the kernel to attach an interrupt signal event to this thread */
    //        chid = ChannelCreate( 0 );
    SIGEV_INTR_INIT( &amp;event);
    //id1 = InterruptAttach(0, ISR, NULL, 0, 0);    // ISR is the interrupt service routine
    id1 = InterruptAttach(_NTO_INTR_CLASS_SYNTHETIC, ISR, NULL, 0, 0);
    if (id1 == -1)
    {
        fprintf(stderr, ""can't attach to IRQ\n"");
        perror (NULL);
        exit (EXIT_FAILURE);
    }
    while(1)
    {
        InterruptWait(NULL, NULL);
    }
    EndInterruptTime =  GetTimeStamp();
    InterruptLatency = (EndInterruptTime - StartInterruptTime);
    printf(""Inerrupt latency is %llu"",InterruptLatency);   //I am getting warning
    measurements[17] = InterruptLatency;
}
</code></pre>

<p>I am getting the StartInterruptTime in another .c program and using that timestamp in the above program for calculating the difference between the two (i.e InterruptLatency). I am getting the below warning while debugging the program and also EndInterruptTime will be zero but start interrupt is having the double value. </p>

<pre>
WARNING : Multiple markers at this line
    - Unresolved breakpoint
</pre>

<p>could some one please help me in this ?</p>
",
9325487,"Looking for UTF8-aware formatting functions like printf(), etc",https://stackoverflow.com/questions/9325487/looking-for-utf8-aware-formatting-functions-like-printf-etc,3,1329469623,"c, utf-8, libc, qnx","<p>I discovered an interesting problem when processing UTF-8 strings containing non-ASCII chars with C standard library formatting functions like sprintf(): </p>

<p>The functions of the printf() family are not aware of utf-8 and process everything based on the number of bytes, not chars. Therefore the formatting is incorrect.</p>

<p>Simple example:</p>

<pre><code>#include &lt;stdio.h&gt;

int main(int argc, char *argv[])
{
    const char* testMsg = ""T√§√§√§√§√üt"";
    char buf[1024];
    int len;

    sprintf(buf, ""|%7.7s|"", testMsg);
    len = strlen(buf);
    printf(""Result=\""%s\"", len=%d"", buf, len);

    return 0;
}
</code></pre>

<p>The result is:</p>

<pre><code> Result=""|T√§√§√§|"", len=7
</code></pre>

<p>Most probably some of you will recommand to convert the application from char to wchar_t and use fwprintf(), etc., but that's absolutely impossible because of huge existing applications. I could imagine writing a wrapper that uses these functions internally, but this would be tricky and very inefficient.</p>

<p>So the best solution would be a UTF-8-aware replacement for the formatting functions of the Standard C Library.</p>

<p>Currently I'm working on QNX 6.4, but replies for other operating systems. e.g. Linux, are also very welcome.</p>
",
23489033,how to handle interrupts in qnx?,https://stackoverflow.com/questions/23489033/how-to-handle-interrupts-in-qnx,2,1399363033,"c, linux, interrupt, qnx, qnx-neutrino","<p>/*kernel calls attach the interrupt function handler to the hardware interrupt specified by intr(i.e irq) */
  // InterruptAttach() : Attach an interrupt handler to an interrupt source
  // interrupt source is handler1 for this example</p>

<pre><code> void ConfigureISR(void)   //void *ISR (void *arg)
  {
</code></pre>

<p>/*  the software must tell the OS that it wishes to associate the ISR with a particular source of //interrupts. On x86 platforms, there are generally 16 hardware Interrupt Request lines (IRQs) */</p>

<pre><code>  StartInterruptTime = GetTimeStamp();   //startTime of the interrupt

  volatile int irq = 7;   //0 : A clock that runs at the resolution set by ClockPeriod()

  ThreadCtl (_NTO_TCTL_IO, NULL);  // enables the hardware interrupt
  id1 = InterruptAttach(irq, &amp;ISR, NULL, 0, 0);    // ISR is the interrupt service routine

  //sleep(20);


  }
int main ()
{
ConfigureISR();
return 1;
}
</code></pre>

<p>I created a interrupt handler on the server side to handle the interrupt from the client side. but the above code is breaking at the interrupt attach function call. could someone tell me why is it breaking ?? Is it the right way to handle interrupts in user application. </p>
",
23475795,what are the changes from the linux code to qnx code?,https://stackoverflow.com/questions/23475795/what-are-the-changes-from-the-linux-code-to-qnx-code,0,1399302396,"c, linux, sockets, timer, qnx","<pre><code>int CreateSocket()
{
    //pthread_attr_t attr;

    // Socket creation for UDP

    acceptSocket = socket(AF_INET,SOCK_DGRAM,0);

    if(acceptSocket == -1)
    {
        printf(""Failure: socket creation is failed, failure code\n"");
        return 1;
    }
    else
    {
        printf(""Socket started!\n"");
    }

    memset(&amp;addr, 0, sizeof(addr));

    addr.sin_family=AF_INET;

    addr.sin_port=htons(port);

    addr.sin_addr.s_addr=htonl(INADDR_ANY);

    rc=bind(acceptSocket,(struct sockaddr*)&amp;addr,sizeof(addr));

    fcntl(acceptSocket, O_NONBLOCK);

    if(rc== -1)
    {
        printf(""Oh dear, something went wrong with bind()! %s\n"", strerror(errno));
        return -1;
    }
    else

    {
        printf(""Socket an port %d \n"",port);

    }
    return acceptSocket;
}


int create_timer (void)
{
    timer_t timer_id;




            int timerfd = timer_create (CLOCK_REALTIME, 0, &amp;timer_id);
            if (timerfd &lt; 0) {
        perror (""timerfd_create:"");
                return -1;
        }
        return timerfd;
}

int start_timer_msec (int fd, int msec)
{
        struct itimerspec timspec;

        memset (&amp;timspec, 0, sizeof(timspec));


        timspec.it_value.tv_sec = 0;
        timspec.it_value.tv_nsec = msec * 1000 * 1000;

        if (timer_settime(fd, 0, &amp;timspec, NULL) &lt; 0) {
                return -1;
        }
        return 0;
}

int main(int argc, char *argv[])
{


    Xcp_Initialize();

    int fd_2ms = create_timer();
    int fd_10ms = create_timer();
    int fd_100ms = create_timer();
    int rval = 0;

    if ((fd_2ms &lt; 0) || (fd_10ms &lt; 0) || (fd_100ms &lt; 0)) {
        exit (1);
    }


    if ((sock = CreateSocket()) &lt; 0) {
        perror (""Create_socket"");
    //  fclose (fp);
        exit (1);
    }


    start_timer_msec (fd_2ms, 2);
    start_timer_msec (fd_10ms, 10);
    start_timer_msec (fd_100ms, 100);

    do
    {
        socklen_t len;
                int max_fd = 0;
                fd_set rdfds;

                FD_ZERO (&amp;rdfds);

        GET_MAX_FD (max_fd, sock);
        FD_SET (sock, &amp;rdfds);

        GET_MAX_FD (max_fd, fd_2ms);
        FD_SET (fd_2ms, &amp;rdfds);

        GET_MAX_FD (max_fd, fd_10ms);
        FD_SET (fd_10ms, &amp;rdfds);

        GET_MAX_FD (max_fd, fd_100ms);
        FD_SET (fd_100ms, &amp;rdfds);

        rval = select (max_fd, &amp;rdfds, NULL, NULL, NULL);

        if (rval &lt; 0) {
            if (errno == EINTR)
                continue;
        } else if (rval &gt; 0) {

                       /*Process CLI*/
                     if ((FD_ISSET (sock, &amp;rdfds)))
            {
                                FD_CLR(sock, &amp;rdfds);
                len = sizeof(client);

                printf(""NEW DATA ARRIVED\n"");
                //non blocking mode : MSG_DONTWAIT

                rc=recvfrom(sock, buf, 256, 0, (struct sockaddr*) &amp;client, &amp;len);

                //I am calculating the time here
                //InterruptTime = GetTimeStamp();
                //measurements[17] = InterruptTime;

                if(rc==0)
                {
                    printf(""Server has no connection..\n"");
                    break;
                }
                if(rc==-1)
                {
                    if (errno == SIGINT)
                        continue;
                    printf(""Oh dear, something went wrong with read()! %s\n"", strerror(errno));
                    break;
                }
                ConfigureISR( );

                XcpIp_RxCallback( (uint16) rc, (uint8*) buf, (uint16) port );
            }


                        if ((FD_ISSET (fd_2ms, &amp;rdfds))) {
                                FD_CLR(fd_2ms, &amp;rdfds);
                TASK1(Task2ms_Raster);
                start_timer_msec (fd_2ms, 2);
            }
                        if ((FD_ISSET (fd_10ms, &amp;rdfds))) {
                                FD_CLR(fd_10ms, &amp;rdfds);
                TASK2(Task10ms_Raster);
                start_timer_msec (fd_10ms, 10);
            }
                        if ((FD_ISSET (fd_100ms, &amp;rdfds))) {
                                FD_CLR(fd_100ms, &amp;rdfds);
                TASK3(Task100ms_Raster);
                start_timer_msec (fd_100ms, 100);
            }
        }
    } while (1);

    close(sock);
    //fclose (fp);

    return 0;
}
</code></pre>

<p>I created a socket to receive data from client via the ip address and port number. I created a timer to call the task for every 2ms, 10ms and 100ms. The above code is working fine for linux. But how to convert the above code for QNX RTOS. What are the changes should I make for QNX rtos. could some one please help me ??</p>

<p>IF I use the same code in qnx then it is crashing at  int fd_2ms = create_timer(); !!</p>
",
22977175,"Log file not visible, unless the user exits the app",https://stackoverflow.com/questions/22977175/log-file-not-visible-unless-the-user-exits-the-app,0,1397094202,"c++, blackberry-10, qnx, momentics","<p>I have an issue where I am logging some in app information such as requests,messages, responses and in this segment of the code is where it happening. My goal is to see the log file while the app is running which doesn't seem to happen right now, so the user has to exit the app and then go to the public folder in order to view the logs. I can provide more information if needed.        </p>

<pre><code> void LogClass::log(const char* pcszComponent, const char* pcszLevel, const CF1String&amp; title, const CF1String&amp; message)
    {
        m_guard.lock();

        QByteArray byteArray(QTime::currentTime().toString(""HH:mm:ss.zzz"").toAscii());
        XXString logMessage = XXFormatString(""[%s] [%7s] [%4s] [%08X] [%s] [%s]\r\n"", byteArray.constData(), pcszLevel, pcszComponent, QThread::currentThreadId(), title.c_str(), message.c_str());

        if (!m_pLogFile) {
            createLogFile();
        }

        if (m_pLogFile) {
            fputs(logMessage.c_str(), m_pLogFile);
            fflush(m_pLogFile);
        }

        m_guard.unlock();
    }
</code></pre>

<p>Thanks in advance.</p>
",
22928010,Debug Core dump in QNX - How to get more info?,https://stackoverflow.com/questions/22928010/debug-core-dump-in-qnx-how-to-get-more-info,0,1396933760,"gdb, coredump, qnx","<p>My previously working code crashes now. The core dump points to the constructor being called.
I have tried to get bt, bt full and disassembly. I need some help to conclude what could cause segmentation fault while calling constructor?
Code is run on QNX and there is console gdb only. The local variables are all 0, what could that mean ?</p>

<p>Here's the o/p:</p>

<pre><code>(gdb) bt
#0  0x481a95b0 in notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID (path_Type=PATH_NULL, pathId=1215822164,
    alarm_Id=DS3_PATH_IDLE_ID) at /vob/qnx/cema-common/msg/PathObjMsg.h:47
(gdb) bt full
#0  0x481a95b0 in notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID (path_Type=PATH_NULL, pathId=1215822164,
    alarm_Id=DS3_PATH_IDLE_ID) at /vob/qnx/cema-common/msg/PathObjMsg.h:47
        msg = {&lt;Message&gt; = {msgSource = MSG_SOURCE_INVALID, msgPriority = MSG_PRIO_LOW, msgLength = 0},
  msgType = MSG_PATH_ALARM, pathType = PATH_NULL, pathId = {bay = 0 '\0', line = 0 '\0', path = {stsn = {
        sts1Num = 0 '\0'}, vt = {sts1Num = 0 '\0', isTu3 = 0 '\0', tug3Num = 0 '\0', vtgTug2Num = 0 '\0',
        vtTuNum = 0 '\0'}, ds3 = {sts1Num = 0 '\0', ds3Num = 0 '\0'}, ds1InDS3Line = {pad = 0 '\0', ds1Num = 0 '\0'},
      ds1InVT = {sts1Num = 0 '\0', pad = 0 '\0', tug3Num = 0 '\0', vtgTug2Num = 0 '\0', vtTuNum = 0 '\0'},
      ds1InDS3Path = {sts1Num = 0 '\0', tug3Num = 0 '\0', ds1Num = 0 '\0'}, e1InVT = {sts1Num = 0 '\0', pad = 0 '\0',
        tug3Num = 0 '\0', vtgTug2Num = 0 '\0', vtTuNum = 0 '\0'}, e3 = {sts1Num = 0 '\0', ds3Num = 0 '\0'}}},
  alarmId = 0, lineId = 0 '\0'}
        emPathType = PATH_NULL
        emAlarmId = 10

(gdb) l * 0x481a95b0
0x481a95b0 is in notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID (/vob/qnx/cema-common/msg/PathObjMsg.h:47).

42          PathObjMsg(
43              PATH_TYPE  pathTypeIn,
44              EM_PATH_ID pathIdIn,
45              PATH_OBJ_MSG_TYPE msgTypeIn,
46              EM_PATH_ALARM_ID alarmIdIn
**47          ): Message(MSG_SOURCE_PATH_OBJ)**
48          {
49              pathType = pathTypeIn;
50              pathId = pathIdIn;
51              msgType = msgTypeIn;
</code></pre>

<p>O/p of Disassembly:</p>

<pre><code>    bne-        0x481a962c &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+264&gt;
0x481a959c &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+120&gt;:  li      r0,15
0x481a95a0 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+124&gt;:  mr      r27,r28
0x481a95a4 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+128&gt;:  stw     r27,88(r1)
0x481a95a8 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+132&gt;:  stw     r0,8(r1)
0x481a95ac &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+136&gt;:  addi    r31,r1,8
0x481a95b0 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+140&gt;:  li      r9,1
0x481a95b4 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+144&gt;:  stw     r9,4(r31)
0x481a95b8 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+148&gt;:  stw     r29,16(r31)
0x481a95bc &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+152&gt;:  lwz     r0,88(r1)
0x481a95c0 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+156&gt;:  stw     r9,12(r31)
0x481a95c4 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+160&gt;:  stw     r0,20(r31)
0x481a95c8 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+164&gt;:  stw     r5,24(r31)
0x481a95cc &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+168&gt;:  lbz     r0,89(r1)
0x481a95d0 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+172&gt;:  mr      r3,r31
0x481a95d4 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+176&gt;:  stb     r0,28(r31)
0x481a95d8 &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+180&gt;:  li      r4,32
0x481a95dc &lt;notifyDs3PathAlarmClrEvent__F9PATH_TYPEUi17DS3_PATH_ALARM_ID+184&gt;:
</code></pre>
",
22693553,QSslSocket return Invalid url,https://stackoverflow.com/questions/22693553/qsslsocket-return-invalid-url,0,1395937553,"qt, blackberry-10, qnx","<p>I am desperately trying to set QSslSocket connection, I try to start from blackberry sample but always get an Invalid URL error on my console without any details...
Here is the code I try to  run:</p>

<pre><code>    if (!m_socket) {

    bool res;
     Q_UNUSED(res);
    m_socket = new QSslSocket();

    // Connect to signals to receive notifications
    // about state changes

    res = QObject::connect(m_socket,
                SIGNAL(sslErrors(QList&lt;QSslError&gt;)),
                this,
                SLOT(onSslErrors(QList&lt;QSslError&gt;)));

    Q_ASSERT(res);

    res = QObject::connect(m_socket,
            SIGNAL(stateChanged(QAbstractSocket::SocketState)),
            this,
            SLOT(onSocketSateChange(QAbstractSocket::SocketState)));
    Q_ASSERT(res);

    res = QObject::connect(m_socket,
                    SIGNAL(error ( QAbstractSocket::SocketError)),
                    this,
                    SLOT(onError(QAbstractSocket::SocketError)));
            Q_ASSERT(res);

    res = QObject::connect(m_socket, SIGNAL(encrypted()),
            this,
            SLOT(onSocketEncrypted()));
    Q_ASSERT(res);

    res = QObject::connect(m_socket, SIGNAL(readyRead()),
            this,
            SLOT(onSocketReadyRead()));
    Q_ASSERT(res);


}

// Make the SSL connection to the host on the specified port
m_socket-&gt;connectToHostEncrypted(""www.blackberry.com"", 443);

 /* if (!m_socket-&gt;waitForEncrypted()) {
    qDebug() &lt;&lt; m_socket-&gt;errorString();
    //return 1;
}
 */
 }
</code></pre>

<p>If anyone can help or show me an ssl sample working...</p>
",
22600822,What is the difference between nw_pthread_create and pthread_create?,https://stackoverflow.com/questions/22600822/what-is-the-difference-between-nw-pthread-create-and-pthread-create,0,1395633422,"multithreading, pthreads, qnx, qnx-neutrino","<p>This is a QNX specific implementation for threads. I'm working on developing a wifi driver for the QNX platform.</p>
",
22660251,interrupt service routine in qnx?,https://stackoverflow.com/questions/22660251/interrupt-service-routine-in-qnx,0,1395834941,"c, linux, interrupt, qnx, qnx-neutrino","<p>Scenario : Client is sending a data and the server is receving the data from client via ethernet layer (udp). When the server receives a data from the client on the ip layer (kernel). It interrupts the kernel and kernel as to execute the data by the client, so I want to create a interrupt service function to catch the interrupt from the network service card.</p>

<p>I am using Interruptattach api to handle the interrupt from the network interface card and sigevent structure to call the specific function.
<a href=""http://www.qnx.com/developers/docs/6.3.0SP3/neutrino/lib_ref/i/interruptattach.html#HandlerFunction"" rel=""nofollow"">http://www.qnx.com/developers/docs/6.3.0SP3/neutrino/lib_ref/i/interruptattach.html#HandlerFunction</a></p>

<p>is it the right way to handle interrupts in qnx ??</p>

<pre><code>volatile int id1, id2, id3;
 const struct sigevent *handler1(void *area, int id1)
 {
    volatile double KernelStartExecutionTime;
     KernelStartExecutionTime = GetTimeStamp();   // calculating the time when the kernel starts executing

    TASK1(Task2ms_Raster);
    return (NULL);

 }
 const struct sigevent *handler2(void *area, int id2)
 {
     volatile double KernelStartExecutionTime;
     KernelStartExecutionTime = GetTimeStamp();   // calculating the time when the kernel starts executing

    TASK2(Task10ms_Raster);
    return (NULL);

 }

 const struct sigevent *handler3(void *area, int id3)
 {
     volatile double KernelStartExecutionTime;
     KernelStartExecutionTime = GetTimeStamp();   // calculating the time when the kernel starts executing

    TASK3(Task100ms_Raster);
    return (NULL);

 }


 /*kernel calls attach the interrupt function handler to the hardware interrupt specified by intr(i.e irq) */
 // InterruptAttach() : Attach an interrupt handler to an interrupt source
 // interrupt source is handler1 for this example
void ISR(void)
 {

 volatile int irq = 0;   //0 :  A clock that runs at the resolution set by ClockPeriod()

 ThreadCtl (_NTO_TCTL_IO, NULL);
 id1 = InterruptAttach(irq, &amp;handler1, NULL, 0, 0);
 id2 = InterruptAttach(irq, &amp;handler2, NULL, 0, 0);
 id3 = InterruptAttach(irq, &amp;handler3, NULL, 0, 0);


 }

int main(int argc, char *argv[])
{
     Xcp_Initialize();

     CreateSocket();

     ISR();      //function call for ISR

     return 0;
}
</code></pre>

<p>another question : if I want to call another function in the sigevent structure then should I use another ISR for that (i.e. how to handle multiple function from the interrupt)?</p>

<p>I modified my code as above. Will it be efficient if I do like above. One ISR function with InterruptAttach API for three different handler.</p>
",
19980392,How to execute &quot;top&quot; only 1 time in QNX (c++ programming),https://stackoverflow.com/questions/19980392/how-to-execute-top-only-1-time-in-qnx-c-programming,0,1384439658,"c++, posix, qnx, qnx-neutrino, posix-api","<p>I am trying to write simple application for QNX. I installed qnx momentics ide, connected it to QNX virtual machine, and trying to execute ""top"" command</p>

<pre><code>#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;process.h&gt;
#include &lt;string&gt;
using namespace std;

int main(int argc, char *argv[]) {
    system(""top"");
    return EXIT_SUCCESS;
}
</code></pre>

<p>And i am getting and getting result until i kill ""top"" process manually in QNX virtual machine.
But i need only 1 time. Any ideas ?</p>
","<p><a href=""http://www.qnx.com/developers/docs/6.4.1/neutrino/utilities/t/top.html"" rel=""nofollow"">This page</a> suggests you should change <code>system(""top"")</code> to <code>system(""top -i 1"")</code>.</p>
"
22153186,Only one PuTTY session working at a time?,https://stackoverflow.com/questions/22153186/only-one-putty-session-working-at-a-time,0,1393867448,"ssh, putty, qnx","<p>I use PuTTY sessions to talk to an embedded device running QNX 6.4.1 using SSH over TCP/IP.</p>

<p>Today, one of my systems mysteriously won't allow me to have more than one PuTTY session open at a time. If I try to start a second session, I can authenticate with user name and password, but the sign on banner prints out with an extra blank line between each line and messes with my ability to hit enter. I can do nothing that looks remotely valid except Control-C or close the PuTTY window.</p>

<ul>
<li><p>I suspected the text file that contains the banner had bad line
endings, but it does not.</p></li>
<li><p>I suspected terminal setting issues, but if I have one session open it
works. With no changes to settings, just trying to open a second session it
does not.</p></li>
<li><p>I wondered if the <code>.profile</code> was getting mangled, but that doesn't
seem to be the case either.</p></li>
<li><p>Now I'm down to ""perhaps ssh is messed up and rebooting would fix
it?"" But I am hesitant to reboot it because if we lose TCP/IP
connection to it, it's several hours worth of work (physical labor)
to restore.</p></li>
</ul>

<p>Any thoughts about what is going wrong and how I can fix it?</p>

<p>I'm connecting using PuTTY 0.62 from 64-bit Windows 7 to QNX 6.4.1. The openssh/openssl version is modern.</p>

<p><strong>UPDATE</strong></p>

<p>The issue came back a few days later. Using Guntram Blohm's suggestion below, I was able to at least get past the ""Press enter once you've read the banner"" screen. I then ran <code>stty sane ctrl-j</code> as he recommended. Here is the output of <code>stty</code>:</p>

<p><strong>Bad after I had run <code>stty sane ctrl-j</code> (And hand reformatted it to be readable)</strong></p>

<pre><code>Name:  /dev/ttyp1
Type:  pseudo
Opens: 3
+raw +echo
+osflow
intr=^C  quit=^\ erase=^?  kill=^U   eof=^D start=^Q  stop=^S  susp=^Z
lnext=^V   min=01  time=00   pr1=^[   pr2=5B  left=44 right=43    up=41
down=42   ins=40   del=50  home=48   end=59
</code></pre>

<p>I then opened another PuTTY session immediately after this and it worked properly. This is confusing me how it works sometimes and doesn't work others. How can that happen? What is different?</p>

<p><strong>Good</strong></p>

<pre><code>Name:  /dev/ttyp2
Type:  pseudo
Opens: 2
+edit
+osflow
 intr=^C  quit=^\ erase=^?  kill=^U   eof=^D start=^Q  stop=^S  susp=^Z
lnext=^V   min=01  time=00   pr1=^[   pr2=5B  left=44 right=43    up=41
 down=42   ins=40   del=50  home=48   end=59
</code></pre>

<p>So right now I have a good PuTTY terminal open, and a bad one. What else can I do to isolate this issue?</p>
","<p>It's probably another process that uses the pseudo-terminal, puts it in a special state, then crashes without restoring the state. vi comes to mind, or maybe a file upload/download program. These programs change the terminal mode to read each character indicidually, instead of line by line, and tweak a few other things as well. Normally, logging out/back in SHOULD fix that, but i'm not sure QNX handles it correctly. </p>

<p>One thing you could do to copy the parameters of a working terminal to the messed up one is stty -g on the good one, then paste that output to the command line of the bad one. Like this (on Linux, i don't have a QNX at the moment):</p>

<p>(on the good terminal)</p>

<pre><code>gbl@bermuda$ stty -g
500:5:bf:8a3b:3:1c:7f:15:4:0:1:0:11:13:1a:0:12:f:17:16:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0
</code></pre>

<p>(on the bad one)</p>

<pre><code>gbl@bermuda$ stty 500:5:bf:8a3b:3:1c:7f:15:4:0:1:0:11:13:1a:0:12:f:17:16:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0
</code></pre>

<p>These terminal modes are kept per pseudo tty device, that's why your <code>/dev/ttyp1</code> can be messed up, while the <code>/dev/ttyp2</code> that's allocated for the next ssh connection is ok.</p>
"
22101827,QNX ELF File Format,https://stackoverflow.com/questions/22101827/qnx-elf-file-format,1,1393608287,"linker, elf, qnx","<p>I am trying to figure out the differences between ELF executables linked for QNX and Linux, respectively.</p>

<p>Is the exact ELF executable format needed by QNX documented somewhere? Minimally, what sections, segments, entries, etc. do I need in an ELF file to get the QNX loader to execute the instruction at the specified entry point?</p>
",
22063208,how to solve this Linux Timer,https://stackoverflow.com/questions/22063208/how-to-solve-this-linux-timer,0,1393490570,"c, linux, sockets, timer, qnx","<pre><code>#include &lt;features.h&gt;
#include &lt;time.h&gt;
#include &lt;sys/time.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;pthread.h&gt;
#include &lt;string.h&gt;
#include &lt;signal.h&gt;
#include &lt;unistd.h&gt;
#include &lt;errno.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netdb.h&gt;
#include &lt;sys/ioctl.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;

#define million 1000000L

timer_t firstTimerID, secondTimerID, thirdTimerID;
double Task2ms_Raster, Task10ms_Raster, Task100ms_Raster;

struct sockaddr_in addr, client;
int acceptSocket;
char buf[256];
long rc, sentbytes;
int port = 18037;


void TASK1(Task2ms_Raster)
{

     struct timespec start, stop;
     double startTime, stopTime;

        if( (startTime = clock_gettime( CLOCK_REALTIME, &amp;start)) == -1 ) {
          perror(""clock gettime"");

        }

        startTime =start.tv_sec + 0.0000001 * start.tv_nsec;
              printf(""start time is %lf"", startTime);


       // return EXIT_SUCCESS;

    /* Trigger DAQ for the 2ms XCP raster. */
    if( XCPEVENT_DAQ_OVERLOAD &amp; Xcp_DoDaqForEvent_2msRstr( ))
    {
        ++numDaqOverload2ms;
    }

    /* Update those variables which are modified every 2ms. */
 counter32 += slope32;

    /* Trigger STIM for the 2ms XCP raster. */
  if( enableBypass2ms )
   {
        if( XCPEVENT_MISSING_DTO &amp; Xcp_DoStimForEvent_2msRstr( ) )
        {
     ++numMissingDto2ms;
        }
        }
  if( (stopTime = clock_gettime( CLOCK_REALTIME, &amp;stop)) == -1 ) {
          perror( ""clock gettime"" );

        }
  stopTime =  stop.tv_sec + 0.0000001 * stop.tv_nsec;
   printf(""stop time is %lf"", stopTime);

            duration2ms = (stopTime- startTime);
            printf( ""time difference for task1 is= %ld\n"", duration2ms );

}

void TASK2(Task10ms_Raster)
{
     struct timespec start, stop;

     double startTime, stopTime;
            if( (startTime = clock_gettime( CLOCK_REALTIME, &amp;start)) == -1 ) {
              perror( ""clock gettime"" );

            }

            startTime =start.tv_sec + 0.0000001 * start.tv_nsec;
             printf(""start time is %lf"", startTime);


    /* Trigger DAQ for the 10ms XCP raster. */
    if( XCPEVENT_DAQ_OVERLOAD &amp; Xcp_DoDaqForEvent_10msRstr( ))
    {
        ++numDaqOverload10ms;
    }

    /* Update those variables which are modified every 10ms. */
    counter16 += slope16;

    /* Trigger STIM for the 10ms XCP raster. */
    if( enableBypass10ms )
    {
        if( XCPEVENT_MISSING_DTO &amp; Xcp_DoStimForEvent_10msRstr( ) )
        {
            ++numMissingDto10ms;
        }
    }

    if( (stopTime = clock_gettime( CLOCK_REALTIME, &amp;stop)) == -1 ) {
              perror( ""clock gettime"" );

            }

    stopTime =  stop.tv_sec + 0.0000001 * stop.tv_nsec;
     printf(""stop time is %lf"", stopTime);


    duration10ms = ( stop.tv_sec - start.tv_sec )
                             + (double)( stop.tv_nsec - start.tv_nsec )
                               / (double)million;
           printf( ""time difference for task2 is= %ld\n"", duration10ms );
}


void TASK3(Task100ms_Raster)
{
     struct timespec start, stop;
     double startTime, stopTime;

            if( (startTime = clock_gettime( CLOCK_REALTIME, &amp;start)) == -1 )
            {
              perror(""clock gettime"");

            }
           startTime =start.tv_sec + 0.0000001 * start.tv_nsec;
          printf(""start time is %lf"", startTime);

    /* Trigger DAQ for the 100ms XCP raster. */
    if( XCPEVENT_DAQ_OVERLOAD &amp; Xcp_DoDaqForEvent_100msRstr( ))
    {
        ++numDaqOverload100ms;
    }

    /* Update those variables which are modified every 100ms. */
    counter8 += slope8;


    /* Trigger STIM for the 100ms XCP raster. */
    if( enableBypass100ms )
    {
        if( XCPEVENT_MISSING_DTO &amp; Xcp_DoStimForEvent_100msRstr( ) )
        {
            ++numMissingDto100ms;
        }
    }

    if((stopTime = clock_gettime( CLOCK_REALTIME, &amp;stop)) == -1 ) {
              perror( ""clock gettime"" );

            }

    stopTime =  stop.tv_sec + 0.0000001 * stop.tv_nsec;
     printf(""stop time is %lf"", stopTime);

    Xcp_CmdProcessor();

    duration100ms = ( stop.tv_sec - start.tv_sec )
                     + (double)( stop.tv_nsec - start.tv_nsec )
                       / (double)million;
          printf( ""time difference for task3 is= %ld\n"", duration100ms );
}

/*The handler checks that the value stored in sival_ptr matches a given timerID
variable.  The sival_ptr is the same as the one we set in makeTimer(),
though here it lives in a different structure.
Obviously, it got copied from there to here on the way to this signal handler.
The point is that the timerID is what is used to determine which timer just went off
and determine what to do next */


static void timerHandler( int sig, siginfo_t *si, void *uc )
{
    timer_t *tidp;

    tidp = si-&gt;si_value.sival_ptr;

    if ( *tidp == firstTimerID )

        TASK1(Task2ms_Raster);
   else if ( *tidp == secondTimerID )
       TASK2(Task10ms_Raster);
    else if ( *tidp == thirdTimerID )
        TASK3(Task100ms_Raster);
}

/*
The function takes a pointer to a timer_t variable that will be filled with the
timer ID created by timer_create().  This pointer is also saved in the sival_ptr
variable right before calling timer_create().  In this function notice that we
always use the SIGRTMIN signal, so expiration of any timer causes this signal to
be raised.  The signal handler I've written for that signal is timerHandler.
*/

 static int makeTimer( char *name, timer_t *timerID, int expireMS, int intervalMS )
{
     //sigset_t mask;
    struct sigevent         te;
    struct itimerspec       its;
    struct sigaction        sa;
    int                     sigNo = SIGRTMIN;

    /* Set up signal handler. */
    sa.sa_flags = SA_SIGINFO;
    sa.sa_sigaction = timerHandler;
    sigemptyset(&amp;sa.sa_mask);
    if (sigaction(sigNo, &amp;sa, NULL) == -1)
    {
        perror(""sigaction"");
    }

    /* Set and enable alarm */
    te.sigev_notify = SIGEV_SIGNAL;
    te.sigev_signo = sigNo;
    te.sigev_value.sival_ptr = timerID;
    timer_create(CLOCK_REALTIME, &amp;te, timerID);

    its.it_interval.tv_sec = 0;
    its.it_interval.tv_nsec = intervalMS * 1000000;
    its.it_value.tv_sec = 0;
    its.it_value.tv_nsec = expireMS * 1000000;
    timer_settime(*timerID, 0, &amp;its, NULL);


    return 1;
}

void timerCalculation()
 {

     makeTimer(""First Timer"", &amp;firstTimerID, 2, 2);   //2ms

   makeTimer(""Second Timer"", &amp;secondTimerID, 10, 10);    //10ms
   makeTimer(""Third Timer"", &amp;thirdTimerID, 100, 100);  //100ms


 }


int CreateSocket()
{


    socklen_t len = sizeof(client);
       // Socket creation for UDP

       acceptSocket=socket(AF_INET,SOCK_DGRAM,0);

       if(acceptSocket==-1)

       {

         printf(""Failure: socket creation is failed, failure code\n"");

         return 1;

       }

       else

       {

         printf(""Socket started!\n"");

       }

       //non blocking mode
      /* rc = ioctl(acceptSocket, FIONBIO, (char *)&amp;flag);
          if (rc &lt; 0)
          {
                     printf(""\n ioctl() failed \n"");
             return 0;
          }*/

          //Bind the socket
     memset(&amp;addr, 0, sizeof(addr));

     addr.sin_family=AF_INET;

     addr.sin_port=htons(port);

     addr.sin_addr.s_addr=htonl(INADDR_ANY);

     rc=bind(acceptSocket,(struct sockaddr*)&amp;addr,sizeof(addr));

     if(rc== -1)

     {

       printf(""Failure: listen, failure code:\n"");

       return 1;

     }

     else

     {

       printf(""Socket an port %d \n"",port);

     }


     if(acceptSocket == -1)
     {
         printf(""Fehler: accept, fehler code:\n"");

          return 1;
     }
     else
     {

     while(rc!=-1)
         {


         rc=recvfrom(acceptSocket,buf, 256, 0, (struct sockaddr*) &amp;client, &amp;len);
         if(rc==0)
         {
           printf(""Server has no connection..\n"");
           break;
         }
         if(rc==-1)
         {
             printf(""something went wrong with data %s"", strerror(errno));
           break;
         }


         XcpIp_RxCallback( (uint16) rc, (uint8*) buf, (uint16) port );
         timerCalculation();

          }


     }

       close(acceptSocket);

       return 0;

     }


int main()
{

     Xcp_Initialize();
     CreateSocket();

     return 0;
}

void XcpApp_IpTransmit( uint16 XcpPort,  Xcp_StatePtr8 pBytes, uint16 numBytes )
{


        if ((long)XcpPort==port){
                sentbytes = sendto(acceptSocket,(char*)pBytes,(long)numBytes,0, (struct sockaddr*)&amp;client, sizeof(client));
        }
        XcpIp_TxCallback(port,(uint16)sentbytes);
    }
</code></pre>

<p>I created a server side program for receiving data from the client and sending the response back to the client.There are some api whose definition is not shown above.</p>

<p>I'm writing an application that uses timer to do some data acquisition and processing at a fix sample rate (200Hz). The application acts like a server and run in background. It should be controllable from other processes or other machines from UDP.</p>

<p>To do so, I use the <code>timer_create()</code> API to generate signals periodically and call an handler that do the acquisition and the processing.</p>

<p>The code above is called when a '<code>start</code>' command is received from UDP. To check for command I have an infinite loop in my main program that call <code>recvfrom()</code> syscall.</p>

<p>PROBLEM : In debug mode - I am recieving the data from the client, timer as been called and it is getting stuck at - <code>static void timerHandler( int sig, siginfo_t *si, void *uc ) {</code> .</p>

<p>REASON for the problem: i am creating multiple timers, say 3 timers from a single process. and all are supposed to land in single Timer handler.</p>

<p>But its giving bus error and <code>""si-&gt;si_value.sival_ptr"" ==&gt;</code> is of junk value and some how it is getting corrupted. - See more at: <a href=""http://www.graphics-muse.org/wp/?p=868#sthash.cuvJDp39.dpuf"" rel=""nofollow"">http://www.graphics-muse.org/wp/?p=868#sthash.cuvJDp39.dpuf</a> .</p>

<p>could anyone help me in this ??</p>
",
21991335,QNX Neutrino sound card not working,https://stackoverflow.com/questions/21991335/qnx-neutrino-sound-card-not-working,1,1393254046,"audio, qnx, qnx-neutrino","<p>I have installed QNX 6.4.0 neutrino on an unused x86 box. It's all working fine, I can run my test code on there via the network connection (qconn).</p>

<p>However the sound does not work. When I click the audio settings I get an error, similarly if I run my code it can't find an audio card.</p>

<p>I had an on-board sound card (built-in). Running io-audio, I was not able to detect it. So I went a purchased a new off the shelf PCI sound card (CMI-8738), this also failed to be recognized by QNX.</p>

<p>When I run ""pci -vvv | less"" I am able to see both audio devices are connected (and I can see in the BIOS as well).</p>

<p>I read somewhere that I need to get some driver called deva-ctrl-cmpci.so, but I can't find that anywhere.</p>

<p>What can I do?</p>
",
21930317,QNX Microphone sampling and speaker playback,https://stackoverflow.com/questions/21930317/qnx-microphone-sampling-and-speaker-playback,0,1392974957,"c++, qnx, qnx-neutrino","<p>I am using QNX neutrino RTOS, I am new to QNX. I have setup my first project with some IPC messaging between two threads. </p>

<p>What I want to do is have one thread as a microphone ""driver"" that samples input from the microphone and stores / sends it as PCM packets to another thread which plays it out of the speaker.</p>

<p>So, are there any audio support libraries?, what is the best way to achieve recording microphone input and speaker output?</p>
","<p>Yes, QNX comes with an audio library.</p>

<p>The audio library is documented starting at this location (6.5 SP1 version):
<a href=""http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_audio%2Fabout.html&amp;cp=13_1"" rel=""nofollow"">http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_audio%2Fabout.html&amp;cp=13_1</a></p>

<p>Your qnx system includes a utility (command) called ""wave"" for playing back a .wav file and ""waverec"" for recording audio from the microphone and saving it to a .wav file.</p>

<p>You can use the ""use wave"" and ""use waverec"" commands for getting information about the supported command line options.</p>

<p>The documentation includes the complete source of the wave and waverec utilities:</p>

<p>wave.c:
<a href=""http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_audio%2Fwavec.html"" rel=""nofollow"">http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_audio%2Fwavec.html</a></p>

<p>waverec.c:
<a href=""http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_audio%2Fwaverec.html"" rel=""nofollow"">http://www.qnx.com/developers/docs/6.5.0_sp1/index.jsp?topic=%2Fcom.qnx.doc.neutrino_audio%2Fwaverec.html</a></p>

<p>The recommended way to start with audio recording and playback is to first have the wave and waverec binaries shipped with the system working.  After that build the supplied source, have it working again, then understand it and embed in your application, possibly after stripping it down.  (Because the sample is generic and perhaps you  want to hard-code certain features that are dynamically configured in the sample).</p>

<p>You need to link against the libasound.so library in order to build the samples.
A minimal command-line example (tested) to build wave.c for armlev7 and x86:</p>

<pre><code>ntoarmv7-gcc wave.c -o wave -l asound
ntox86-gcc wave.c -o wave -l asound
</code></pre>

<p>If you are building via the IDE then you need to add the library in the appropriate setting.</p>

<p>You are welcome to post here any questions you may have while working with the samples.</p>
"
16526456,Getting the list of running user process in QNX,https://stackoverflow.com/questions/16526456/getting-the-list-of-running-user-process-in-qnx,3,1368461094,"qnx, qnx-neutrino, blackberry-qnx, xlet","<p>I am running some daemon user processes as well as some Xlet GUI apps in a QNX operating system.I connect to the QNX console using TeraTerm.I need to get the list of running user apps/process inorder to see which user apps are already running in the system. I would be needing processID , memory &amp; appname. </p>

<p>I came across the <code>pidin</code> command,but it list out all the process.Anyways to filter out user process and their app names ?</p>
","<p>I would really like to have an better answer like 'use ps', but BB10 did not include this (at least we cannot access it so far as I know).
But furtunatly there is something that is at least a bit better than pidin:</p>

<pre><code>hogs -n -i 1
</code></pre>

<p>-n stands for 'display process name', but I think you can omit it, because it is default(?)<br>
-i &lt;N&gt; gives the number of iterations, this means '1' will only show it once. Omitting this option will continuously list this output all 3 seconds.<br>
<br>
Output looks like this:</p>

<pre><code>$ hogs -n -i 1            
  PID           NAME   MSEC PIDS  SYS       MEMORY
48095409       qconn      1   0%   0%    716k  49%
48111818        sshd      1   0%   0%    412k  28%
48328909        hogs      5   3%   0%    132k   9%
48111820         -sh     77  57%   2%    180k  12%
</code></pre>
"
21840634,Qt/Qml for two different displays on QNX platform,https://stackoverflow.com/questions/21840634/qt-qml-for-two-different-displays-on-qnx-platform,3,1392676407,"qt, qml, qnx","<p>I am trying to create Qt application rendering to two displays. QNX is already configured, for 2 displays. We created two windows, but how do we tell Qt to render a window to the second display?</p>

<p>Here is my code snippet</p>

<pre><code>QGuiApplication app(argc, argv);

QtQuick2ApplicationViewer viewer1;
QtQuick2ApplicationViewer viewer2;

init();

viewer1.setMainQmlFile(QStringLiteral(""qml/VisionBuck/main.qml""));
viewer1.showExpanded();

viewer2.setMainQmlFile(QStringLiteral(""qml/VisionBuck/display2.qml""));
viewer2.showExpanded();
</code></pre>

<p>In output I can see 2 windows displaying the QMLs. But they are being rendered on same display.
How do I attach the windows to different screens ?</p>
",
21577816,cc1plus: Virtual memory exhausted,https://stackoverflow.com/questions/21577816/cc1plus-virtual-memory-exhausted,5,1391604645,"c++, qnx, momentics","<p>I am trying to build a project in QNX Momentics IDE (4.6) using qcc in Linux. I fail to succeed the build process with the following error:</p>

<pre><code>virtual memory exhausted: Cannot allocate memory
/opt/qnx641/host/linux/x86/usr/lib/gcc/i386-pc-nto-qnx6.4.0/4.3.3/cc1plus error 1
</code></pre>

<p>The project has a cpp file with more than 1.3 MLOC. This one is an autogenerated code from a large Matlab/SIMULINK simulation model so it is not easy to divide and conquer. </p>

<p>It is hard to understand if it is LOC limit of qcc compiler or due to a programming practice in the autogenerated code. </p>

<p>I would like to ask:</p>

<ul>
<li>Is there any source file size limit for qcc?</li>
<li>What are the bad programming practices that cause this?</li>
<li>Any suggestions to fix <code>virtual memory exhausted</code> problem of cc1plus?</li>
</ul>
",
21551799,how to add the path for of specific header file in QNX momentics IDE?,https://stackoverflow.com/questions/21551799/how-to-add-the-path-for-of-specific-header-file-in-qnx-momentics-ide,0,1391514859,"c, rtos, qnx, qnx-neutrino","<p>I created a QNX c project and added some libraries and .c file in that. I want to add the path for the .h file in QNX momentics ide. There is no option for it. I created a QNX c project. Could someone help me in this ??</p>
",
21315434,when run make in Momentics on windows I got error,https://stackoverflow.com/questions/21315434/when-run-make-in-momentics-on-windows-i-got-error,0,1390498504,"qnx, momentics","<p>When running cmake in  Momentics 6.5 on Windows I got the following error:</p>

<p>bash.exe: warning: could not find /tmp, please create! 
bash: Run_cmake: No such file or directory</p>

<p>Note: I have /tmp, /temp set in my environment variable to my appData/local/....</p>

<p>Any idea what is the problem?</p>
",
18318521,"System() call returns 255, but executes afterwards",https://stackoverflow.com/questions/18318521/system-call-returns-255-but-executes-afterwards,2,1376929288,"c++, shell, system-calls, qnx, mongoose-web-server","<p>I am running mongoose 3.7 server on my qnx system.</p>

<p>I receive http request to upgrade the firmware. On the request, I use, <code>system()</code> call in the request handler to upgrade the firmware.</p>

<p>But, strangely, <code>system()</code> returns 255. The same call was working before with mongoose 2.0.</p>

<p>Even more strange, the command which I issued through the <code>system()</code> call works after it returned 255.</p>

<p>I am using <code>WEXITSTATUS</code> to know the error which <code>system()</code> returns</p>

<p>Any idea why this is happening?</p>
","<p>I found the issue..</p>

<p>The issue was that the mongoose call back thread which issues the system() command will not wait for the return status becuase of this line:</p>

<p>On the mg_start() function, which starts the server thread, they have included this line:</p>

<p><code>mg_start()</code> line no 5159:</p>

<pre><code>(void) signal(SIGCHLD, SIG_IGN);
</code></pre>

<p>They have done this inorder to not create a zombie process.</p>

<p>Ref: <a href=""http://www.win.tue.nl/~aeb/linux/lk/lk-5.html"" rel=""nofollow"">http://www.win.tue.nl/~aeb/linux/lk/lk-5.html</a></p>

<p>But, According to QNX documentation, </p>

<blockquote>
  <p>‚ÄúSetting a signal action to <code>SIG_IGN</code> for a signal that's pending
  causes the pending signal to be discarded, whether or not it is
  blocked. If a process sets the action for the <code>SIGCHLD</code> signal to
  <code>SIG_IGN</code>, the behavior is unspecified.‚Äù</p>
</blockquote>

<p>calling <code>SIG_IGN</code> on <code>SIGCHLD</code> causes the parent process to ignore the status signal from the child.</p>

<p>When we make a <code>system()</code> call, it blocks the SIGCHLD signal from the shell that is being launched. According to UNIX documentation:</p>

<blockquote>
  <p>‚ÄúBlocking <code>SIGCHLD</code> while waiting for the child to terminate prevents
  the application from catching the signal and obtaining status from
  system()'s child process before <code>system()</code> can get the status itself.‚Äù</p>
</blockquote>

<p>But, since mongoose discards the signal, it does not wait for the signal from <code>system()</code> at all.</p>

<p>It simply continues to serve the response without a valid return status from <code>system()</code>.</p>

<p>I just commented out this line for the time being. And it‚Äôs working. </p>
"
21080354,How can I convert from DWARF version4 to version2 ? ( without recompiling ),https://stackoverflow.com/questions/21080354/how-can-i-convert-from-dwarf-version4-to-version2-without-recompiling,0,1389561198,"gdb, elf, qnx, dwarf","<p>I'm trying to debug a program that uses DWARF-4 but my gdb is too old and only understands DWARF-2.</p>

<p>I can't update gdb and I can't recompile, so I need a way to convert them, maybe with some binutils tool?</p>
",
20691732,New thread name does not show in pidin output,https://stackoverflow.com/questions/20691732/new-thread-name-does-not-show-in-pidin-output,0,1387487432,"multithreading, renaming, qnx","<p>I am trying to change the name of a thread in QNX 6.4.1, but the threads continue to be listed with the parent process name in a ""pidin"" listing.</p>

<p>I have created the thread:</p>

<pre><code>iReturn = pthread_create(&amp;threadhandle, &amp;attr, &amp;CALzoneCommThread, this);
</code></pre>

<p>I have renamed the thread from within the thread itself:</p>

<pre><code>iReturn = pthread_setname_np(NULL, ""HappyThread"");
</code></pre>

<p>I have read the thread name back:</p>

<pre><code>iReturn = pthread_getname_np(NULL, thread_name, 80);
</code></pre>

<p>And all threads return the name ""HappyThread"" as verified with printf statements, yet when I do a pidin, they are still listed with the process name ""testapp"". I need some help determining whether I have done something wrong in the code above, or if I am fundamentally misunderstanding the pidin command.
Due to a requirement to play nicely with legacy utilities, the threads must have a name other than the process name.</p>

<p>Platform: QNX 6.4.1
Language: C</p>
","<p>Yes, you have done something wrong in the code AND you are misunderstanding the output of the pidin command:</p>

<ol>
<li><p>The behavior of your code is unspecified because you are passing NULL (which gets converted to 0) as the thread-id.  QNX numbers its threads from 1, therefore thread 0 is unspecified.  Experimentation shows that passing 0 for the TID behaves identically to passing 1, for both pthread_setname_np and pthread_getname_np.  Therefore, your code is setting and getting the ID of the main thread and not that of the thread you created via the pthread_create() call.  You should pass threadhandle as the parameter of the set/get_name calls to actually refer to the newly created thread:</p>

<p><pre>
 iReturn = pthread_setname_np(threadhandle, ""HappyThread"");
 </pre></p></li>
<li><p>With no arguments pidin does not display the thread-name set via pthread_setname_np() at all. When called with no arguments pidin displays the process ID in the first column, the thread ID (numeric) in the second column and the name of the process in the third column (that's what you likely misunderstood for the thread-name).  </p></li>
<li><p>you can call pidin with argument 'threads' as suggested by others above; this will display the thread-name in the third column if one has been set up or the numeric thread ID otherwise.  Alternatively, you can call pidin similar to the following in order to get both the numeric and symbolic (if available) ID-s of each thread:</p>

<p>pidin -faNbh</p></li>
</ol>

<p>For each thread in the system this will print the PID, process-name, TID and thread-name in that order.  Refer to ""use pidin"" for how that works.</p>
"
20836873,How to check the host and target on the same network?,https://stackoverflow.com/questions/20836873/how-to-check-the-host-and-target-on-the-same-network,1,1388396246,"network-programming, tcp, subnet, rtos, qnx","<p>I want to connect a <em>QNX Neutrino</em> RTOS machine (target) to the network and my
development machine (consists of <em>QNX Momentics</em> IDE) should also be on the same network. Please tell me the steps to verify that both host and target are on the same network?</p>
",
20857958,how to find the current priority of a thread in QNX,https://stackoverflow.com/questions/20857958/how-to-find-the-current-priority-of-a-thread-in-qnx,1,1388495564,"c, pthreads, qnx","<p>Can any one tell me how to find the current priority of a thread in QNX.I had used pthread_getschedparam() function but this doesnt prints the expected value as the assigned and current are infact seen is the same.</p>

<p>The code snippet is shown below and the l_nRetVal returns 0 which is success.</p>

<pre><code>    pthread_t thread_id = 0;
    struct sched_param  param_test;
    int l_nPolicy = -1;
    int l_nRetVal = -1;
char l_acMyPrio[20];

   memset( &amp;param_test, 0, sizeof(param_test) );
   memset( l_acMyPrio, 0, sizeof(l_acMyPrio) );
   thread_id = pthread_self();
   l_nRetVal = pthread_getschedparam(thread_id, &amp;l_nPolicy, &amp;param_test);
</code></pre>

<p>regards
Maddy</p>
",
20807520,RTI DDS spamming my display,https://stackoverflow.com/questions/20807520/rti-dds-spamming-my-display,1,1388176815,"c++, c, qnx, data-distribution-service","<p>I am working on an embedded system running on QNX 6.4.1 that has several software servers communicating with each other.  Some of the folks on my project checked a whole bunch of DDS stuff straight into the main baseline and went on holiday. Of course it doesn't work right, <strong>and</strong> our configuration management tool (Perforce) is acting up too....</p>

<p>I finally got the mess to compile, but it's spewing messages at me from several of the servers, multiple times per second. Note that there are no <code>cout</code> nor <code>printf</code> calls printing this out to the display. I believe it's coming from the RTI DDS libraries themselves.</p>

<p>The message I see is <code>RTISystemClock_getTime:now {HEXNUMBER, HEXNUMBER} &lt; 0</code></p>

<p>A Google search does not enlighten much. Can somebody tell my why it keeps spamming me?</p>

<p><img src=""https://i.sstatic.net/5UUGL.jpg"" alt=""enter image description here""></p>
","<p>Okay Googlers!</p>

<p>It turns out that somehow my system clock had gotten set to 2045. Apparently that's after DDS time wraps (it is after 2038...), so it thought the time was less than zero... </p>

<p>In hindsight, that should have been obvious, but this new DDS code is unfamiliar and the interweb wasn't much help and the printout with hex time was terse and... insert excuse here.</p>

<p>Fixing the clock fixed it.</p>
"
20697474,ByteSize() with in Google protocol buffer,https://stackoverflow.com/questions/20697474/bytesize-with-in-google-protocol-buffer,2,1387520230,"c++, protocol-buffers, qnx, rational-rose","<p>now I develop the test code using GPB in qnx as follows:</p>

<pre><code>Offer_event Offer;
string a = ""127.0.0.7"";

Offer.set_ipaddress(a);
Offer.set_port(9000);

      BufSize = Offer.ByteSize();

Length_message = BufSize + Message_Header_Size;
Message-&gt;PayloadLength_of_Payload = BufSize;
PayloadBuffer = new char[BufSize];
Offer.SerializeToArray(PayloadBuffer, BufSize);
</code></pre>

<p>in that case, I met some errors. but I cannot understand it.</p>

<p>that error is as follows:</p>

<pre><code>#0  std::string::size (this=0xcd21c0)
at /home/builder/hudson/650-gcc-4.4/svn/linux-x86-o-ntoarmeabi/arm-unknown-nto-qnx6.5.0eabi/pic/libstdc++-v3/include/bits/basic_string.h:624
624     /home/builder/hudson/650-gcc-4.4/svn/linux-x86-o-ntoarmeabi/arm-unknown-
nto-qnx6.5.0eabi/pic/libstdc++-v3/include/bits/basic_string.h: No such file or d
irectory.
in /home/builder/hudson/650-gcc-4.4/svn/linux-x86-o-ntoarmeabi/arm-unkno
wn-nto-qnx6.5.0eabi/pic/libstdc++-v3/include/bits/basic_string.h
(gdb) bt
#0  std::string::size (this=0xcd21c0)
at /home/builder/hudson/650-gcc-4.4/svn/linux-x86-o-ntoarmeabi/arm-unknown-n
to-qnx6.5.0eabi/pic/libstdc++-v3/include/bits/basic_string.h:624
#1  0x0067d6b0 in google::protobuf::internal::WireFormatLite::StringSize ()
#2  0x0063ecd0 in Offer_event::ByteSize ()
#3  0x00404f18 in AnalysisCmdC_Actor::TestGPB ()

from C:/QNX650/target/qnx6/armle-v7/lib/libc.so.3
#11 0x0004201a in ?? ()
Cannot access memory at address 0x0
Current language:  auto; currently c++
(gdb)
</code></pre>

<p>I don't know why the ByteSize has a problem.
If i delete the string part, it works well.
I think usage of string is problem.</p>

<p>what's the problem?</p>
",
20422430,How to add a user defined function in QDB Library?,https://stackoverflow.com/questions/20422430/how-to-add-a-user-defined-function-in-qdb-library,1,1386328359,"sql, c, sqlite, qnx, name-mangling","<p>QDB is a database provided by QNX Neutrino package. I went through the QDB documentation to add a user defined SQL function: <a href=""http://www.qnx.com/developers/docs/6.5.0/topic/com.qnx.doc.qdb_en_dev_guide/writing_functions.html?cp=2_0_8"" rel=""nofollow"">http://www.qnx.com/developers/docs/6.5.0/topic/com.qnx.doc.qdb_en_dev_guide/writing_functions.html?cp=2_0_8</a></p>

<p>I created a source file which had my user define SQL function written in C and qdb_function structure definition. I built it with a make file to create libudf.so.
As suggested by QDB I added <strong>Function = udftag@libudf.so</strong> in the qdb.cfg. But while running the qdb in the shell prompt, it is giving the error (in bold):</p>

<p>qdb -I basic -V -R set -v -c /etc/sql/qdb.cfg -s de_DE@cldr -o tempstore=/fs/tmpfs</p>

<p>QDB: No script registered for handling corrupt database.</p>

<p>qdb: processing [TempMainAddressBook]Function - <strong>Can't access shared library</strong></p>

<p>and qdb is getting exited immediately.</p>

<p>I have tried following things:</p>

<ol>
<li><p>made sure sqlite3 library is added in the make file</p></li>
<li><p>source code is in strictly in C by using directive : extern ""C"" to avoid name mangling as the file extension is .cpp. I also tried with .c extension.</p></li>
<li><p>given the absolute path of the libudf.so in qdb.cfg as : <strong>Function = udftag@/usr/lib/libudf.so</strong></p></li>
<li><p>qdb_funcion struct is properly defined in library's source code only.</p></li>
<li><p>tried without using the static declaration of function(mentioned in the qdb docs)</p></li>
</ol>

<p>After trying all hits and trials also, I am getting the same error every time which is <strong>Can't access shared library</strong></p>

<p>If any one has any idea to resolve this error please share.</p>
",
17532720,Playing a wave file in QNX,https://stackoverflow.com/questions/17532720/playing-a-wave-file-in-qnx,0,1373305027,"multimedia, qnx","<p>Can you please let me know how to play the wave file for the IMX 51 Multimedia board?The code is copied from the link as shown below:
<a href=""http://www.qnx.org/developers/docs/6.3.2/neutrino/audio/wavec.html"" rel=""nofollow"">http://www.qnx.org/developers/docs/6.3.2/neutrino/audio/wavec.html</a></p>

<p>What are the arguments that needs to be given and where should the wave file be placed on the filesystem.</p>

<p>Advanced thanks
Maddy</p>
",
18788987,How can I access each thread&#39;s stack using THREAD type in QNX?,https://stackoverflow.com/questions/18788987/how-can-i-access-each-threads-stack-using-thread-type-in-qnx,0,1379082969,"c, unix, operating-system, qnx, qnx-neutrino","<p>What is the THREAD datatype in QNX neutrino?
How can I access to content of a thread's stack using its THREAD* value just like when you debug stack frames using gdb command tool? </p>
",
19481564,malloc qnx working in unexpected ways,https://stackoverflow.com/questions/19481564/malloc-qnx-working-in-unexpected-ways,0,1382295886,"c, malloc, posix, qnx","<p>I have written a program that i compiled and ran under Linux. It worked correctly. I was then forced to port it to QNX.</p>

<p>I did and when i tried to compile it there (qnx with momentics) I got a cryptic error:</p>

<pre><code>timer_t * timer = malloc(sizeof(timer_t)); &lt;---- invalid conversion from 'void*' to 'timer_t*'
</code></pre>

<p>here i get another error of a (i guess) similar type:</p>

<pre><code>static void signalor(int sig, siginfo_t *si, void *uc)
    timer_t *tidptr;
    tidptr = si-&gt;si_value.sival_ptr;&lt;----- invalid conversion from 'void*' to 'timer_t*'
</code></pre>

<p>Does anyone know why i get this error? Or how to fix it?</p>

<p>thanks in advance.</p>
","<p>Credits go to @rici as he answered ages ago but in order to move this to closure, the following code resolves the issue:</p>

<pre><code>#include &lt;malloc.h&gt;
#include &lt;time.h&gt;
#include &lt;signal.h&gt;

int main() {
    timer_t * timer = (timer_t*)malloc(sizeof(timer_t));

    siginfo_t si = {0};
    timer_t *tidptr;

    tidptr = (timer_t*)si.si_value.sival_ptr;

    return 0;
}

bash-3.2$ ntoarmv7-g++ tst.c -Wall
tst.c: In function 'int main()':
tst.c:7: warning: unused variable 'timer'
bash-3.2$
</code></pre>

<p>The issue is as explained by both the compiler and rici above: c++ does not permit assigning  pointers of incompatible type.  The original code would build happily with gcc (instead of g++).</p>
"
19498908,How to read user process addresses from kernel space?,https://stackoverflow.com/questions/19498908/how-to-read-user-process-addresses-from-kernel-space,0,1382369996,"c, unix, operating-system, kernel, qnx","<p>Actually, I am working on QNX. Somepoint in the kernel space when one process want to send a message to another process and these both processes are blocked, I can get the values of stack pointer and frame pointer for each process.</p>

<p>Next, I want to access the stack of each process but my problem is that these values (sp and fp) are virtual addresses which are valid in user processes. How could I read words from these  user addresses in kernel space?</p>
",
19720325,How to build os image including gcc g++ tool chain for ARM platform?,https://stackoverflow.com/questions/19720325/how-to-build-os-image-including-gcc-g-tool-chain-for-arm-platform,0,1383276573,"qnx, qnx-neutrino, qnx-ifs","<p>I am trying to build an OS image for TI OMAP4 Pandaboard. The downloaded BSP can be built but very limited without gcc g++ compiler. I think it much difficult to add the tool chain in QNX Momentics IDE, because there are so many files to be added. Can I manually modify the buildfile to do it? If possible, please give me an example. Thanks in advance.</p>
",
312854,Can I use confstr to set up two nameservers?,https://stackoverflow.com/questions/312854/can-i-use-confstr-to-set-up-two-nameservers,1,1227468856,"dns, nameservers, qnx","<p>I am trying to set two dynamic nameserver IP addresses in my QNX system.  I have been able to use confstr to set up an address by setting a <code>_nameserver=xxx.xxx.xxx.xxx</code> string into _CS_RESOLVE.  Then res_search returns the correct IP address for a given name.  I actually  have two questions:</p>

<ol>
<li><p>How do I set up two nameservers (primary and secondary) using setconf?</p></li>
<li><p>If the nameserver IP addresses change, can I just call setconf again to change them while my application is running?</p></li>
</ol>
",
18911876,Blackberry 10 - Assets Warning,https://stackoverflow.com/questions/18911876/blackberry-10-assets-warning,1,1379664813,"blackberry, qml, blackberry-10, blackberry-cascades, qnx","<p>Recently started learning and developing(QML with momentics ide) for BB10 and the applications seem to work. However while building I've been getting warning "".Assets need to be packaged only once"".
All the icons and images have been placed in the assets folder.
I've noticed after building that within the .bar file duplicate copies of the icons and images outside the asset folder are created automatically and the file size just bloats up.
Any help on these. </p>

<p>Am I placing the images in the wrong location?</p>

<p>All the icons and splash screen images were set/edited using bar-descriptor file in the ide.</p>

<p>Would appreciate help or suggestions on this</p>
",
17256336,Error [Errno 89] Function not implemented while executing command python setup.py egg_info,https://stackoverflow.com/questions/17256336/error-errno-89-function-not-implemented-while-executing-command-python-setup-p,1,1371944027,"pip, qnx, ros, qnx-neutrino","<p>Update 6/25/2013) I see the same error when trying to install different package using <code>pip</code>, indicating that the package is likely to have nothing to do with the issue. </p>

<hr>

<p>On <code>QNX</code> I'm seeing the following error upon running <code>pip</code>.</p>

<pre><code># pip install -U catkin_pkg 
Downloading/unpacking catkin-pkg
  Running setup.py egg_info for package catkin-pkg

Requirement already up-to-date: argparse in /usr/pkg/lib/python2.7/site-packages (from catkin-pkg)
Requirement already up-to-date: docutils in /usr/pkg/lib/python2.7/site-packages (from catkin-pkg)
Requirement already up-to-date: python-dateutil in /usr/pkg/lib/python2.7/site-packages (from catkin-pkg)
Requirement already up-to-date: six in /usr/pkg/lib/python2.7/site-packages (from python-dateutil-&gt;catkin-pkg)
Installing collected packages: catkin-pkg
  Running setup.py install for catkin-pkg
    Error [Errno 89] Function not implemented while executing command /usr/qnx650/host/qnx6/x86/usr/bin/python -c ""import setuptools;__file__='/tmp/pip-build-n130s/catkin-pkg/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))"" install --record /tmp/pip-XhRdBe-record/install-record.txt --single-version-externally-managed
Exception:
Traceback (most recent call last):
  File ""/usr/pkg/lib/python2.7/site-packages/pip-1.3-py2.7.egg/pip/basecommand.py"", line 139, in main
    status = self.run(options, args)
  File ""/usr/pkg/lib/python2.7/site-packages/pip-1.3-py2.7.egg/pip/commands/install.py"", line 271, in run
    requirement_set.install(install_options, global_options, root=options.root_path)
  File ""/usr/pkg/lib/python2.7/site-packages/pip-1.3-py2.7.egg/pip/req.py"", line 1185, in install
    requirement.install(install_options, global_options, *args, **kwargs)
  File ""/usr/pkg/lib/python2.7/site-packages/pip-1.3-py2.7.egg/pip/req.py"", line 592, in install
    cwd=self.source_dir, filter_stdout=self._filter_install, show_stdout=False)
  File ""/usr/pkg/lib/python2.7/site-packages/pip-1.3-py2.7.egg/pip/util.py"", line 627, in call_subprocess
    cwd=cwd, env=env)
  File ""/usr/pkg/lib/python2.7/subprocess.py"", line 711, in __init__
    errread, errwrite)
  File ""/usr/pkg/lib/python2.7/subprocess.py"", line 1205, in _execute_child
    self.pid = os.fork()
OSError: [Errno 89] Function not implemented
Storing complete log in /root/.pip/pip.log
</code></pre>

<p>The first time I ran this command when the depended components such as <code>argparse</code>, <code>docutils</code>, <code>python-dateutil</code> and <code>six</code> were not installed, the same error happened, but at the part where these required components are checked. Now that I've installed them one by one, it seems to be happening at the pkg I'm installing itself (ie. <code>catkin_pkg</code>).</p>

<p>On python's console, <code>os.fork()</code>, which I assume the source of the cause, behaves differently. Thus I'm not even sure if the error occurs at <code>os.fork()</code> or not.</p>

<pre><code># python
Python 2.7.4 (default, Jun 21 2013, 22:33:48) 
[GCC 4.4.2] on qnx6
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import os
&gt;&gt;&gt; os.fork()
18804790
&gt;&gt;&gt; 0
sem_wait: Invalid argument
</code></pre>

<p>How can I avoid this error? Thank you!</p>

<p>Using <code>QNX</code> 6.5.0 SDP SP1, <code>pip</code> version is 1.3 (<a href=""https://github.com/pypa/pip/tree/1.3/pip"" rel=""nofollow"">its source on github</a>), also <a href=""https://github.com/ros-infrastructure/catkin_pkg"" rel=""nofollow"">source of catkin_pkg</a>.</p>
","<p>I somehow figured it out. Running <code>pip</code> WITHOUT <code>-U</code> option gets the package installed (install log is at the bottom for the reference). </p>

<p>...But why...? Help message of <code>pip</code>'s doesn't seem to make sense to me:</p>

<pre><code>$ pip install --help
:
Install Options:
:
  -U, --upgrade   Upgrade all packages to the newest available version. This process is recursive regardless of whether a dependency is already satisfied.
</code></pre>

<p>Log of installation by <code>pip</code>:</p>

<pre><code>$ pip install catkin_pkg    
Downloading/unpacking catkin-pkg
  Running setup.py egg_info for package catkin-pkg

Requirement already satisfied (use --upgrade to upgrade): argparse in /usr/pkg/lib/python2.7/site-packages (from catkin-pkg)
Requirement already satisfied (use --upgrade to upgrade): docutils in /usr/pkg/lib/python2.7/site-packages (from catkin-pkg)
Requirement already satisfied (use --upgrade to upgrade): python-dateutil in /usr/pkg/lib/python2.7/site-packages (from catkin-pkg)
Requirement already satisfied (use --upgrade to upgrade): six in /usr/pkg/lib/python2.7/site-packages (from python-dateutil-&gt;catkin-pkg)
Installing collected packages: catkin-pkg
  Running setup.py install for catkin-pkg
    changing mode of build/scripts-2.7/catkin_create_pkg from 664 to 775
    changing mode of build/scripts-2.7/catkin_generate_changelog from 664 to 775
    changing mode of build/scripts-2.7/catkin_tag_changelog from 664 to 775
    changing mode of build/scripts-2.7/catkin_test_changelog from 664 to 775

    changing mode of /usr/pkg/bin/catkin_create_pkg to 775
    changing mode of /usr/pkg/bin/catkin_generate_changelog to 775
    changing mode of /usr/pkg/bin/catkin_tag_changelog to 775
    changing mode of /usr/pkg/bin/catkin_test_changelog to 775
Successfully installed catkin-pkg
Cleaning up...
</code></pre>
"
18072573,how to validate a std::string for UTF-8 encoding,https://stackoverflow.com/questions/18072573/how-to-validate-a-stdstring-for-utf-8-encoding,2,1375767858,"c++, arm, qnx","<p>We have issue validating a <code>std::string</code> that contains a valid <strong>UTF_8</strong> character set.  The
issue is I have a <code>std::string</code> in program, which may receive few invalid <strong>UTF-8</strong> characters at run time.
Currently i am referring glib/utf8-validate.c file for reference. But the data types used by glib is not a <code>std::string</code>, so I can not use this.</p>

<p>Platform is QNX (Linux host development).</p>
",
18089219,obtaining time from clock cycles,https://stackoverflow.com/questions/18089219/obtaining-time-from-clock-cycles,1,1375818750,"c++, performance, algorithm, clock, qnx","<p>I am running QNX, </p>

<p>I used a function to get clock cycles per second,</p>

<pre><code>uint64_t clockPerSec = getCPS();
uint64_t currentClockCycle = getCurrentCycle();
</code></pre>

<p>functions</p>

<pre><code>uint64_t getCPS()
{
   return (~(uint64_t)0) /SYSPAGE_ENTRY(qtime) -&gt; cycles_per_sec;
}

uint63_t getCurrentCycle()
{
   return ClockCycles();
}
</code></pre>

<p>then after running a function</p>

<p>I do </p>

<pre><code>currentClockCycle = getCurrentCycle() - currentClockCycle;
</code></pre>

<p>I am not using it through the whole applications, so I dont have overruns/overflow of the clock, just to measure one function performance after some additions/changes.</p>

<p>anyway, 
I am just wondering if I am getting the right output.</p>

<p>I calculated the result this way,</p>

<pre><code>double result = static_cast&lt;double&gt;(clockPerSec)/currentClockCycle;
// this get me the time in second??
// then multiplied it by 1000000 to get a micro-sec measurement 
</code></pre>

<p>am I doing anything wrong?</p>

<p>when using </p>

<pre><code>ftime(&amp;t_start);
</code></pre>

<p>then </p>

<pre><code>ftime(&amp;t_end);
</code></pre>

<p>and output the difference this way, I see that the time I get is bigger, almost twice</p>

<p>first method I get 0.6 ms
second one using ftime I get the result 1.xx ms</p>
","<p>you just mix (measure) two different things: <em>clock cycles</em> is a count of CPU ticks kernel gives to your app -- it doesn't count <strong>other</strong> apps running by same kernel. while <code>ftime</code> returns an absolute (wall clock) time. so difference between two <code>ftimes</code> return an absolute time duration between two time points. while the first counts just measure how many CPU ticks your (and only your) app have consumed... so you may consider this as <em>exclusively your app running time</em> -- i.e. if there is no <strong>other</strong> apps at this host, first and second measurements will be (theoretically) equal (or so).</p>
"
18011701,How to load image from URL in QML not in QT C++,https://stackoverflow.com/questions/18011701/how-to-load-image-from-url-in-qml-not-in-qt-c,2,1375430330,"blackberry, blackberry-10, blackberry-simulator, qnx","<p>This is my code and i want  to load image                                                                                                                                          from the given URL please tell if there is any way .becasue this is not loading the image</p>

<pre><code> ImageView {

            imageSource: ""http://upload.wikimedia.org/wikipedia/commons/9/97/Toda_Hut.JPG""
            preferredWidth: 610
            translationY: 70.0
            translationX: 70.0
            preferredHeight: 250
        }
</code></pre>
","<p>BB10 Does not currently support a URL for an ImageView.  There was mentions during the beta stage that it was coming but it is no longer listed on the roadmap.</p>

<p>--edit: As per Kernald - this feature is still in the roadmap.</p>

<p>Javascript does not support direct downloading of files which means you will have to  implement some c++ if you want to accomplish this.</p>

<p>The best example of this is from one of the official examples here:
<a href=""https://github.com/blackberry/Cascades-Samples/tree/master/imageloader"" rel=""nofollow"">https://github.com/blackberry/Cascades-Samples/tree/master/imageloader</a></p>

<p>You should be able to copy some of the c++ classes and implement it into your app without too much difficulty, even if your knowledge of c++ is weak.</p>
"
17200800,Get integer equivalent of date from find function,https://stackoverflow.com/questions/17200800/get-integer-equivalent-of-date-from-find-function,1,1371674113,"shell, date, sh, epoch, qnx","<p>I am using QNX to compare dates of files created.  Using QNX I cannot use any of the commonly referenced answers to this frequent question.</p>

<p>I cannot use date for anything other than current date modification</p>

<p>Any other ideas out there?</p>
",
9935290,How to generate ELF file for QNX IFS image,https://stackoverflow.com/questions/9935290/how-to-generate-elf-file-for-qnx-ifs-image,1,1333065336,"arm, elf, qnx, trace32, qnx-ifs","<p>I need to do some Trace32 debugging and i need to see the symbols of the IFS image. 
I generate the IFS image for my ARM A9 platform but dont know how to generate the ELF file. 
can somebody help me out ? 
thanks. </p>
",
17652906,boost-libs failed to be built,https://stackoverflow.com/questions/17652906/boost-libs-failed-to-be-built,3,1373886752,"c++, boost, qnx","<p>During source installation of <code>boost-libs</code> (<a href=""http://cvsweb.netbsd.org/bsdweb.cgi/pkgsrc/devel/boost-libs/#dirlist"" rel=""nofollow"">link to cvs repo</a>), I get the following at the very end of long output of bmake (<code>make</code> that's used in the package manager <code>pkgsrc</code> that I use) and build seems to fail:</p>

<pre><code>...skipped &lt;pbin.v2/libs/wave/build/gcc-4.4.2/release/link-static/threading-multi&gt;libboost_wave.a for lack of &lt;pbin.v2/libs/wave/build/gcc-4.4.2/release/link-static/threading-multi&gt;instantiate_cpp_exprgrammar.o...
...skipped &lt;pstage/lib&gt;libboost_wave.a for lack of &lt;pbin.v2/libs/wave/build/gcc-4.4.2/release/link-static/threading-multi&gt;libboost_wave.a...
...failed updating 181 targets...
...skipped 280 targets...
*** Error code 1

Stop.
bmake: stopped in /usr/pkgsrc/devel/boost-libs
*** Error code 1
</code></pre>

<p>I noticed, out of thousands of output lines (<a href=""http://pastebin.com/ZMU3ddXf"" rel=""nofollow"">full output</a>), some lines of error repeatedly appear. I just except some (they don't occur back to back like the following):</p>

<pre><code>g++: unrecognized option '-pthread'
./boost/cstdint.hpp:74: error: 'intleast8_t' in namespace '::' does not name a type
./boost/cstdint.hpp:76: error: 'uintleast8_t' in namespace '::' does not name a type
./boost/chrono/detail/inlined/posix/chrono.hpp:23: error: '::clock_gettime' has not been declared
./boost/chrono/detail/inlined/posix/chrono.hpp:36: error: '::clock_gettime' has not been declared
./boost/chrono/detail/inlined/posix/process_cpu_clocks.hpp:31: error: '::sysconf' has not been declared
./boost/chrono/detail/inlined/posix/process_cpu_clocks.hpp:31: error: '_SC_CLK_TCK' was not declared in this scope
/usr/qnx650/host/qnx6/x86/usr/bin/ntox86-ld: cannot find -lrt
./boost/smart_ptr/detail/yield_k.hpp:123: error: 'nanosleep' was not declared in this scope
./boost/thread/pthread/timespec.hpp:84: error: '::clock_gettime' has not been declared
./boost/thread/pthread/mutex.hpp:275: error: 'boost::chrono::steady_clock' has not been declared
libs/filesystem/src/operations.cpp: In function 'bool&lt;unnamed&gt;::remove_directory(const boost::filesystem::path&amp;)':
libs/filesystem/src/operations.cpp:345: error: '::rmdir' has not been declared
libs/filesystem/src/operations.cpp:348: error: '::unlink' has not been declared
libs/filesystem/src/operations.cpp:427: error: no matching function for call to 'stat::stat(const char*, stat*)'
libs/filesystem/src/operations.cpp:1003: error: '::symlink' has not been declared
</code></pre>

<p>```</p>

<p>Other <code>boost</code>-related packages (namely boost-headers, boost-jam, boost-docs, boost-build) are already built and installed. <code>boost-python</code> fails but I think it's not depended.</p>

<p>Using <code>QNX</code> 6.5.0 SDP SP1</p>

<p>Thank you.</p>

<hr>

<p>Update) Responding to @Igor R's comment. Out of many <code>stdint.h</code> found like this:</p>

<pre><code># find /usr -iname 'stdint.h'
/usr/share/pkgsrc/archivers/gtar-base/work/tar-1.26/gnu/stdint.h
/usr/qnx650/target/qnx6/usr/include/c++/4.4.2/tr1/stdint.h
/usr/qnx650/target/qnx6/usr/include/stdint.h
/usr/include/c++/4.4.2/tr1/stdint.h
/usr/include/stdint.h
</code></pre>

<p>it seems to me <code>intleast8_t</code> is defined in <code>/usr/include/stdint.h</code>:</p>

<pre><code># more /usr/include/stdint.h
:
#if defined(__EXT_QNX)
/*
 * These types are deprecated and applications should use the
 * int_/uint_ types defined below.
 */
typedef _Intleast8t             intleast8_t;
typedef _Uintleast8t            uintleast8_t;
</code></pre>
",
17366910,Is it possible to play a gapless looped WAV file without stuttering?,https://stackoverflow.com/questions/17366910/is-it-possible-to-play-a-gapless-looped-wav-file-without-stuttering,7,1372429308,"audio, wav, blackberry-10, openal, qnx","<p>I have a requirement for perfect gapless looped audio in a BlackBerry 10 app. My loops are stored as WAV files. The method I'm using for playing them is: </p>

<ol>
<li>Create a buffer for the WAV file using <code>alutCreateBufferFromFile</code> which returns a <code>bufferID</code></li>
<li>Create a sound source using <code>alGenSources</code></li>
<li>Attach the buffer to the source using <code>alSourcei(source, AL_BUFFER, bufferID)</code></li>
<li>Set the source looping property to true using <code>alSourcei(source, AL_LOOPING, AL_TRUE)</code></li>
<li>Play the source using <code>alSourcePlay(source)</code></li>
</ol>

<p>The audio plays fine <em>most</em> of the time, but during UI transitions (such as when the backlight goes off, or when the app is minimised) the audio stutters. </p>

<p>Any ideas how I can ensure the audio is smooth the whole time?</p>
","<p>How do you run a thread/process playing WAV file? Have you had a chance to play around priorities and policies with that thread? </p>

<p>I think these low-level system calls allowing to change process (thread, actually) priority and policy might help:</p>

<ul>
<li><a href=""https://developer.blackberry.com/native/reference/bb10/com.qnx.doc.neutrino.lib_ref/topic/p/pthread_setschedprio.html"" rel=""nofollow"">pthread_setschedprio</a></li>
<li><a href=""https://developer.blackberry.com/native/reference/bb10/com.qnx.doc.neutrino.lib_ref/topic/p/pthread_setschedparam.html"" rel=""nofollow"">pthread_setschedparam</a></li>
</ul>

<p>Also, have a look at respective doc pages:</p>

<ul>
<li><a href=""https://developer.blackberry.com/native/documentation/bb10/com.qnx.doc.neutrino.getting_started/topic/s1_procs_priorities.html"" rel=""nofollow"">BB10 Priorities</a></li>
<li><a href=""https://developer.blackberry.com/native/documentation/bb10/com.qnx.doc.neutrino.sys_arch/topic/kernel_schedulingalgorithms.html"" rel=""nofollow"">BB10 Scheduling policies</a></li>
<li><a href=""http://www.qnx.com/developers/docs/6.3.0SP3/neutrino/sys_arch/kernel.html#SCHEDULING"" rel=""nofollow"">QNX Neutrino MicroKernel</a></li>
</ul>

<p>I'd start with setting policy to FIFO and raise priority of the process playing audio file. Hope it helps.</p>
"
17444777,make: install: Command not found,https://stackoverflow.com/questions/17444777/make-install-command-not-found,1,1372844959,"git, makefile, qnx, qnx-neutrino","<p>While I'm trying to install <code>git</code> from its source on <code>qnx</code>, I get the following error (note that pound is a prompt for sudo in <code>qnx</code>):</p>

<pre><code># ./configure --without-iconv --with-perl=/usr/pkg/bin/perl --with-python=/usr/qnx650/host/qnx6/x86/usr/bin/python
# make all
# make install
    GEN perl/PM.stamp
    SUBDIR gitweb
    SUBDIR ../
make[2]: `GIT-VERSION-FILE' is up to date.
    GEN git-instaweb
    SUBDIR git-gui
    SUBDIR gitk-git
    SUBDIR perl
    SUBDIR git_remote_helpers
    SUBDIR templates
install -d -m 755 '/usr/local/bin'
make: install: Command not found
make: *** [install] Error 127
</code></pre>

<p>I've seen many <code>make: %XXX%: Command not found</code> issues upon Googling where <code>%XXX%</code> is arbitrary executable, but haven't seen it replaced with <code>install</code>. What is wrong?</p>

<p>I posted some files of possible interest from <code>git</code>'s home directory: <a href=""http://pastebin.com/ZLJk1kF2"" rel=""nofollow"">Makefile</a>, <a href=""http://pastebin.com/P7nbewdL"" rel=""nofollow"">config.status</a></p>

<p><code>QNX</code> 6.5.0 SDP SP1, <code>git</code> 1.8.3.2</p>
","<p>There is no problem with the makefile.
Check if you have <code>install</code> utility</p>

<pre><code>$~ install --help
</code></pre>

<p>If you dont have then you can get it from <code>GNU coreutils</code>. If you have <code>install</code> somewhere then export its path in <code>PATH</code> variable </p>

<pre><code>export PATH=$PATH:/path/to/install-utility
</code></pre>
"
17145014,Where to find QNX SP1 (not QNX SDP SP1),https://stackoverflow.com/questions/17145014/where-to-find-qnx-sp1-not-qnx-sdp-sp1,2,1371463767,"installation, qnx","<p>I might be getting something wrong about QNX since I'm new to it. But I'm confused by <code>QNX 6.5.0 Service Pack 1</code> AND <code>QNX SDP 6.5.0 Service Pack 1</code>, which I assume are two different things. And I'm told by my client that I need to install the former (non-SDP one). Where can I get it?</p>

<p>With being logged in, <a href=""https://www.qnx.com/account/index.html"" rel=""nofollow"">my account page</a> tells that:</p>

<pre><code>Download QNX SDP v6.5 Service Pack 1

QNX SDP 6.5 Service Pack 1 offers improved OS performance, services and updated drivers ‚Äì and is now available for download.
Download QNX 6.5.0 SP1 now 
</code></pre>

<p>```</p>

<p>The last line is a link that takes me <a href=""http://www.qnx.com/download/group.html?programid=20905"" rel=""nofollow"">here</a>, where all links say that they are SDP SP1 except 1 link provides QNX 6.5.0 SP1 virtual machine. VM is actually good for for me for testing but can't be integrated into my non-VM instance.</p>

<p>Thank you!</p>
","<p>Self response. <a href=""http://community.qnx.com/sf/discussion/do/listPosts/projects.community/discussion.community.topc23726?_message=1371675476995"" rel=""nofollow"">Someone is saying</a> that <code>SDP SP1</code> is a superset of <code>Momentics tool suite</code> and (for self-hosted) the <code>QNX Neutrino</code> OS itself. Thus <code>SDP SP1</code> suffices.</p>
"
17216515,How do I setup a QNX project to generate debug executable?,https://stackoverflow.com/questions/17216515/how-do-i-setup-a-qnx-project-to-generate-debug-executable,0,1371738962,"qnx, qnx-neutrino","<p>I imported an existing code base, which was setup for QNX into QNX Momentics.  Using v6.5 of the OS with Service Pack 1.</p>

<p>Everything out there in the tutorials about debugging say to turn on a Variant, but my project settings doesn't have a section for Variants.  </p>

<p>Where would I create the flag to generate the debug runtime?</p>
",
17417559,qnx momentics build errors,https://stackoverflow.com/questions/17417559/qnx-momentics-build-errors,4,1372740278,"blackberry, qnx","<p>I had a problem building blackberry cascade projects. The project has no problem in building  for simulator debug, but for device-release and device-debug, the build always fails. I don't know why it is like this. Any Solutions?</p>

<pre>make[2]: [o.le-v7-g/.obj/YoudaoDict.gch/c++] Error 1
make[2]: Leaving directory `C:/Users/Yu Han/Desktop/YoudaoDict/arm'
make[1]: Leaving directory `C:/Users/Yu Han/Desktop/YoudaoDict/arm'
make[1]: [debug] Error 2
make:[Device-Debug] Error 2</pre>
",
13264577,How to load devnp-ncm.so in qnx OS?,https://stackoverflow.com/questions/13264577/how-to-load-devnp-ncm-so-in-qnx-os,0,1352271129,"virtual-machine, qnx, qnx-neutrino","<p>I am running QNX OS (<code>650SP1</code>) in <code>VMplayer</code>. I would like to load <code>devnp-ncm.so</code> driver.</p>

<p>I have tried following things -</p>

<p>1) # <code>io-pkt-v4-hc -d /lib/dll/devnp-ncm.so path=/dev/io-usb/io-usb -ptcpip verbose &amp;</code></p>

<p>2) # <code>io-pkt-v4-hc &amp;</code>
   # <code>mount -T io-pkt devnp-ncm.so</code></p>

<p>Please give me some suggestion how to load it.</p>
","<p>I used following command and it worked - </p>

<p><code># io-pkt-v4-hc -d ncm pnp verbose &amp;</code></p>

<p>or you can specify path i.e. <code>#io-pkt-v4-hc -d ncm pnp path=/lib/dll/devnp-ncm.so verbose &amp;</code></p>

<p>But make sure the sequence. It matters.
If you give ""pnp"" after ""path"" then it will not work.</p>
"
17201470,bmake stuck and not progress (upon building pkg-config),https://stackoverflow.com/questions/17201470/bmake-stuck-and-not-progress-upon-building-pkg-config,1,1371676463,"pkg-config, qnx, qnx-neutrino","<p>Upon building a component (<code>pkg-config</code>) under <code>pkgsrc</code> directory, I get stuck being told <code>checking for a compliant posix_memalign() implementation...</code> as in the trace below. CPU remains 99% and doesn't seem to progress for a few hours. Any ideas what could be wrong is appreciated.</p>

<p>To install pkgsrc, I followed <a href=""http://community.qnx.com/sf/wiki/do/viewPage/projects.pkgsrc/wiki/Bootstrap"" rel=""nofollow"">Bootstrap instruction here</a>, using HEaD_650. Precise commands since installing pkgsrc until where I got stuck:</p>

<pre><code># uname -a
QNX localhost 6.5.0 2012/06/20-13:50:59EDT x86pc x86
# svn checkout --username &lt;username&gt; http://community.qnx.com/svn/repos/pkgsrc/HEAD_650
# cd pkgsrc/bootstrap &amp;&amp; ./bootstrap
# cd ../devel/pkg-config
# pwd 
/usr/share/pkgsrc/devel/pkg-config
# bmake 
:
checking for fd_set... yes, found in sys/select.h
checking whether realloc (NULL,) will work... yes
checking for nl_langinfo (CODESET)... no
checking for nl_langinfo (PM_STR)... no
checking for nl_langinfo (_NL_CTYPE_OUTDIGITn_MB)... no
checking for a compliant posix_memalign() implementation... 
</code></pre>

<p>Using QNX6.5.0 SDP1</p>

<p>(By the way, I'm not sure if the way I'm doing above is the right to way to get <code>pkg-config</code> on <code>QNX</code> in general.)</p>
",
17087365,List pid of process that is under 24 hrs old,https://stackoverflow.com/questions/17087365/list-pid-of-process-that-is-under-24-hrs-old,0,1371127302,"ps, qnx","<p>Using QNX I am trying to list the processes that have been running for under 24 hours.  I have the following code that will list every process' PID and elapsed time running.  I have tried multiple loops to list only the PID's that have 'etime' greater than 2400 with no success.</p>

<pre><code>ps -eo pid,etime,cmd | sed s/://g 
</code></pre>

<p>returns</p>

<pre><code>   PID     ELAPSED CMD
     1       4618 
     2       4618 slogger
  4099       4618 pci-bios
  4100       4618 io-usb
  4101       4618 io-hid
  4102       4618 devc-con-hid
  4103       4618 devb-eide
204808       4612 inetd
229385       4612 /pclogd
 81930       4614 pipe
 81931       4614 mqueue
 94220       4614 dumper
 81933       4614 tinit
 94222       4614 io-net
</code></pre>

<p>Basially, I need if [elapsed -lt 2400];then list pid</p>
",
17051058,Subtracting hex-valued file names,https://stackoverflow.com/questions/17051058/subtracting-hex-valued-file-names,1,1370974936,"hex, qnx, difference","<p>Using QNX Neutrino, I need to subtract hex-valued file names from their predecessors. The files are named by their creation time in hex. The following gets me a list of pure hex values, but I cannot subtrace them from eachother.</p>

<pre><code>last=0
find /path/ -type f\(! iname "".*"" \) -exec basename {} |
while read fname
do
    current=$fname
    echo ""difference is $((current - last)) seconds
done
</code></pre>

<p>The find command gives me:</p>

<pre><code>51b71f38
51b71f44
51b71f50
51b71f5c
51b71f74
</code></pre>

<p>I have tried using echo ""ibase=16; $name"" | bc but that only switches the value for the output.  Is there a way to return an integer number which is the difference for these hex values?</p>
",
17044504,List only hex value named files,https://stackoverflow.com/questions/17044504/list-only-hex-value-named-files,0,1370954895,"hex, qnx","<p>Using QNX, i'm creating a script that will list only hex valued files under 1F.</p>

<pre><code>/path# ls
.               05              09              0B              pubsub09
..              07              09_sub          0E
04              08              0A              81
/path#
</code></pre>

<p>I have code that should list only hex values, but it still lists the whole directory.</p>

<pre class=""lang-sh prettyprint-override""><code>ls /path/ |
while read fname 
do
  if [ ""ibase=16; $fname"" ]
  then
    echo ""$fname""
  fi
done
return 0
</code></pre>
",
17030241,Difference in file time,https://stackoverflow.com/questions/17030241/difference-in-file-time,2,1370888136,"timestamp, qnx, difference","<p>I am writing a script to find the difference between file creation/modification times using a bash script.  Running QNX I cannot use any common themed date functions that would make this easy.  I am currently approaching this modifying the date from the ls command:</p>

<pre><code>    last=0
    current=0
#ls -l /path/*.log | awk '{print $8}' | sed s/:/*60+/g | bc |
ls -l /path/*.log | awk '{print $8}' |
while read fname 
do
    current=$(fname | sed s/:/*60+/g | bc)
    echo $current
    echo $fname
    if [ $last -gt 0 ]; then
        echo ""the difference is $($current - $last) minutes""
        last=$current    
    else
        last=$current
        echo $fname
    fi      
done
</code></pre>

<p>the first commented ls produces what I need, the time in seconds, the while statement doesnot work though, not being able to find an integer based file.  If I use the second ls command the sed will not modify the hh:mm based date and the difference won't work.  Any ideas?</p>
","<p><strong>Few points to your query:</strong><br/>
1. File creation timestamp is not stored in linux. Only <em>accessed time</em>, <em>modified time</em>, and <em>changed time</em> are stored for any file. [refer <a href=""https://stackoverflow.com/a/79824/2331887"">https://stackoverflow.com/a/79824/2331887</a> for the differences between them.]<br/>
2. Now, reconsider and decide which timestamp difference you need to find. One would be the latest <em>modified time</em> would be best to use for calculation based on fact <em>whenever the content gets modified</em>, and the other time for the difference would be ? [are you looking for difference between previous modified time and latest modified time]<br/>
<br/>
<strong>Few points to your code:</strong><br/>
1. 8th parameter of <em>long listing</em> file description would output <br/>
a) <em>hh:mm</em> for the files that are modified in current year and <br/>
b) <em>yyyy</em> instead of <em>hh:mm</em> for the files that were modified in previous years.<br/>
Hence, ambiguity would occur in your calculation.<br/><br/>
<strong>Solution</strong> : You can use <code>ls --time-style='+%d-%m-%Y %H:%M' -l *.log | awk '{print $7}'</code> for the case you want calculation based on <em>hh*60+mm</em> . This calculation further is not taking care of different dates.<br/> Instead, for calculating time difference, I would recommend to use <code>stat -c %Y *.log</code> [ which provides last modified time (<em>in seconds</em>) since Epoch <em>(midnight 1/1/1970)</em> ] 
<br/><br/>
2. The bug in your code is very small. Change <code>current=$(fname | sed s/:/*60+/g | bc);</code> with <code>current=$(echo $fname | sed s/:/*60+/g | bc);</code><br/>
Please note, this would provide correct output, only and only if modified dates for the file are same.</p>
"
16936241,How to use Intel AVX on QNX Neutrino 6.5.0?,https://stackoverflow.com/questions/16936241/how-to-use-intel-avx-on-qnx-neutrino-6-5-0,0,1370424417,"avx, qnx, qnx-neutrino","<p>I recently started working with QNX 6.5.0 and can't understand how in QNX develop programs using Intel AVX. Installed QNX Development Studio 6.5.0 with GCC 4.4.2, I'm trying to write a simple program, but the build fails.</p>

<pre><code>#include &lt;immitnrin.h&gt;
int main( int argc, char** argv )
{
   __m256 var;
   __m256 var2;
   __m256 result;

   var = _mm256_set1_ps(1.f);
   var2 = _mm256_set1_ps(3.f);
   result = _mm256_add_ps(var,var2);

   return 0;
}
</code></pre>

<blockquote>
  <p>error: immitnrin.h: No such file or directory<br>
  In function 'int main(int, char**)':<br>
  error: '__m256' was not declared in this scope<br>
  error: expected ';' before 'var'<br>
  error: expected ';' before 'var2'<br>
  error: expected ';' before 'result'<br>
  error: 'var' was not declared in this scope<br>
  error: '_mm256_set1_ps' was not declared in this scope<br>
  error: 'var2' was not declared in this scope<br>
  error: 'result' was not declared in this scope<br>
  error: '_mm256_add_ps' was not declared in this scope   </p>
</blockquote>

<p>How and where can I learn how to work with SIMD instructions Intel in QNX?</p>

<h2>Update</h2>

<p>Here's the output from the program make.exe:</p>

<blockquote>
  <p>make.exe -k CPULIST=x86 all --file=C:/DOCUME~1/Andrew/LOCALS~1/Temp/QMakefile.tmp 
  C:/QNX650/host/win32/x86/usr/bin/make.exe -j 1 -Cx86 -fMakefile all<br>
  make.exe[1]: Entering directory <code>C:/ide-4.7-workspace/project_test_avx/x86'<br>
  C:/QNX650/host/win32/x86/usr/bin/make.exe -j 1 -Co -fMakefile all<br>
  make.exe[2]: Entering directory</code>C:/ide-4.7-workspace/project_test_avx/x86/o'    </p>
</blockquote>
",
15038267,QNX Momentic IDE - QML Preview is disabled,https://stackoverflow.com/questions/15038267/qnx-momentic-ide-qml-preview-is-disabled,0,1361604671,"qml, blackberry-10, qnx","<p>I'm trying to learn BB10 development so I tried downloading their QNX Momentic IDE.</p>

<p>Whenever I run the application, it always pops up a message saying ""QML Preview compatibility check  failed. QML Preview is disabled."" which obviously is the reason why my Design Mode is disabled. </p>

<p>I search for this problem in the net and found similar cases, most cases I found on the net is mostly related to Java version so I tried several versions (1.6, 1.7), I also tried the solution in the thread I found here <a href=""https://stackoverflow.com/questions/14876907/qml-preview-compatibility-check-failed-qml-preview-is-disabled"">QML Preview compatibility check failed. QML preview is disabled</a>, but it still doesn't work. So tried the other suggestion to look at the C:\Documents and Settings\user\ndk-10.1.0-workspace.metadata.log file to see what's really causing the problem, and I found out that I have different error thrown than the other cases I found on the net.</p>

<pre><code>Here's the error:

!SESSION 2013-02-22 23:09:38.515 -----------------------------------------------
eclipse.buildId=10.1.0
java.version=1.6.0_24
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.ui 4 4 2013-02-22 23:09:42.781
!MESSAGE Plug-in 'com.rim.tad.tools.qml.javascript.debug.internal.ui' contributed an  invalid Menu Extension (Group: 'jsdebug' is invalid): com.rim.tad.tools.wst.jsdt.debug.ui.jsunit.popup.evaluate

!ENTRY com.rim.tad.tools.qml.core 2 0 2013-02-22 23:09:43.234
!MESSAGE Cannot resolve ValueType variant: Number

!ENTRY com.rim.tad.tools.qml.core 2 0 2013-02-22 23:09:43.234
!MESSAGE Cannot resolve ValueType variant: QLocale

!ENTRY com.rim.tad.tools.qml.core 2 0 2013-02-22 23:09:43.234
!MESSAGE Cannot resolve ValueType variant: String

!ENTRY com.rim.tad.tools.qml.core 2 0 2013-02-22 23:09:43.250
!MESSAGE Cannot resolve ValueType variant: bb::device::CellularService::Types

!ENTRY com.rim.tad.tools.qml.core 2 0 2013-02-22 23:09:43.250
!MESSAGE Cannot resolve ValueType variant: Boolean

!ENTRY com.rim.tad.tools.qml.core 2 0 2013-02-22 23:09:43.250
!MESSAGE Cannot resolve ValueType variant:  bb::system::SystemUiButton 

!ENTRY com.rim.tad.tools.qml.core 2 0 2013-02-22 23:09:43.250
!MESSAGE Issues while loading Components Definition:
Duplicate Signal in: ComponentID: bb::cascades::InvokeActionItem, Signal: handlerChanged


!ENTRY com.rim.tad.tools.qml.simulator 1 0 2013-02-22 23:09:44.703
!MESSAGE C:\bbndk\ide\win32\x86\eclipse\jre\bin\java.exe -cp C:\bbndk\ide\win32\x86\eclipse\plugins\com.rim.tad.tools.qml.simulator_10.1.0.201302011933\ com.rim.tad.tools.qml.sim.check.RenderingCheck -target C:\bbndk\target_10_1_0_338\qnx6

!ENTRY com.rim.tad.tools.qml.simulator 4 0 2013-02-22 23:09:45.546
!MESSAGE QML Preview compatibility check log.
java.lang.IllegalStateException: glGetProcAddress_win32 failed: glGenFramebuffersEXT
at com.rim.tad.tools.qml.sim.CsApplicationEngine.nExec(Native Method)
at     com.rim.tad.tools.qml.sim.CsApplicationEngine.execAndDestroy(CsApplicationEngine.java:45)
at     com.rim.tad.tools.qml.sim.CsApplicationEngineThread.run(CsApplicationEngineThread.java:55)
Warning: WARNING: QApplication was not created in the main() thread.

Process exited with code: -1

!ENTRY org.eclipse.ui.workbench 2 0 2013-02-22 23:13:26.140
!MESSAGE A handler conflict occurred.  This may disable some commands.
!SUBENTRY 1 org.eclipse.ui.workbench 2 0 2013-02-22 23:13:26.140
!MESSAGE Conflict for     'AUTOGEN:::org.eclipse.ui.cheatsheets.actionSet/org.eclipse.ui.cheatsheets.actions.CheatSheetHelpMenuAction':
         HandlerActivation(commandId=AUTOGEN:::org.eclipse.ui.cheatsheets.actionSet/org.eclipse.ui.c    heatsheets.actions.CheatSheetHelpMenuAction,
        handler=ActionDelegateHandlerProxy(null,org.eclipse.ui.cheatsheets.CheatSheetExtensionFacto    ry:helpMenuAction),
        expression=AndExpression(ActionSetExpression(org.eclipse.ui.cheatsheets.actionSet,org.eclip        se.ui.internal.WorkbenchWindow@2585e),WorkbenchWindowExpression(org.eclipse.ui.internal.Wor    kbenchWindow@2585e)),sourcePriority=16640)
    HandlerActivation(commandId=AUTOGEN:::org.eclipse.ui.cheatsheets.actionSet/org.eclipse.ui.c    heatsheets.actions.CheatSheetHelpMenuAction,
    handler=ActionDelegateHandlerProxy(null,org.eclipse.ui.cheatsheets.CheatSheetExtensionFacto    ry:helpMenuAction),
    expression=AndExpression(ActionSetExpression(org.eclipse.ui.cheatsheets.actionSet,org.eclip    se.ui.internal.WorkbenchWindow@2585e),WorkbenchWindowExpression(org.eclipse.ui.internal.Wor    kbenchWindow@2585e)),sourcePriority=16640)
</code></pre>

<p>Now, I don't know what to make of this error and much more how to fix it. If anyone one is familiar, I would appreciate if you could throw in some inputs or point me to the right direction.</p>

<p>Thanks in advance.</p>
",
16792070,what are the ways to create a file descriptor?,https://stackoverflow.com/questions/16792070/what-are-the-ways-to-create-a-file-descriptor,0,1369744017,"c++, linux, epoll, qnx","<p>The Wikipedia page for <a href=""http://en.wikipedia.org/wiki/File_descriptor"" rel=""nofollow""><code>File Descriptor</code></a> lists the following system calls:</p>

<pre><code> - open(), open64()
 - creat(), creat64()
 - socket()
 - accept()
 - socketpair()
 - epoll_create() (Linux only)
 - pipe()
 - signalfd() (Linux only)
 - eventfd() (Linux only)
</code></pre>

<p>Are there any other methods on other platforms, especially on <code>QNX</code>?</p>

<p>I have a thread which is monitoring a bunch of sockets with a <code>poll()</code> call and receiving ""Commands"" from the sockets. Now I need to add the possibility to send such ""Commands"" from other threads running in the same process. I would like to avoid the overhead of writing into a pipe/socket within the same process if possible. </p>

<p>Can anyone think of somehow monitoring a conditional variable using <code>poll()</code> for example?</p>
",
15081717,The client program in a simple C client/server messaging communication not working,https://stackoverflow.com/questions/15081717/the-client-program-in-a-simple-c-client-server-messaging-communication-not-worki,2,1361855006,"c, client-server, qnx","<p>I'm doing a lab assignment where we make a Server program and a Client program. Its on the QNX OS. Not sure if it runs in Linux. The outline is this:</p>

<p>""Write a pair of C programs msgSender.c and msgLogger.c to demonstrate Neutrino message passing between processes.</p>

<p>Your programs will be called from the shell as:</p>

<p>$ msgLogger logFileName
$ msgSender msgLogger</p>

<p>logFileName is the name of the log that stores the messages</p>

<p>The msgLogger process acts as a logger. It receives messages and writes the messages to a file.</p>

<ol>
<li>msgLogger receives text-based messages of the format shown in msg.h. It must test the message header and only write message text to the logFile if the message type is MSG_DATA.</li>
<li>If MSG_DATA is received, the reply status is MSG_OK.</li>
<li>If a MSG_END is received, the server replies with a status of MSG_END and then cleans up and exits.</li>
<li>If the received message is not MSG_DATA or MSG_END, the reply status is MSG_INVALID and the message text is not logged. A warning message is logged.</li>
<li>This process advertises its presence by writing its ND PID CHID to a file named msgLogger.pid where the ""msgLogger"" part of the filename is taken from argv[0].</li>
<li>The logged messages are stamped with the time and the ND PID COID of the sender.</li>
</ol>

<p>The msgSender is an interactive program that assembles and sends the text-based message.</p>

<ol>
<li>Reads the name of the logger process from the command line and uses this name to build the name of the .pid file where it reads the ND PID CHID.</li>
<li>It prompts the user for the message header type and then for the text of the message.</li>
<li>It will exit if it receives a MSG_END from the server.</li>
<li><p>It prints a warning if MSG_INVALID is received from the server</p>

<ul>
<li>Your client and server must interoperate with my client and server.</li>
<li>Validate that the server works properly with multiple concurrent clients.</li>
<li>If you flush your server's file write buffer after each logging message, you can run it in the background and use
$ tail -f logFile 
to view the messages as they are received.</li>
<li>Be sure to check the validity of the command-line argument.</li>
<li>Use global variables only when necessary.
""</li>
</ul></li>
</ol>

<p>I've got the msgLogger fully working; here is the code:
<a href=""http://pastebin.com/8AGfGZ5u"" rel=""nofollow"">http://pastebin.com/8AGfGZ5u</a></p>

<p>And here is the msg.h file:
<a href=""http://pastebin.com/3xcBZvnH"" rel=""nofollow"">http://pastebin.com/3xcBZvnH</a></p>

<p>And here is the code I have so far for msgSender:
<a href=""http://pastebin.com/Buk88Kry"" rel=""nofollow"">http://pastebin.com/Buk88Kry</a></p>

<p>What the sender (client) needs to do, is let the user enter the message type using digits. The msg.h file contains the type of message numbers with MSG_DATA being 1, etc. If they enter an invalid digit, it'll ask them to try again, else it will store that digit and assign it to the amsg.m_hdr of the MESSAGE struct. amsg.m_data is the value with the message.</p>

<p>Then the user enters the message they want, and if they chose the digit 1 (msg_data), the server sends notification and the client prints ""message successfully received"", while the contents of the message are saved to the log file.</p>

<p>Unfortunately I'm having a bunch of problems and it's not logging the message. I have to hand in the msgSender tomorrow, and it's also dependent on my next lab. I really hope I can get some help on this.</p>
",
16013742,How to connect BlackBerry10 Dev Alpha B to QNX Momentics,https://stackoverflow.com/questions/16013742/how-to-connect-blackberry10-dev-alpha-b-to-qnx-momentics,0,1366024418,"blackberry-10, qnx, blackberry-qnx","<p>How to connect BlackBerry 10 Dev Alpha B device to QNX Momentics?</p>

<p>I've tried to connect it with</p>

<p>Window > Preferences.
 Expand BlackBerry, and then select Signing.
 Click BlackBerry Deployment Setup Wizard.</p>

<p>And when I got to the part where QNX Momentics should detect my device IP adress it fails, it can't find the device's IP adress.</p>
","<p>You need to ensure the device is set to development mode.  You can find this under settings->security.</p>

<p>I'm not sure if it's fixed for latest versions or not, but note that sometimes after going into sleep mode or being rebooted you might need to turn development mode on again.</p>

<p>Edit (thanks to Naskov):
Also install the BlackBerry10 driver that the device is offering to install.</p>
"
14578049,diagnostics KVM switch in QNX 6.5,https://stackoverflow.com/questions/14578049/diagnostics-kvm-switch-in-qnx-6-5,1,1359445895,qnx,"<p>I have KVM(ATEN CS 1642) switch and connected to it usb-mouse, usb-keyboard and two dvi displays. KVM controls switching between two computers (QNX 6.5). I need to get information about connected input-output devices(mouse, keyboard, displays). Operating system utilities determine only emulated switch devices. I.e. call hidview displays Aten mouse and Aten keyboard, even if they actually pull out of the KVM. Can I get a list of actually connected IO devices programmatically?
Thanks.</p>
",
15502124,how to read status registers of a printer in qnx,https://stackoverflow.com/questions/15502124/how-to-read-status-registers-of-a-printer-in-qnx,0,1363703079,"qnx, parallel-port","<p>i am using an x86 processor.
the interface used to connect to the printer is a usb parallel port ieee1284.</p>

<p>i can send data to the printer no problem.
i have tested it with the following command.</p>

<pre><code>cat file.txt &gt; /dev/usbpar0
</code></pre>

<p>i have read on several forums that there is no base address for a usb parallel port.
what would be the easiest way of reading the status of the printer. 
I need to know if it is out of paper or there is a paper jam. that is why i need to read the status registers.</p>

<p>I have included the source code i have tried to copy from [here][1]</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;iomanip&gt;

#include &lt;errno.h&gt;   /* Error number definitions */
#include &lt;termios.h&gt; /* POSIX terminal control definitions */

#include ""stdlib.h""
#include ""unistd.h""
#include ""sys/io.h""

#include &lt;hw/inout.h&gt;
#include &lt;stdint.h&gt;
#include &lt;sys/mman.h&gt;

#include &lt;stdio.h&gt;
#include &lt;fcntl.h&gt;      /* open() */
#include &lt;sys/types.h&gt;      /* open() */
#include &lt;sys/stat.h&gt;       /* open() */
#include &lt;sys/ioctl.h&gt;
#include ""parport.h""
#include ""ppdev.h""

#define DEVICE ""/dev/usbpar0""

int write_data(int fd, unsigned char data);
int status_pins(int fd);

using namespace std;

int main(int argc, char **argv)
{
    struct ppdev_frob_struct frob;
    int fd;
    int mode;

    if((fd=open(DEVICE, O_RDWR)) &lt; 0) {
        fprintf(stderr, ""can not open %s\n"", DEVICE);
        return 10;
    }

    ThreadCtl(_NTO_TCTL_IO, 0);
status_pins(fd);
    close(fd);

    return 0;
}

/* trivial example how to write data */
int write_data(int fd, unsigned char data)
{
    return(ioctl(fd, PPWDATA, &amp;data));
}

/* example how to read 8 bit from the data lines */
int read_data(int fd)
{
    int mode, res;
    unsigned char data;

    mode = IEEE1284_MODE_ECP;
    res=ioctl(fd, PPSETMODE, &amp;mode);    /* ready to read ? */
    mode=255;
    res=ioctl(fd, PPDATADIR, &amp;mode);    /* switch output driver off */
    printf(""ready to read data !\n"");
    fflush(stdout);
    sleep(10);
    res=ioctl(fd, PPRDATA, &amp;data);  /* now fetch the data! */
    printf(""data=%02x\n"", data);
    fflush(stdout);
    sleep(10);
    data=0;
    res=ioctl(fd, PPDATADIR, data);
    return 0;
}

/* example how to read the status lines. */
int status_pins(int fd)
{
    int val;

    ioctl(fd, PPRSTATUS, &amp;val);
    val^=PARPORT_STATUS_BUSY; /* /BUSY needs to get inverted */

    printf(""BUSY  = %s\n"",
        ((val &amp; PARPORT_STATUS_BUSY)==PARPORT_STATUS_BUSY)?""HI"":""LO"");
    printf(""ERROR  = %s\n"",
        ((val &amp; PARPORT_STATUS_ERROR)==PARPORT_STATUS_ERROR)?""HI"":""LO"");
    printf(""SELECT = %s\n"",
        ((val &amp; PARPORT_STATUS_SELECT)==PARPORT_STATUS_SELECT)?""HI"":""LO"");
    printf(""PAPEROUT = %s\n"",
        ((val &amp; PARPORT_STATUS_PAPEROUT)==PARPORT_STATUS_PAPEROUT)?""HI"":""LO"");
    printf(""ACK = %s\n"",
        ((val &amp; PARPORT_STATUS_ACK)==PARPORT_STATUS_ACK)?""HI"":""LO"");
    return 0;
}

/* example how to use frob ... toggle STROBE on and off without messing
   around the other lines */
int strobe_blink(int fd)
{
    struct ppdev_frob_struct frob;

    frob.mask = PARPORT_CONTROL_STROBE; /* change only this pin ! */
    while(1) {
        frob.val = PARPORT_CONTROL_STROBE;  /* set STROBE ... */
        ioctl(fd, PPFCONTROL, &amp;frob);
        usleep(500);
        frob.val = 0;               /* and clear again */
        ioctl(fd, PPFCONTROL, &amp;frob);
        usleep(500);
    }
}
</code></pre>

<p>""parport.h""</p>

<pre><code>    /* $Id: parport.h,v 1.1 1998/05/17 10:57:52 andrea Exp andrea $ */

    /*
     * Any part of this program may be used in documents licensed under
     * the GNU Free Documentation License, Version 1.1 or any later version
     * published by the Free Software Foundation.
     */

    #ifndef _PARPORT_H_
    #define _PARPORT_H_

    /* Start off with user-visible constants */

    /* Maximum of 16 ports per machine */
    #define PARPORT_MAX  16

    /* Magic numbers */
    #define PARPORT_IRQ_NONE  -1
    #define PARPORT_DMA_NONE  -1
    #define PARPORT_IRQ_AUTO  -2
    #define PARPORT_DMA_AUTO  -2
    #define PARPORT_DMA_NOFIFO -3
    #define PARPORT_DISABLE   -2
    #define PARPORT_IRQ_PROBEONLY -3
    #define PARPORT_IOHI_AUTO -1

    #define PARPORT_CONTROL_STROBE    0x1
    #define PARPORT_CONTROL_AUTOFD    0x2
    #define PARPORT_CONTROL_INIT      0x4
    #define PARPORT_CONTROL_SELECT    0x8

    #define PARPORT_STATUS_ERROR      0x8
    #define PARPORT_STATUS_SELECT     0x10
    #define PARPORT_STATUS_PAPEROUT   0x20
    #define PARPORT_STATUS_ACK        0x40
    #define PARPORT_STATUS_BUSY       0x80

    /* Type classes for Plug-and-Play probe.  */
    typedef enum {
        PARPORT_CLASS_LEGACY = 0,       /* Non-IEEE1284 device */
        PARPORT_CLASS_PRINTER,
        PARPORT_CLASS_MODEM,
        PARPORT_CLASS_NET,
        PARPORT_CLASS_HDC,              /* Hard disk controller */
        PARPORT_CLASS_PCMCIA,
        PARPORT_CLASS_MEDIA,            /* Multimedia device */
        PARPORT_CLASS_FDC,              /* Floppy disk controller */
        PARPORT_CLASS_PORTS,
        PARPORT_CLASS_SCANNER,
        PARPORT_CLASS_DIGCAM,
        PARPORT_CLASS_OTHER,            /* Anything else */
        PARPORT_CLASS_UNSPEC,           /* No CLS field in ID */
        PARPORT_CLASS_SCSIADAPTER
    } parport_device_class;

    /* The ""modes"" entry in parport is a bit field representing the
       capabilities of the hardware. */
    #define PARPORT_MODE_PCSPP  (1&lt;&lt;0) /* IBM PC registers available. */
    #define PARPORT_MODE_TRISTATE   (1&lt;&lt;1) /* Can tristate. */
    #define PARPORT_MODE_EPP    (1&lt;&lt;2) /* Hardware EPP. */
    #define PARPORT_MODE_ECP    (1&lt;&lt;3) /* Hardware ECP. */
    #define PARPORT_MODE_COMPAT (1&lt;&lt;4) /* Hardware 'printer protocol'. */
    #define PARPORT_MODE_DMA    (1&lt;&lt;5) /* Hardware can DMA. */
    #define PARPORT_MODE_SAFEININT  (1&lt;&lt;6) /* SPP registers accessible in IRQ. */

    /* IEEE1284 modes:
       Nibble mode, byte mode, ECP, ECPRLE and EPP are their own
       'extensibility request' values.  Others are special.
       'Real' ECP modes must have the IEEE1284_MODE_ECP bit set.  */
    #define IEEE1284_MODE_NIBBLE             0
    #define IEEE1284_MODE_BYTE              (1&lt;&lt;0)
    #define IEEE1284_MODE_COMPAT            (1&lt;&lt;8)
    #define IEEE1284_MODE_BECP              (1&lt;&lt;9) /* Bounded ECP mode */
    #define IEEE1284_MODE_ECP               (1&lt;&lt;4)
    #define IEEE1284_MODE_ECPRLE            (IEEE1284_MODE_ECP | (1&lt;&lt;5))
    #define IEEE1284_MODE_ECPSWE            (1&lt;&lt;10) /* Software-emulated */
    #define IEEE1284_MODE_EPP               (1&lt;&lt;6)
    #define IEEE1284_MODE_EPPSL             (1&lt;&lt;11) /* EPP 1.7 */
    #define IEEE1284_MODE_EPPSWE            (1&lt;&lt;12) /* Software-emulated */
    #define IEEE1284_DEVICEID               (1&lt;&lt;2)  /* This is a flag */
    #define IEEE1284_EXT_LINK               (1&lt;&lt;14) /* This flag causes the
                             * extensibility link to
                             * be requested, using
                             * bits 0-6. */

    /* For the benefit of parport_read/write, you can use these with
     * parport_negotiate to use address operations.  They have no effect
     * other than to make parport_read/write use address transfers. */
    #define IEEE1284_ADDR           (1&lt;&lt;13) /* This is a flag */
    #define IEEE1284_DATA            0  /* So is this */

    /* Flags for block transfer operations. */
    #define PARPORT_EPP_FAST        (1&lt;&lt;0) /* Unreliable counts. */
    #define PARPORT_W91284PIC       (1&lt;&lt;1) /* have a Warp9 w91284pic in the device */

    /* The rest is for the kernel only */
    #endif /* _PARPORT_H_ */
</code></pre>

<p>""ppdev.h""</p>

<pre><code>/*
 * linux/include/linux/ppdev.h
 *
 * User-space parallel port device driver (header file).
 *
 * Copyright (C) 1998-9 Tim Waugh &lt;tim@cyberelk.demon.co.uk&gt;
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version
 * 2 of the License, or (at your option) any later version.
 *
 * Added PPGETTIME/PPSETTIME, Fred Barnes, 1999
 * Added PPGETMODES/PPGETMODE/PPGETPHASE, Fred Barnes &lt;frmb2@ukc.ac.uk&gt;, 03/01/2001
 */

#define PP_IOCTL    'p'

/* Set mode for read/write (e.g. IEEE1284_MODE_EPP) */
#define PPSETMODE   _IOW(PP_IOCTL, 0x80, int)

/* Read status */
#define PPRSTATUS   _IOR(PP_IOCTL, 0x81, unsigned char)
#define PPWSTATUS   OBSOLETE__IOW(PP_IOCTL, 0x82, unsigned char)

/* Read/write control */
#define PPRCONTROL  _IOR(PP_IOCTL, 0x83, unsigned char)
#define PPWCONTROL  _IOW(PP_IOCTL, 0x84, unsigned char)

struct ppdev_frob_struct {
    unsigned char mask;
    unsigned char val;
};
#define PPFCONTROL      _IOW(PP_IOCTL, 0x8e, struct ppdev_frob_struct)

/* Read/write data */
#define PPRDATA     _IOR(PP_IOCTL, 0x85, unsigned char)
#define PPWDATA     _IOW(PP_IOCTL, 0x86, unsigned char)

/* Read/write econtrol (not used) */
#define PPRECONTROL OBSOLETE__IOR(PP_IOCTL, 0x87, unsigned char)
#define PPWECONTROL OBSOLETE__IOW(PP_IOCTL, 0x88, unsigned char)

/* Read/write FIFO (not used) */
#define PPRFIFO     OBSOLETE__IOR(PP_IOCTL, 0x89, unsigned char)
#define PPWFIFO     OBSOLETE__IOW(PP_IOCTL, 0x8a, unsigned char)

/* Claim the port to start using it */
#define PPCLAIM     _IO(PP_IOCTL, 0x8b)

/* Release the port when you aren't using it */
#define PPRELEASE   _IO(PP_IOCTL, 0x8c)

/* Yield the port (release it if another driver is waiting,
 * then reclaim) */
#define PPYIELD     _IO(PP_IOCTL, 0x8d)

/* Register device exclusively (must be before PPCLAIM). */
#define PPEXCL      _IO(PP_IOCTL, 0x8f)

/* Data line direction: non-zero for input mode. */
#define PPDATADIR   _IOW(PP_IOCTL, 0x90, int)

/* Negotiate a particular IEEE 1284 mode. */
#define PPNEGOT     _IOW(PP_IOCTL, 0x91, int)

/* Set control lines when an interrupt occurs. */
#define PPWCTLONIRQ _IOW(PP_IOCTL, 0x92, unsigned char)

/* Clear (and return) interrupt count. */
#define PPCLRIRQ    _IOR(PP_IOCTL, 0x93, int)

/* Set the IEEE 1284 phase that we're in (e.g. IEEE1284_PH_FWD_IDLE) */
#define PPSETPHASE  _IOW(PP_IOCTL, 0x94, int)

/* Set and get port timeout (struct timeval's) */
#define PPGETTIME   _IOR(PP_IOCTL, 0x95, struct timeval)
#define PPSETTIME   _IOW(PP_IOCTL, 0x96, struct timeval)

/* Get available modes (what the hardware can do) */
#define PPGETMODES  _IOR(PP_IOCTL, 0x97, unsigned int)

/* Get the current mode and phaze */
#define PPGETMODE   _IOR(PP_IOCTL, 0x98, int)
#define PPGETPHASE  _IOR(PP_IOCTL, 0x99, int)

/* get/set flags */
#define PPGETFLAGS  _IOR(PP_IOCTL, 0x9a, int)
#define PPSETFLAGS  _IOW(PP_IOCTL, 0x9b, int)

/* flags visible to the world */
#define PP_FASTWRITE    (1&lt;&lt;2)
#define PP_FASTREAD (1&lt;&lt;3)
#define PP_W91284PIC    (1&lt;&lt;4)

/* only masks user-visible flags */
#define PP_FLAGMASK (PP_FASTWRITE | PP_FASTREAD | PP_W91284PIC)
</code></pre>
","<p>I managed to find a solution to my problem by using the devctl command. i could read the status of the printer.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;iomanip&gt;

#include &lt;devctl.h&gt;
#include &lt;sys/dcmd_chr.h&gt;

#include &lt;errno.h&gt;   /* Error number definitions */
#include &lt;termios.h&gt; /* POSIX terminal control definitions */

#include ""stdlib.h""
#include ""unistd.h""
#include ""sys/io.h""

#include &lt;hw/inout.h&gt;
#include &lt;stdint.h&gt;
#include &lt;sys/mman.h&gt;

#include &lt;stdio.h&gt;
#include &lt;fcntl.h&gt;      /* open() */
#include &lt;sys/types.h&gt;      /* open() */
#include &lt;sys/stat.h&gt;       /* open() */
#include &lt;sys/ioctl.h&gt;
#include ""parport.h""
#include ""ppdev.h""

#define DEVICE ""/dev/usbpar0""

int status_pins(int fd);

using namespace std;

int main(int argc, char **argv)
{
    int fd;

    if((fd=open(DEVICE, O_RDWR)) &lt; 0) {
        fprintf(stderr, ""can not open %s\n"", DEVICE);
        return 10;
    }

    // ThreadCtl(_NTO_TCTL_IO, 0);

    int data = 0, error;

    if (error = devctl (fd, DCMD_CHR_LINESTATUS, &amp;data,
                          sizeof(data), NULL))
      {
         fprintf(stderr, ""Error setting RTS: %s\n"",
             strerror ( error ));
         exit(EXIT_FAILURE);
      }

      if (data &amp; _LINESTATUS_PAR_NOERROR)
      {
          printf(""No Error Detected!\n"");
      }
      else
      {
          printf(""Error Detected\n"");
      }

      if (data &amp; _LINESTATUS_PAR_PAPEROUT)
      {
          printf(""Paper Empty\n"");
      }
      else
      {
          printf(""Paper OK!\n"");
      }

    close(fd);

    return 0;
}
</code></pre>
"
11867871,Realtime receiving of UDP packets with QNX RTOS,https://stackoverflow.com/questions/11867871/realtime-receiving-of-udp-packets-with-qnx-rtos,8,1344439350,"c++, udp, real-time, interrupt, qnx","<p>I have a source which sends UDP packets at a rate of 819.2 Hz (~1.2ms) to my QNX Neutrino machine. I want to receive and process those messages with as little delay and jitter as possible.</p>

<p>My first code was basically:</p>

<pre><code>SetupUDPSocket(); 
while (true) {
    recv(socket, buffer, BufferSize, MSG_WAITALL); // blocks until whole packet is received
    processPacket(buffer);
}
</code></pre>

<p>The problem is that recv() only checks at each timer tick of the system if there is a new packet available. The timer tick is usually 1ms. So, if I use this I will get a huge jitter, because I process a packet every 1ms or every 2ms. I could reset the size of the timer ticks, but that would affect the whole system (and other timers of other processes, etc). And I still would have a jitter, because I certainly would never exactly match the 819.2 Hz.</p>

<p>So, I tried to use the interrupt line of the network card (5). But it seems as there are also other things which causes the interrupt to rise. I used to following code:</p>

<pre><code>ThreadCtl(_NTO_TCTL_IO, 0);
SIGEV_INTR_INIT(&amp;event);
iID = InterruptAttachEvent(IRQ5, &amp;event, _NTO_INTR_FLAGS_TRK_MSK);

while(true) {
    if (InterruptWait(0, NULL) == -1) {
        std::cerr &lt;&lt; ""errno: "" &lt;&lt; errno &lt;&lt; std::endl;
    }

    length = recv(socket, buffer, bufferSize, 0); // non-blocking this time

    LogTimeAndLength(); 

    InterruptUnmask(IRQ5, iID;
} 
</code></pre>

<p>This results in a single succesful read in the beginning, followed by reads with 0 byte length after 0 time passing. It seems, that after do the InterruptUnmask(), the InterruptWait() does not wait at all, so there must already be a new interrupt (or the same?!).</p>

<p>Is it possible to do something like that with the interrupt line of the network card? Are there any other possibilties to receive the packets at a rate of 819.2 Hz?</p>

<p>Some information about the network card:
'pci -vvv' outputs:</p>

<pre><code>Class          = Network (Ethernet)
Vendor ID      = 8086h, Intel Corporation 
Device ID      = 107ch,  82541PI Gigabit Ethernet Controller
PCI index      = 0h
Class Codes    = 020000h
Revision ID    = 5h
Bus number     = 4
Device number  = 15
Function num   = 0
Status Reg     = 230h
Command Reg    = 17h
I/O space access enabled
Memory space access enabled
Bus Master enabled
Special Cycle operations ignored
Memory Write and Invalidate enabled
Palette Snooping disabled
Parity Error Response disabled
Data/Address stepping disabled
SERR# driver disabled
Fast back-to-back transactions to different agents disabled
Header type    = 0h Single-function
BIST           = 0h Build-in-self-test not supported
Latency Timer  = 40h
Cache Line Size= 8h un-cacheable
PCI Mem Address = febc0000h 32bit length 131072 enabled
PCI Mem Address = feba0000h 32bit length 131072 enabled
PCI IO Address  = ec00h length 64 enabled
Subsystem Vendor ID = 8086h
Subsystem ID        = 1376h
PCI Expansion ROM = feb80000h length 131072 disabled
Max Lat        = 0ns
Min Gnt        = 255ns
PCI Int Pin    = INT A
Interrupt line = 5
CPU Interrupt  = 5h
Capabilities Pointer = dch
Capability ID        = 1h - Power Management
Capabilities         = c822h - 28002000h
Capability ID        = 7h - PCI-X
Capabilities         = 2h - 400000h
Device Dependent Registers:
0x040:  0000 0000 0000 0000   0000 0000 0000 0000 
...
0x0d0:  0000 0000 0000 0000   0000 0000 01e4 22c8 
0x0e0:  0020 0028 0700 0200   0000 4000 0000 0000 
0x0f0:  0500 8000 0000 0000   0000 0000 0000 0000 
</code></pre>

<p>and 'nicinfo' outputs:</p>

<pre><code>wm1: 
    INTEL 82544 Gigabit (Copper) Ethernet Controller

    Physical Node ID ........................... 000E0C C5F6DD
    Current Physical Node ID ................... 000E0C C5F6DD
    Current Operation Rate ..................... 100.00 Mb/s full-duplex
    Active Interface Type ...................... MII
    Active PHY address ....................... 0
    Maximum Transmittable data Unit ............ 1500
    Maximum Receivable data Unit ............... 0
    Hardware Interrupt ......................... 0x5
    Memory Aperture ............................ 0xfebc0000 - 0xfebdffff
    Promiscuous Mode ........................... Off
    Multicast Support .......................... Enabled
</code></pre>

<p>Thanks for reading!</p>
",
15372113,BB10 how to generate config.pri file,https://stackoverflow.com/questions/15372113/bb10-how-to-generate-config-pri-file,3,1363122391,"eclipse, blackberry-10, qnx","<p>Is there a script or a tool to generate the config.pri file for a BB10 project? Momentics IDE does it for you automatically whenever a project is refreshed or the directory is changed. Unfortunately, I am deploying and compiling via command line tools (it is an automated script which runs tests).</p>

<p>Without the config.pri file, I can't 'make'. An easy solution would be to track the file on github along with the source code for the project, but since the file has a timestamp on it, it causes many annoying merge conflicts. </p>

<p>Any ideas? I rather not write the script myself to parse through all the directories and accumulate header and source files myself. Since Momentics IDE does it, there must be a script that it calls or uses. Momentics is based off of Eclipse, is there any way to see what commands the IDE is calling?</p>
",
14918783,What is the QNX kernel binary name,https://stackoverflow.com/questions/14918783/what-is-the-qnx-kernel-binary-name,0,1361084725,"kernel, qnx, qnx-neutrino","<p>I'm working on a project where underlying Kernel is from QNX and all the Kernel sources are coming as binary ,for example CAM layer for block drivers is present as libcam.a but could not find the exact kernel binary which should be there in whole source tree of project.</p>

<p>Can anybody tell me what is the way to find it out??  </p>
","<p>The running kernel is going to be the process with PID of 1. Use <code>ps -e</code> to see it.</p>

<p>In my case, it's <code>procnto</code>. If you are running the instrumented kernel (for debugging) it's <code>procnto-instr</code>. </p>

<pre><code> ps -e
       PID TTY          TIME CMD
         1 ?        12:25:42 procnto
      4098 ?        00:00:00 pci-bios
      4099 ?        03:40:47 io-usb
      4100 ?        00:00:00 io-hid
      4101 ?        00:00:00 devc-con-hid
      4102 ?        00:58:14 devb-eide
     20487 ?        00:00:00 /sbin/tinit
     20488 ?        00:00:00 slogger
     24585 ?        00:00:25 pipe
     28682 ?        00:10:22 mqueue
</code></pre>

<p>Depending on how you make your IFS file, you could have a .build file that includes something like the following:</p>

<pre><code>#
# The build file for QNX Neutrino booting on a PC
#
[linker=""ntox86-ld -T$QNX_TARGET/x86/lib/nto.link %(h!=0, -Ttext 0x%t%)%(d!=0, -Tdata 0x%d%) -o%o %i %[M -L%^i -uinit_%n -lmod_%n%]""]
[virtual=x86,bios +compress] boot = {
    startup-bios

    # PATH is the *safe* path for executables (confstr(_CS_PATH...))
    # LD_LIBRARY_PATH is the *safe* path for libraries (confstr(_CS_LIBPATH))
    #    i.e. This is the path searched for libs in setuid/setgid executables.
    PATH=/proc/boot:/bin:/usr/bin:/opt/bin LD_LIBRARY_PATH=/proc/boot:/lib:/usr/lib:/lib/dll:/opt/lib procnto
</code></pre>

<p>}
   ...</p>

<p>That last <code>procnto</code> is what tells the bootloader which kernel to use. Look at <a href=""http://www.qnx.com/developers/docs/6.4.1/neutrino/utilities/m/mkifs.html"" rel=""nofollow"">mkifs</a> for more information.</p>
"
1402933,Python on an Real-Time Operation System (RTOS),https://stackoverflow.com/questions/1402933/python-on-an-real-time-operation-system-rtos,18,1252545143,"python, rtos, python-stackless, qnx","<p>I am planning to implement a small-scale data acquisition system on an RTOS platform. (Either on a QNX or an RT-Linux system.)</p>

<p>As far as I know, these jobs are performed using C / C++ to get the most out of the system. However I am curious to know and want to learn some experienced people's opinions before I blindly jump into the coding action whether it would be feasible and wiser to write everything in Python (from low-level instrument interfacing through a shiny graphical user interface). If not, mixing with timing-critical parts of the design with ""C"", or writing everything in C and not even putting a line of Python code.</p>

<p>Or at least wrapping the C code using Python to provide an easier access to the system. </p>

<p>Which way would you advise me to work on? I would be glad if you point some similar design cases and further readings as well.</p>

<p>Thank you</p>

<p><strong>NOTE1:</strong> The reason of emphasizing on QNX is due to we already have a QNX 4.25 based data acquisition system (<a href=""http://www.scieng.com/produtcs/m300.htm"" rel=""noreferrer"">M300</a>) for our atmospheric measurement experiments. This is a proprietary system and we can't access the internals of it. Looking further on QNX might be advantageous to us since 6.4 has a free academic licensing option, comes with Python 2.5, and a recent GCC version. I have never tested a RT-Linux system, don't know how comparable it to QNX in terms of stability and efficiency, but I know that all the members of Python habitat and non-Python tools (like Google Earth) that the new system could be developed on works most of the time out-of-the-box.</p>
","<p>I can't speak for <em>every</em> data acquisition setup out there, but <em>most</em> of them spend most of their ""real-time operations"" <em>waiting</em> for data to come in -- at least the ones I've worked on.</p>

<p>Then when the data <em>does</em> come in, you need to immediately record the event or respond to it, and then it's back to the waiting game.  That's typically the most time-critical part of a data acquisition system.  For that reason, I would <em>generally</em> say stick with C for the I/O parts of the data acquisition, but there aren't any particularly compelling reasons not to use Python on the non-time-critical portions.</p>

<p>If you have fairly loose requirements -- only needs millisecond precision, perhaps -- that adds some more weight to doing everything in Python.  As far as development time goes, if you're already comfortable with Python, you would probably have a finished product significantly sooner if you were to do everything in Python and refactor only as bottlenecks appear.  Doing the bulk of your work in Python will also make it easier to thoroughly test your code, and as a general rule of thumb, there will be fewer lines of code and thus less room for bugs.</p>

<p>If you need to specifically multi-<em>task</em> (not multi-<em>thread</em>), <a href=""http://www.stackless.com/"" rel=""noreferrer"">Stackless Python</a> might be beneficial as well.  It's <em>like</em> multi-threading, but the threads (or tasklets, in Stackless lingo) are not OS-level threads, but Python/application-level, so the overhead of switching between tasklets is <em>significantly</em> reduced.  You can configure Stackless to multitask cooperatively or preemptively.  The biggest downside is that blocking IO will generally block your entire set of tasklets.  Anyway, considering that QNX is already a real-time system, it's hard to speculate whether Stackless would be worth using.</p>

<p>My vote would be to take the as-much-Python-as-possible route -- I see it as low cost and high benefit.  If and when you do need to rewrite in C, you'll already have working code to start from. </p>
"
11190815,Is QNX&#174; Momentics IDE for BlackBerry&#174; 10 Native SDK Version: 10.0.4 providing Drag and drop functionality in Blackberry 10 native SDK development?,https://stackoverflow.com/questions/11190815/is-qnx-momentics-ide-for-blackberry-10-native-sdk-version-10-0-4-providing-dr,1,1340632980,"qnx, blackberry-10","<p>I have a good experience with BlackBerry Java Development Environment. I need to know about QNX based IDE for development of Blackberry 10. I successfully installed and ran a small example.</p>

<p>But here I am not finding any drag and drop IDE. I expected that it contain that type of editor, but unfortunately I am not able to find this feature. I am using following IDE: </p>

<p>QNX¬Æ Momentics IDE for BlackBerry¬Æ 10 Native SDK</p>

<p>Version: 10.0.4</p>

<p>Also the IDE is not showing all hints. How to get Hints? </p>

<p>Is it required manually include header files?</p>

<p>Please help me where can I find this feature in this IDE?</p>
","<p>Hi i got following answer from Blackberry adviser </p>

<p><a href=""http://supportforums.blackberry.com/t5/Cascades-Development/Visual-Drag-and-Drop-Editor-for-Cascades/m-p/1759935#M300"" rel=""nofollow"">http://supportforums.blackberry.com/t5/Cascades-Development/Visual-Drag-and-Drop-Editor-for-Cascades/m-p/1759935#M300</a>    </p>

<p>This is currently not available. Please consult the BB NDK documentation for information and updates:</p>

<p><a href=""https://developer.blackberry.com/native/"" rel=""nofollow"">https://developer.blackberry.com/native/</a></p>

<p><a href=""https://developer.blackberry.com/cascades/"" rel=""nofollow"">https://developer.blackberry.com/cascades/</a></p>

<p>Thanks!</p>
"
13849763,Getting an error when trying to create a new project in the QNX Momentics IDE (an Eclipse IDE),https://stackoverflow.com/questions/13849763/getting-an-error-when-trying-to-create-a-new-project-in-the-qnx-momentics-ide-a,2,1355351067,"eclipse, ide, qnx, blackberry-cascades","<p>I'm attempting to create a new Blackberry Cascades C++ Project in the QNX Momentics IDE, and I was previously able to do this, but now when I attempt to do that, I get an error message dialog box up that says, ""com.qnx.tools.bbt.appdescriptor.Configuration.getId()java/lang/String""</p>

<p>I closed everything on my computer, and restarted it, and tried again, but I still get that error.</p>

<p>I was able to create new projects before.</p>

<p>This started happening after I tried to rename a project, but a got another error popup that said, ""Resource 'MyProject' is out of sync with file system"", and I restarted the QNX Momentics IDE, so I don't know if that has anything to do with it.</p>

<p>I even tried creating a new Blackberry Cascades project in a workspace where I already created a lot of other Blackberry Cascades projects, and I got the same error.  What's going on with this?  How can I fix this?  Will I need to reinstall QNX Momentics IDE?  Or is there another way?</p>
",
14159630,How can i force a specific thread sequence on QNX?,https://stackoverflow.com/questions/14159630/how-can-i-force-a-specific-thread-sequence-on-qnx,1,1357311951,"c++, multithreading, semaphore, qnx","<p>I have 3 threads: A, B and C and want to schedule the sequence A,B,B,C,C,C,B,B,A in C++ on the QNX real time operating system.
My approach is to use semaphores and save the last executed thread (because B->C and B->A):</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;
#include &lt;semaphore.h&gt;
/*semaphores*/
sem_t sa = 1;
sem_t sb = 0;
sem_t sc = 0;

char last;         //remember the last processed thread


void* threadA (void* a) 
{
    while(1) 
    {
        sem_wait(&amp;sa);          //p(sa)
        printf(""threadA \n"");   //threads function
        last = 'A';             //mark A as last processed
        sem_post(&amp;sb);          //v(sb)
    }
}

void* threadB (void* a) 
{
    int c = 1;
    while(1) 
    {
        printf(""threadB\n"");
        if (c == 2)
        {
            sem_wait(&amp;sb);
            c = 1;
            if (last == 'A')
            {
                last = 'B';
                sem_post(&amp;sc);    
            }
            if (last == 'C')
            {
                last = 'B';
                sem_post(&amp;sb)   
            }
        }
        c++;
    }
}

void* threadC (void* a) 
{
    int c = 1;
    while(1) 
    {
        printf(""threadC \n"");
        if (c == 3)
        {
            sem_wait(&amp;sc);
            c = 1;
            last = 'C';
            sem_post(&amp;sb);
        }
        c++;
    }
}

int main() 
{
    pthread_create (&amp;threadA, NULL, threadA, NULL);
    pthread_create (&amp;threadB, NULL, threadB, NULL);
    pthread_create (&amp;threadC, NULL, threadC, NULL);
}
</code></pre>

<p>Unfortunately i can't test my code because i don't have QNX installed. So my question: Will this work and is there a better or built in way to do this?</p>
","<p>You are relying on threads started running immediately or something like that?  There are definitely better ways to do this.</p>

<p>Your threads should wait on their semaphore before doing anything else.</p>

<p>I'd move the scheduling logic to one common spot (maybe pass in thread type, and number of iterations, and it sends out signals).</p>

<p>I'd have each <code>sem_post</code> signal a single loop iteration request.  So if you want <code>C</code> to run 3 times, call <code>sem_post</code> 3 times.</p>

<p>I have no idea what you are doing with the first argument to <code>pthread_create</code>.  Overwriting a function with thread data?  Bad idea.</p>

<p>As this is C++, I'd wrap up the creation of threads into an object.  And I'd pass in things like the semaphore to wait on in the <code>void*</code> arg.</p>

<p>I suspect you either need more experience writing multi-threaded code, or the ability to debug on a live platform, in order to succeed at your task.</p>
"
4636427,QNX C/C++ software,https://stackoverflow.com/questions/4636427/qnx-c-c-software,1,1294524606,"c++, qnx","<p>How can I get QNX C/C++ sample code?</p>
",
13937618,C self assignment in functions,https://stackoverflow.com/questions/13937618/c-self-assignment-in-functions,2,1355849145,"c, gcc, legacy, qnx","<p>Porting some legacy C code from QNX (Photon C compiler) to Linux (GCC). In several places I see code like this:</p>

<pre><code>void process_data(char key, char *data)
{
    int i;

    /* Required for compilation */
    i=i;
    key=key;
    data=data;

    ...
}
</code></pre>

<p>Obviously this code is NOT required for compilation and it does nothing. </p>

<p>My question is why would you ever do this in the first place?</p>
","<p>This removes compilation warnings/errors about unreferenced variables. Usually such stuff is done either by <code>#pragma</code>s or by a more expressive form, such as macro: <code>#define unused_var(x) (x)=(x)</code></p>
"
13803463,"Robot Middleware (OpenRTM, OROCOS, RSCA, ASEBA etc.) support port to an RTOS(Micrium, QNX, Keil, FreeRTOS?",https://stackoverflow.com/questions/13803463/robot-middleware-openrtm-orocos-rsca-aseba-etc-support-port-to-an-rtosmic,0,1355151640,"middleware, robotics, rtos, qnx, micrium","<p>I have question to ask you.</p>

<p>There are some open source robotic middleware out there that contains some libraries for robotic developers to do I/O works. They are really powerfull tools that save a lot of time.
They are such as <strong>OpenRTM</strong>, <strong>OROCOS</strong>, <strong>RSCA</strong> etc...</p>

<p>In a project, we will developing a robotic wheelchair that do some autonomous behaviors such as obstacle avoidance, move2goal, follow coridor etc. We'll use an RTOS to organize I/O stuff and selection operations for the behaviors.</p>

<p>What I'm wondering is if any of the RTOS(<strong>mcOS-II, QNX, Keil</strong> etc.) has port to these middlewares? Can I install them on to these RTOSes?</p>

<p>Sorry for my bad English. Hope you got what I mean.</p>

<p>My best regards..</p>
","<p>I am OpenRTM-aist user.</p>

<p>OpenRTM-aist have QNX implementation. </p>

<p><a href=""http://www.openrtm.org/openrtm/ja/node/5056"" rel=""nofollow"">http://www.openrtm.org/openrtm/ja/node/5056</a> </p>

<p>Sorry, there is no english documentation for OpenRTM for QNX, please use google translate button on the site. </p>

<p>OpenRTM-aist is also available for Real-Time Linux (ART-Linux, real-time preemption kernel), T-Kernel (uITRON), VxWorks (developed by SEC CO. LTD.).</p>

<p>Sorry, they do not have english pages, but developers are of course available for english communication. Ask them in the mailiing list: I also recommend you to use openrtm-user mailing list. We had a similar question a couple days ago. You must be able to get some useful information on it.</p>

<p>You can find link on the official OpenRTM-aist website, described above.</p>

<p>Of course, english is welcome!</p>
"
13706140,"C++ Timer class, also usage in QNX with pulse message",https://stackoverflow.com/questions/13706140/c-timer-class-also-usage-in-qnx-with-pulse-message,1,1354634488,"c++, timer, qnx","<p>I wrote a timer class for my project. I used standard C++ function calls for it.</p>

<p>I want to create a timer (start, stop, pause, continue, reset) it and also pass it new timings.</p>

<p>If the timer fires before I stop it, I want to get a qnx pulse message on a given channel.</p>

<p>This is the header:</p>

<pre><code>#ifndef TIMER_H_
#define TIMER_H_

#include &lt;time.h&gt;
#include &lt;sys/neutrino.h&gt;
#include ""HWaccess.h""
#include ""address.h""

#define MILLISECONDS_NANOSECONDS_CONV   1000000
#define SECONDS_MILLISECONDS_CONV       1000

class Timer {
public:
    /**
     * Constructor creates a new timer, attaches to the given
     * channel.
     * Does not start timer!
     *
     * @param chid
     * @param seconds
     * @param milliseconds
     * @param msg
     */
    Timer(int chid, int sec, int msec, int msg);

    /**
     * Deletes timer after detach from channel
     */
    virtual ~Timer();

    /**
     * Starts the timer
     */
    void start();

    /**
     * Stops timer and resets it to initial values
     */
    void stop();

    /**
     * Pauses the timer
     */
    void pause();

    /**
     * Continues the timer
     */
    void cont();

    /**
     * Resets the timer to initial values
     */
    void reset();

    /**
     * Changes timer values to new given values and
     * resets it
     * Does not start the timer!
     *
     * @param seconds
     * @param milliseconds
     */
    void changeTime(int sec, int msec);

private:
    /**
     * Timer ID
     */
    timer_t timerid;

    /**
     * Timerstruct for running timer
     */
    struct itimerspec timer;

    /**
     * Timerstruct for backing up the running timer
     */
    struct itimerspec backupTimer;

    /**
     * timer value: seconds
     */
    int seconds;

    /**
     * timer value: milliseconds
     */
    int miliSeconds;

    /**
     * Connection ID for timeout pulse
     */
    int coid;

    /**
     * Event structure for timer if it fires
     */
    struct sigevent event;
};

#endif /* TIMER_H_ */
</code></pre>

<p>...and the implementation:</p>

<pre><code>#include ""Timer.h""

Timer::Timer(int chid, int sec, int msec, int msg) {
    if ((coid = ConnectAttach(0, 0, chid, _NTO_SIDE_CHANNEL, 0)) == -1) {
        printf(""Timer: Error in ConnectAttach\n"");
    }

    SIGEV_PULSE_INIT(&amp;event, coid, SIGEV_PULSE_PRIO_INHERIT, PULSE_FROM_TIMER, msg/*Timer abgelaufen*/);

    if (timer_create(CLOCK_REALTIME, &amp;event, &amp;timerid) == -1) {
        printf(""Timer: Error in timer_create()\n"");
    }

    seconds = sec;
    miliSeconds = msec;

    reset();
}

Timer::~Timer() {
    if (ConnectDetach(coid) == -1) {
        printf(""Timer: Error in ConnectDetach\n"");
    }

    if (timer_delete(timerid) == -1) {
        printf(""Timer: Error in timer_delete()\n"");
    }
}

void Timer::start() {
    if(timer_settime(timerid, 0, &amp;timer, NULL) == -1){
        printf(""Timer: Error in timer_settime()\n"");
    }
}

void Timer::stop() {
    // stop timer
    timer.it_value.tv_sec = 0;
    timer.it_value.tv_nsec = 0;
    timer.it_interval.tv_sec = 0;
    timer.it_interval.tv_nsec = 0;
    if(timer_settime(timerid, 0, &amp;timer, NULL) == -1){
        printf(""Timer: Error in timer_settime()\n"");
    }

    // reset it
    reset();
}

void Timer::pause() {
    timer.it_value.tv_sec = 0;
    timer.it_value.tv_nsec = 0;
    timer.it_interval.tv_sec = 0;
    timer.it_interval.tv_nsec = 0;

    // backup running timer values
    if(timer_gettime(timerid, &amp;backupTimer) == -1){
        printf(""Timer: Error in timer_gettime()\n"");
    }
    // disarm 
    if(timer_settime(timerid, 0, &amp;timer, NULL) == -1){
        printf(""Timer: Error in timer_settime()\n"");
    }
}

void Timer::cont() {
    // recover old values
    timer = backupTimer;
    // Arm timer
    if(timer_settime(timerid, 0, &amp;timer, NULL) == -1) {
        printf(""Timer: Error in timer_settime()\n"");
    }
}

void Timer::reset(){
    timer.it_value.tv_sec = seconds;
    timer.it_value.tv_nsec = miliSeconds * MILLISECONDS_NANOSECONDS_CONV;
    timer.it_interval.tv_sec = 0;
    timer.it_interval.tv_nsec = 0;
}

void Timer::changeTime(int sec, int msec){
    seconds = sec;
    miliSeconds = msec;
    reset();
}
</code></pre>

<p>1) Can I set the timer struct's values to zero (to stop the timer) and backup the values in another back struct the way I am doing it? Or is the running timer decremented in the timer struct?</p>

<p>2) Can i easily restore the old timer values with a simple <code>timer = backupTimer</code>?</p>

<p>3) And finally, if I create and start a timer in a function, something like this:</p>

<pre><code>void coolClass::interestingFunction() {
    //do other time consuming stuff here...
    Timer timer(chid, 10, 0);
    timer.start();
}
</code></pre>

<p>... then the timer is created on the stack and when I exit this function (and its variables etc.) are no longer valid. Will the timer still count down and fire my pulse? Or will I have to use a classifier in my header file for this timer?</p>
","<p>Ok i fixed all my problems ;>
if some1 is interested in how, heres the modified code:</p>

<pre><code>#include ""Timer.h""

Timer::Timer(int chid, int sec, int msec, int msg) {
    if ((coid = ConnectAttach(0, 0, chid, _NTO_SIDE_CHANNEL, 0)) == -1) {
        printf(""Timer: Error in ConnectAttach\n"");
    }

    SIGEV_PULSE_INIT(&amp;event, coid, SIGEV_PULSE_PRIO_INHERIT, PULSE_FROM_TIMER, msg/*Timer abgelaufen*/);

    if (timer_create(CLOCK_REALTIME, &amp;event, &amp;timerid) == -1) {
        printf(""Timer: Error in timer_create()\n"");
    }

    seconds = sec;
    miliSeconds = msec;

    reset();
}

Timer::~Timer() {
    if (ConnectDetach(coid) == -1) {
        printf(""Timer: Error in ConnectDetach\n"");
    }

    if (timer_delete(timerid) == -1) {
        printf(""Timer: Error in timer_delete()\n"");
    }
}

void Timer::start() {
    //TODO running flag, wg doppelt pause / continue
    if(timer_settime(timerid, 0, &amp;timer, NULL) == -1){
        printf(""Timer: Error in timer_settime()\n"");
    }
}

void Timer::stop() {
    // Stoppe den Timer
    if(timer_settime(timerid, 0, NULL, NULL) == -1){
        printf(""Timer: Error in timer_settime()\n"");
    }

    // Zuruecksetzen
    reset();
}

void Timer::pause() {
    // disarm (da erster Wert NULL)
    if(timer_settime(timerid, 0, NULL, &amp;backupTimer) == -1){
        printf(""Timer: Error in timer_settime()\n"");
    }
}

void Timer::cont() {
    // Arm, da Werte im struct wieder != 0
    if(timer_settime(timerid, 0, &amp;backupTimer, NULL) == -1) {
        printf(""Timer: Error in timer_settime()\n"");
    }
}

void Timer::reset(){
    timer.it_value.tv_sec = seconds;
    timer.it_value.tv_nsec = miliSeconds * MILLISECONDS_NANOSECONDS_CONV;
    timer.it_interval.tv_sec = 0;
    timer.it_interval.tv_nsec = 0;
}

void Timer::changeTime(int sec, int msec){
    seconds = sec;
    miliSeconds = msec;
    reset();
}
</code></pre>
"
13409029,Same Program code with same compiler leads to different binaries,https://stackoverflow.com/questions/13409029/same-program-code-with-same-compiler-leads-to-different-binaries,9,1353028878,"c++, multithreading, segmentation-fault, qnx","<p>I have an issue with my code that has some very strange symptoms.</p>

<ol>
<li><p>The code is compiled on my computer with the following versions:</p>

<p>a. GCC Version: 4.4.2</p>

<p>b. CMAKE verson: 2.8.7</p>

<p>c. QNX (operating system) version: 6.5.0</p></li>
</ol>

<p>And the code has a segfault whilst freeing some memory and exiting from a function (not dying on any code, just on the exit from a function).</p>

<p>The weird things about this are:</p>

<ol>
<li><p>The code does it in release mode but not debug mode:</p>

<p>a. The code is threaded so this indicates a race condition.</p>

<p>b. I cannot debug by putting it in debug mode.</p></li>
<li><p>The code when compiled on a workmates machine with the same versions of everything, does not have this problem. </p>

<p>a. The wierd things about this are that the workmates code works, but also that the binary created from compiling on his machine, which is the same, is about 6mB bigger. </p></li>
</ol>

<p>Now annoyingly I cannot post the code because it is too big and also for work. But can anyone point me along a path to fixing this. </p>

<p>Since I am using QNX I am limited for my debug tools, I cannot use Valgrind and since it is not supported in QNX, GDB doesn't really help.  </p>

<p>I am looking for anyone who has had a similar/same problem and what the cause was and how they fixed it. </p>

<p><strong>EDIT:</strong></p>

<p>Sooo... I found out what it was, but im still a bit confused about how it happened. </p>

<p>The culprit code was this:</p>

<pre><code>Eigen::VectorXd msBb = data.modelSearcher-&gt;getMinimumBoundingBox();
</code></pre>

<p>where the definition for <code>getMinimumBoundingBox</code> is this:</p>

<pre><code>Eigen::VectorXd ModelSearcher::getMinimumBoundingBox();
</code></pre>

<p>and it returns a VectorXd which is always initialised as <code>VectorXd output(6, 1)</code>. So I immediately thought, right it must be because the VectorXd is not being initialised, but changing it to this:</p>

<pre><code>Eigen::VectorXd msBb(6, 1); msBb = data.modelSearcher-&gt;getMinimumBoundingBox();
</code></pre>

<p>But this didn't work. In fact I had to fix it by changing the definition of the function to this:</p>

<pre><code>void ModelSearcher::getMinimumBoundingBox(Eigen::MatrixXd&amp; input);
</code></pre>

<p>and the call to this</p>

<pre><code>Eigen::VectorXd msBb(6, 1); data.modelSearcher-&gt;getMinimumBoundingBox(msBb);
</code></pre>

<p><strong>So now the new question:</strong></p>

<p>What the hell? Why didn't the first change work but the second did, why do I have to pass by reference? Oh and the big question, how the hell didn't this break when my co-worker compiled it and I ran it? Its a straight out memory error, surely it shouldn't depend on which computer compiles it, especially since the compiler and all the other important things are the same!!??</p>

<p>Thanks for your help guys.</p>
","<blockquote>
  <p>... the binary created from compiling on his machine, which is the same, is about 6mB bigger</p>
</blockquote>

<p>It's worth figuring out what the difference is (even if it's just the case that his build hides, while yours exposes, a real bug):</p>

<ul>
<li>double-check you're compiling exactly the same code (no un-committed local changes, no extra headers in the include search path, etc.)
<ul>
<li>triple-check by adding a <code>-E</code> switch to your gcc arguments in cmake, so it will pre-process your files with the same include path as regular compilation; diff the pre-processor output</li>
</ul></li>
<li>compare output from <code>nm</code> or <code>objdump</code> or whatever you have to for your two linked executables: if some system or 3rd-party library is a different version on one box, it may show up here</li>
<li>compare output from <code>ldd</code> if it's dynamically linked, make sure they're both getting the same library versions
<ul>
<li>compare the library versions it <em>actually</em> gets at runtime too, if possible. Hopefully you can do one of: run <code>pldd</code>, compare the <code>.so</code> entries in <code>/proc/pid/map</code>, run the process under <code>strace</code>/<code>dtrace</code>/<code>truss</code> and compare the runtime linker activity</li>
</ul></li>
</ul>

<hr>

<p>As for the code ... if this doesn't work:</p>

<pre><code>Eigen::VectorXd ModelSearcher::getMinimumBoundingBox();
// ...
Eigen::VectorXd msBb(6, 1); msBb = data.modelSearcher-&gt;getMinimumBoundingBox();
</code></pre>

<p>and this does:</p>

<pre><code>void ModelSearcher::getMinimumBoundingBox(Eigen::MatrixXd&amp; input);
// ...
Eigen::VectorXd msBb(6, 1); data.modelSearcher-&gt;getMinimumBoundingBox(msBb);
</code></pre>

<p>you presumably have a problem with the assignment operator. If it does a shallow copy and there is dynamically-allocated memory in the vector, you'll end up with two vectors holding the same pointer, and they'll both <code>free</code>/<code>delete</code> it.</p>

<p>Note that if the operator isn't defined at all, the default is to do this shallow copy.</p>
"
13339462,Thread stops randomly in the middle of a while loop,https://stackoverflow.com/questions/13339462/thread-stops-randomly-in-the-middle-of-a-while-loop,4,1352703428,"c++, multithreading, qnx","<p>I have a program which is doing something very interesting. Basicly i have three main threads,  all are busy and the problem thread basiclly has a while loop that looks like this:</p>

<pre><code>while(variable which is always true) {
    get some data;
    process data;
    print message;
}
print end message;
</code></pre>

<p>Now the print message gets printed for about the first 400 rounds but after this the thread just stops running. I have tried making this thread a high priority. I have tried reducing the priority of other threads. The strangest thing is that this was working previously and while debugging another problem (which was done only with print statements) it started to happen intermittently. Now it has become permanent, as in it happens every time. </p>

<p>Things that solved it temporarily (then it seemingly stopped working again) were:</p>

<ol>
<li><p>Reducing the level of print statements in other threads.</p></li>
<li><p>Reducing the priority of other threads.</p></li>
<li><p>Running at different times. </p></li>
</ol>

<p>As a disclaimer I am using a real time operating system called QNX which may be causing the problem directly. I am hoping its not this otherwise we have a big core i7 and no ability to use threads. </p>

<p>Unfortunately the code is very long and is for work so I really shouldn't post it. I am hoping for help that will point me in the correct direction to solving it myself. Does anyone know of issues that can cause these symptoms?</p>
","<p>This very much sounds like a race condition.<br>
Make sure, that there are no circumstances where a locked mutex is not properly unlocked, because that could lead to a deadlock.<br>
Unfortunately debugging threading issues is very complex, so you're pretty much on your own here.</p>
"
13179853,How do you call a function with the same symbol in 2 different shared libraries?,https://stackoverflow.com/questions/13179853/how-do-you-call-a-function-with-the-same-symbol-in-2-different-shared-libraries,4,1351782211,"c++, shared-libraries, qnx","<p>I have several versions of the same library written in C++. I need to compare them side-by-side. These libraries use the same namespace, function names and take the same parameters.</p>

<p>Are there any methods to control which version of the library I use when I link two or more of them at the same time?</p>
","<p>You cannot link two libraries with identical symbols and get access to both. However, you can build your own thin wrapper libraries to disambiguate the two versioned libraries:</p>

<ul>
<li>Define an abstract class <code>Wrapper</code> that exercises the functions of the target library using abstract virtual functions</li>
<li>Define an implementation of <code>Wrapper</code> in a class called <code>WrapperImpl</code> that calls through to the target library from the virtual methods</li>
<li>Define a free-standing method <code>Wrapper *MakeImpl</code> returning <code>new WrapperImpl()</code></li>
<li>Compile <code>WrapperImpl</code> into static libraries several times, linking with different versions of the target library each time. <strong>Critical:</strong> pass <code>-DWrapperImpl=WrapperImplV1 -DMakeImpl=MakeImplV1</code> to the compiler, with <code>V1</code>, <code>V2</code>, <code>V3</code>, and so on, for different versions. You should end up with multiple libraries.</li>
<li>Link your main tester with these multiple libraries</li>
</ul>

<p>At this point, your main tester has access to free-standing functions <code>MakeImplV1</code>, <code>MakeImplV2</code>, <code>MakeImplV3</code> and so on created through renaming <code>MakeImpl</code> through the preprocessor. Use these functions to obtain instances of <code>Wrapper</code> that call through to different versions of the target library.</p>
"
13095522,non-blocking socket client connection,https://stackoverflow.com/questions/13095522/non-blocking-socket-client-connection,0,1351292299,"linux, timeout, nonblocking, winsock2, qnx","<p>ALL,
I am looking for a simple example of non-blocking socket connection that will run on Windows.
I tried to Google, but all samples are either for *nix (POSIX) or blocking sockets on Windows.</p>

<p>Looking thru msdn I see that it is easy to make a socket non-blocking and issue a connect(), but then you need some preparation in order to put the socket back.</p>

<p>So, all in all I need something on a non-blocking socket that will connect and then put it back to be blocking.
The read and write operation should be performed on the blocking socket.</p>

<p>The reason for a non-blocking socket is that I need a connection timeout and there is no other way than non-blocking socket. Or is there?</p>

<p>Thank you.</p>
",
12920588,BlackBerry 10 Cascades call ASP.NET web service,https://stackoverflow.com/questions/12920588/blackberry-10-cascades-call-asp-net-web-service,1,1350409908,"c++, qnx, blackberry-10","<p>I am developing a BlackBerry 10 apps with Cascades (C++ programming language) right now. Can anyone tell me how do i make a call to an ASP.NET web service in BlackBerry 10: Cascades? I'm just a beginner, so i don't really know anything. Thanks for your answer :D</p>
",
11841021,How to reset process ID in QNX,https://stackoverflow.com/questions/11841021/how-to-reset-process-id-in-qnx,0,1344323779,"c, process, operating-system, qnx, qnx-neutrino","<p>If someone knows how to rest process ID in QNX, please let me know. I am searching the web but looks like nothing to be found.
I actually need to write a script to do the following:</p>

<ol>
<li>Look for current process ID </li>
<li>If PID is bigger than some particular value then reset PID and start my process </li>
<li>If not bigger, then start my process</li>
</ol>

<p>In order to do that I only need the info on how to reset process ID in QNX OS.
Thank in advance.</p>
",
11760108,QNX_CONFIGURATION settings error after Blackberry NDK installation,https://stackoverflow.com/questions/11760108/qnx-configuration-settings-error-after-blackberry-ndk-installation,0,1343826926,"sdk, qnx, blackberry-10","<p>I've installed Blackberry Native SDK for Windows 7 but I get the following error when I open the application after installation:</p>

<p>""There is an error in the QNX configuration settings. Either de QNX_CONFIGURATION environment variable is not defined correctly or the location it points to is not accesible.
Exit the IDE and fix the error?""</p>

<p>I guess the solution is as easy as setting the indicated environment variable to the correct path. But i don't know the path it must point to. Does anybody know?</p>

<p>Thanx in advance!</p>
",
11469118,What value puts Jam in its builtin variable $(OS) on QNX Neutrino hosts?,https://stackoverflow.com/questions/11469118/what-value-puts-jam-in-its-builtin-variable-os-on-qnx-neutrino-hosts,0,1342177013,"qnx, qnx-neutrino, jam","<p>I have to configure my compilation depending on build hosts. Windows and Linux are easy and I have access to the build hosts to test it myself anyway.</p>

<p>What I have so far completely failed to find are the values of $(OS) and, just to check my expectations, $(OSPLAT). I assume OSPLAT to be X86 on x86 machines, similar to other QNX supported SDP packages</p>

<p>If anyone has access to a QNX/Neutrino system with installed QNX SDP, the Jam script below can produce the result:</p>

<pre><code>Echo $(OS) $(OSPLAT) ;
</code></pre>
","<p>I had a look at Jam source and it seems that depending on the platform version it is either QNX or QNXNTO. See jam.h for more details and OSPLAT values.</p>
"
11034323,Having trouble with undefined reference to error,https://stackoverflow.com/questions/11034323/having-trouble-with-undefined-reference-to-error,1,1339681076,"c, blackberry-playbook, qnx, oggvorbis","<p>I know there are a lot of posts related to this particular error but nothing seems to be helpful in ,my case, So please forgive me for that I am posting question after almost 2 days of research on google:(</p>

<p>I am working on a game for blackberry playbook, and for sound/audio I am using openal along with OggVorbis, I have downloaded blackberry port of OggVorbis from following source</p>

<p><a href=""https://github.com/blackberry/OggVorbis"" rel=""nofollow"">https://github.com/blackberry/OggVorbis</a></p>

<p>but its integration with game is creating issue like it says undefined reference to ov_clear that is in vorbisfile.h and vorbisfile.c is compiled and I can see ov_clear in libvorbis.a qnx momentics IDE, and I have added libvorbis in my game but still I am getting these errors</p>

<p>Please help </p>
","<p>Somehow I did figure it out what was the problem. I am a C#.net programmer where it does not matter you are adding reference to a library project or main project, but here you can't add a reference to a static library in an other static library, that was the reason for these errors. Thats my understanding may be someone could guide me in a better detail way.</p>

<p>Regards
Ahsan  </p>
"
11345132,Difference between &quot;test -a file&quot; and &quot;test file -ef file&quot;,https://stackoverflow.com/questions/11345132/difference-between-test-a-file-and-test-file-ef-file,6,1341494163,"ksh, qnx","<p>QNX (Neutrino 6.5.0) uses an open source implementation of ksh as its shell. A lot of the provided scripts, including the system startup scripts, use constructs such as</p>

<pre><code>if ! test /dev/slog -ef /dev/slog; then
    # do something
fi
</code></pre>

<p>to check whether a resource manager exists or not in the filesystem. I've searched and could only find very dray explanations that <code>-ef</code> checks to see whether the two parameters are in fact the same file. Since the filename specified is the same it seems to just reduce to checking that the file exists.</p>

<p>I have checked the behaviour of <code>test -a</code> and <code>test -e</code> (both seem to check for file existance of any type of file according to the various docs I've read) and they seem to also work.</p>

<p>Is there any difference in the checks performed between <code>-ef</code> and <code>-a</code>/<code>-e</code>? Is using <code>-ef</code> some kind of attempt to protect against a race condition in the existence of the file?</p>
","<p>Reviewing the <code>strace</code> on Ubuntu Linux's copy of <code>ksh</code> reveals no substantial differences.  One call to <code>stat</code> vs two.</p>

<pre><code>$ strace test /tmp/tmp.geLaoPkXXC -ef /tmp/tmp.geLaoPkXXC
</code></pre>

<p>showed this:</p>

<pre><code>mmap(NULL, 7220736, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f11dc80b000
close(3)                                = 0
stat(""/tmp/tmp.geLaoPkXXC"", {st_mode=S_IFREG|0600, st_size=0, ...}) = 0
stat(""/tmp/tmp.geLaoPkXXC"", {st_mode=S_IFREG|0600, st_size=0, ...}) = 0
close(1)                                = 0
close(2)                                = 0
</code></pre>

<p>...whereas</p>

<pre><code>$  strace test -a /tmp/tmp.geLaoPkXXC
</code></pre>

<p>showed this:</p>

<pre><code>fstat(3, {st_mode=S_IFREG|0644, st_size=7220736, ...}) = 0
mmap(NULL, 7220736, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f6b49e2b000
close(3)                                = 0
stat(""/tmp/tmp.geLaoPkXXC"", {st_mode=S_IFREG|0600, st_size=0, ...}) = 0
close(1)                                = 0
close(2)                                = 0
</code></pre>

<p>One <code>stat</code> vs two.</p>

<pre><code>$ ksh --version
  version         sh (AT&amp;T Research) 93u 2011-02-08
</code></pre>
"
11260857,loading application on blackberry playbook simulator encountered an error,https://stackoverflow.com/questions/11260857/loading-application-on-blackberry-playbook-simulator-encountered-an-error,0,1340968804,"vmware, blackberry-playbook, qnx","<p>I developed an application in BlackBerry playbook native sdk using QNX. I try to test it on simulator(running in vmware) an error occurred like <code>&quot;'Downloading and starting the application...' has encoundered a problem&quot;</code>. The screenshot attached below<img src=""https://i.sstatic.net/9EREa.png"" alt="""" /></p>
<p><strong>UPDATE</strong></p>
<p>I tested it on developer alpha device and woks fine.</p>
","<p>It looks like you are trying to run an application built using the BlackBerry 10 NDK on a BlackBerry PlayBook running PlayBook OS 2.1.0.  Typically, applications built in the NDK are forwards compatible, but not backwards compatible.  </p>

<p>You'll need to use the version 2.x BlackBerry NDK to build the application for your PlayBook running 2.1.0.</p>
"
9881978,Opening a URL using the native PlayBook browser from an Android-based application,https://stackoverflow.com/questions/9881978/opening-a-url-using-the-native-playbook-browser-from-an-android-based-applicatio,11,1332809955,"android, blackberry, blackberry-playbook, qnx","<p>When a link is opened in a PlayBook application that runs in the Android JVM (that is, an Android app that's been ported to the PlayBook using the BlackBerry Plug-in for Android Development Tools), an Android WebView activity is launched to display the web page contents within the running application. From here, the user can select 'View in PlayBook Browser' from the PlayBook menu to open the URL in the native PlayBook browser.</p>

<p>Is it possible to bypass the Android WebView activity and open the URL using the native PlayBook browser?</p>

<p>An unsuccessful approach is documented on the BlackBerry Developer Support Forums:
<a href=""http://supportforums.blackberry.com/t5/BlackBerry-Plug-in-for-Android/Possible-to-launch-a-URL-to-the-PlayBook-browser-from-an-Android/m-p/1629005"" rel=""noreferrer"">http://supportforums.blackberry.com/t5/BlackBerry-Plug-in-for-Android/Possible-to-launch-a-URL-to-the-PlayBook-browser-from-an-Android/m-p/1629005</a> </p>
",
9141185,Error on &quot;QNXApplication.qnxApplication.addEventListener&quot;,https://stackoverflow.com/questions/9141185/error-on-qnxapplication-qnxapplication-addeventlistener,0,1328361681,"apache-flex, air, blackberry-playbook, qnx","<p>I want to create option menu on my qnx view, I am using air SDK, I got this example</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;s:ViewNavigatorApplication xmlns:fx=""http://ns.adobe.com/mxml/2009"" 
                             xmlns:s=""library://ns.adobe.com/flex/spark"" 
                        xmlns:mx=""library://ns.adobe.com/flex/mx""
                        creationComplete=""createMenu(event)""
                        firstView=""views.testHomeView"" xmlns:utils=""utils.*""&gt;

&lt;fx:Declarations&gt;

&lt;/fx:Declarations&gt;

&lt;fx:Script&gt;
    &lt;![CDATA[
        import caurina.transitions.Tweener;

        import mx.events.FlexEvent;

        import qnx.events.QNXApplicationEvent;
        import qnx.system.QNXApplication;

        // Registers the drop down menu for PB application
        protected function createMenu( event:FlexEvent ):void
        {
            QNXApplication.qnxApplication.addEventListener( QNXApplicationEvent.SWIPE_DOWN, pullDownMenu );             
        }

        private function pullDownMenu( event:QNXApplicationEvent ):void
        {
            trace( ""Menu pulled down"" );
            Tweener.addTween(slideMenu, {y: 0, time: 0.5, transition: ""linear""});


            /** 
             * add the mouse listener to hide the menu when the user clicks
             * outside of the menu area
             */             

            stage.addEventListener(MouseEvent.CLICK, onStageMouseClick);
        }

        // Hide menu when the screen is touched outside menu
        private function onStageMouseClick( e:MouseEvent ):void
        {
            /** if the user clicks outside of the menu area, hide the menu */               
            if (mouseY &gt; slideMenu.height)
            {
                Tweener.addTween(slideMenu, {y: -slideMenu.height, time: .3, transition: ""linear""});                    
                stage.removeEventListener(MouseEvent.CLICK, onStageMouseClick);
                trace( ""Menu went up"" );
            }
        }

    ]]&gt;
&lt;/fx:Script&gt;
&lt;s:navigationContent&gt;
    &lt;utils:Menu id=""slideMenu""&gt;

    &lt;/utils:Menu&gt;
&lt;/s:navigationContent&gt;
</code></pre>

<p></p>

<p>When I run this example I got this error:
VerifyError: Error #1079: Native methods are not allowed in loaded code.</p>

<pre><code>at flash.display::MovieClip/nextFrame()
at mx.managers::SystemManager/deferredNextFrame()[E:\dev\4.5.1\frameworks\projects\framework\src\mx\managers\SystemManager.as:284]
at mx.managers::SystemManager/preloader_preloaderDocFrameReadyHandler()[E:\dev\4.5.1\frameworks\projects\framework\src\mx\managers\SystemManager.as:2633]
at flash.events::EventDispatcher/dispatchEventFunction()
at flash.events::EventDispatcher/dispatchEvent()
at mx.preloaders::Preloader/timerHandler()[E:\dev\4.5.1\frameworks\projects\framework\src\mx\preloaders\Preloader.as:515]
at flash.utils::Timer/_timerDispatch()
at flash.utils::Timer/tick()
</code></pre>

<p><img src=""https://i.sstatic.net/fhZ1R.png"" alt=""Error""></p>

<p>Thanks a lot</p>
",
10179965,Develop virtual keyboard on PlayBook,https://stackoverflow.com/questions/10179965/develop-virtual-keyboard-on-playbook,1,1334602654,"qnx, blackberry-playbook","<p>I am tring to make virtual Arabic keyboard on PlayBook, I am using Air SDK, I this it not available to Air sdk, so I want to make it via QNX native NDK, to embedd it with the system keyboard</p>

<p>Can you please give me a example to how to do that?
Thanks a lot</p>
",
9933788,How to pick find qcc version in a Makefile?,https://stackoverflow.com/questions/9933788/how-to-pick-find-qcc-version-in-a-makefile,0,1333056407,"makefile, qnx, qcc","<p>A similar question has been asked before for <strong>gcc</strong>. 
However, <strong><em>qcc</em></strong> is a little different (see version output below).</p>

<pre><code>qcc -V
cc: targets available in /opt/qnx641/host/linux/x86/etc/qcc:
    4.3.3,gcc_ntoarmle_cpp
    4.3.3,gcc_ntoshle_acpp
    4.3.3,gcc_ntox86_cpp
    4.3.3,gcc_ntoppcbe
    4.3.3,gcc_ntomipsbe_cpp
    4.3.3,gcc_ntoshle_cpp
    4.3.3,gcc_ntoarmle_gpp
    4.3.3,gcc_ntoshle_ecpp-ne
    4.3.3,gcc_ntoshle_cpp-ne
    4.3.3,gcc_ntomipsbe_gpp
    4.3.3,gcc_ntomipsle_ecpp
    4.3.3,gcc_ntox86        (default)
    4.3.3,gcc_ntoppcbe_cpp-ne
    4.3.3,gcc_ntox86_ecpp-ne
    4.3.3,gcc_ntoshle_acpp-ne
    4.3.3,gcc_ntoppcbespe_acpp
    4.3.3,gcc_ntoppcbe_ecpp-ne
    4.3.3,gcc_ntomipsle
    4.3.3,gcc_ntoppcbe_ecpp
    4.3.3,gcc_ntoarmle_ecpp
    4.3.3,gcc_ntox86_gpp
    4.3.3,gcc_ntoshle_gpp
    4.3.3,gcc_ntoshle
    4.3.3,gcc_ntomipsbe_ecpp-ne
    4.3.3,gcc_ntomipsbe_acpp-ne
    4.3.3,gcc_ntoarmle
    4.3.3,gcc_ntomipsbe_acpp
    4.3.3,gcc_ntomipsle_cpp-ne
    4.3.3,gcc_ntoppcbespe_cpp
    4.3.3,gcc_ntoppcbespe_ecpp-ne
    4.3.3,gcc_ntox86_acpp-ne
    4.3.3,gcc_ntox86_acpp
    4.3.3,gcc_ntomipsle_acpp
    4.3.3,gcc_ntomipsle_acpp-ne
    4.3.3,gcc_ntoarmle_cpp-ne
    4.3.3,gcc_ntomipsbe_cpp-ne
    4.3.3,gcc_ntomipsle_ecpp-ne
    4.3.3,gcc_ntoppcbespe_ecpp
    4.3.3,gcc_ntoppcbespe_cpp-ne
    4.3.3,gcc_ntox86_ecpp
    4.3.3,gcc_ntoshle_ecpp
    4.3.3,gcc_ntoppcbespe_acpp-ne
    4.3.3,gcc_ntoppcbe_gpp
    4.3.3,gcc_ntoppcbe_acpp-ne
    4.3.3,gcc_ntoppcbespe_gpp
    4.3.3,gcc_ntoppcbe_cpp
    4.3.3,gcc_ntomipsbe_ecpp
    4.3.3,gcc_ntoppcbe_acpp
    4.3.3,gcc_ntoarmle_acpp-ne
    4.3.3,gcc_ntox86_cpp-ne
    4.3.3,gcc_ntomipsbe
    4.3.3,gcc_ntomipsle_cpp
    4.3.3,gcc_ntoarmle_acpp
    4.3.3,gcc_ntomipsle_gpp
    4.3.3,gcc_ntoarmle_ecpp-ne
    4.3.3,gcc_ntoppcbespe
</code></pre>

<p>I need to make a generic makefile to differentiate between two different compilers: the one above, and version 3.3.5.</p>

<p>I know how to do this with gcc (as seen here: <a href=""https://stackoverflow.com/questions/5188267/checking-the-gcc-version-in-a-makefile"">Checking the gcc version in a Makefile?</a>). However, I can't seem to figure out how to use that to create an <code>ifeq</code> or <code>ifdef</code> that will work with the output I get from qcc.</p>

<p>Any ideas?</p>

<p><strong>EDIT</strong>
Only interested in the ntox86 / ntox86_cpp compiler</p>
","<p>Try </p>

<pre><code>qcc -V | sed -n '/,/{s/,.*//;p;q}'
</code></pre>

<p><b>EDIT:</b><br>
How strange. This make take a few iterations. Could you try these two experiments:</p>

<pre><code>sed --version
</code></pre>

<p>and</p>

<pre><code>qcc -V | sed -n
</code></pre>
"
5005039,RIM Blackberry Playbook to Access Android Apps in QNX? Will it work? What will experience be like?,https://stackoverflow.com/questions/5005039/rim-blackberry-playbook-to-access-android-apps-in-qnx-will-it-work-what-will-e,-1,1297781070,"android, tablet, qnx, blackberry-playbook","<p>I am trying to figure out how feasible Blackberry's rumored intent to have the Playbook tablet access the Android App store will be.  </p>

<p>There have been several news/blog reports on this matter, but i haven't seen any feedback from the app developer community on this forum regarding what the experience will be like for Playbook users, whether apps would need to be altered by developers going forward to accommodate for the Playbook, what Google and Blackberry would have to do to ensure that the user experience is seamless.</p>

<p>From an app developer's perspective, I imagine this is a huge homerun, as it opens up sales opportunities to Blackberry customers.  However, there are likely risks of alienating some users if the experience isn't the same as one would get on, say, a Galaxy Tab or the Motorola Xoom.</p>

<p>Here is an article on the topic: <a href=""http://www.slashgear.com/blackberry-playbook-android-app-support-coming-in-2h-2011-tip-insiders-11132674/"" rel=""nofollow"">http://www.slashgear.com/blackberry-playbook-android-app-support-coming-in-2h-2011-tip-insiders-11132674/</a></p>

<p>What do app developers at large think about QNX facilitating this?</p>
",
7842417,Can Qt Creator be used to debug QNX Neutrino builds?,https://stackoverflow.com/questions/7842417/can-qt-creator-be-used-to-debug-qnx-neutrino-builds,1,1319145711,"qt, gdb, qt-creator, qnx, qnx-neutrino","<p>I've gotten so used to using Qt Creator that I'd like to use it as an IDE for a QNX project I'm doing (QNX 6.3.0). Code editing--check. Compiling--I'm pretty sure I can get that to work. Debugging--well I'm stuck. QNX Momentics distributes a cross debugger, 'ntox86-gdb.exe'. I can use this debugger from the command line with no problem. I cannot figure out how to get Creator to use it as a debugger. Has anybody tried something like this?</p>

<p>New info: I've gotten as far as this: I can go to the Debug menu, select Start Debugging->Start and Attach to Remote Application, type in my debugger (ntox86-gdb.exe), executable, and the IP/port of my target. When I click OK, there's a long pause, and finally a dialog: ""The gdb process exited unexpectedly (code 101120)""</p>
",
9113592,Spotify Developer API on Blackberry QNX,https://stackoverflow.com/questions/9113592/spotify-developer-api-on-blackberry-qnx,1,1328191127,"blackberry-playbook, spotify, qnx","<p>Is it possible to use the Spotify Developer API on QNX, Blackberry??
I would like to create a simple Spotify Client for my Playbook.</p>

<p>Thanks</p>
",
8938574,Using static const + const as array bound,https://stackoverflow.com/questions/8938574/using-static-const-const-as-array-bound,13,1327047986,"c++, arrays, qnx","<p>I'm doing something like this</p>

<p>Class.hpp:</p>

<pre><code> class Class {

 private:
     static const unsigned int arraySize;
     int ar[arraySize+2];
 };
</code></pre>

<p>Class.cpp:</p>

<pre><code>#include &lt;Class.hpp&gt;
const unsigned int arraySize = 384;
</code></pre>

<p>The compiler (q++, a c++ compiler for the QNX OS based on g++) gives me <code>error: array bound is not an integer constant</code> while compiling a unit including <code>Class.hpp</code> (not while compiling Class.cpp).</p>

<p>Why isn't that working? I know that a static const member can be used as an array bound, guaranteed by the C++ standard (see <a href=""https://stackoverflow.com/a/1328583/990968"">this anwser</a>). But why doesn't the compiler see the result of <code>static const + const</code> as a constant?</p>
","<p>This is good code which should have been accepted by the compiler:</p>

<pre><code>class Class { 
  const static int arraySize = 384; 
  int ar[arraySize+2]; 
}; 
</code></pre>

<p>and if it isn't, your compiler is broken. </p>

<p>However, if you move actual constant out of the header file to selected translation unit, that invalidates the code.</p>

<pre><code>// Class.h
class Class { 
  const static int arraySize;
  int ar[arraySize+2]; // ERROR
}; 

// Class.cpp
const int Class::arraySize = 384;
</code></pre>

<p>This is because the size of your <code>Class</code> object cannot be determined at compile time from the data available in the header alone. This is not <em>exactly</em> right reason, but reasoning along these lines helps to understand compilation errors such as this.</p>

<p>To avoid making such mistakes, you can replace <code>static const int</code> with an <code>enum</code>, e.g.</p>

<pre><code>class Class { 
  enum { arraySize = 384 }; 
  int ar[arraySize+2]; 
}; 
</code></pre>
"
8332487,Difficulty of porting a TCP client and server from Linux to QNX Neutrino,https://stackoverflow.com/questions/8332487/difficulty-of-porting-a-tcp-client-and-server-from-linux-to-qnx-neutrino,1,1322684663,"porting, qnx, qnx-neutrino","<p>Are there any major differences between a modern Linux and QNX Neutrino that would make porting an existing client/server difficult?  The source is normally built using Qt's qmake, but has no other Qt dependencies.  </p>

<p>I need to provide an estimate for how long this process will take, but I've never used QNX.</p>

<p>If it matters, this will run on an ARM CPU, but we already build for ARM on Linux as well.</p>
","<p>It's really going to be hard to estimate until you try because there are a lot of similarities, but where there are differences can be more problematic.  If I were estimating, I would start by downloading an eval copy of the QNX and try building to see what problems you are facing.</p>

<p>The biggest issue may have is if you are using a GUI.  QNX uses it's own GUI technology which is not X.  (Although Qt 4.7 has been ported to QNX 6.5, so if you were to use Qt, it would probably work.)</p>
"
8271829,Porting Qwt library to playbook,https://stackoverflow.com/questions/8271829/porting-qwt-library-to-playbook,2,1322238406,"qt, porting, blackberry-playbook, qwt, qnx","<p>I am new to Qt, cross compiling and porting so please bear with me.</p>

<p>My goal is to use the <a href=""http://qwt.sourceforge.net/"" rel=""nofollow"">Qwt library</a> on Playbook OS for a Qt based application. I found a nice tutorial on <a href=""http://hecgeek.blogspot.com/2011/10/qt-for-blackberry-playbook.html"" rel=""nofollow"">Qt for Blackberry Playbook</a> and I managed to get a simple Qt ""Hello World"" application running on my tablet.</p>

<p>My next step was to build the Qwt library and make use of it in my application. I spent some time reading about qmake and I built the library along with an application with no problems but when I run the application it crashes as soon I launch it.</p>

<p>Here are the steps that I took in building both the library and my app:</p>

<ol>
<li>Downloaded the source for Qwt and used the qmake that comes with the <a href=""https://github.com/blackberry/Qt"" rel=""nofollow"">RIM's Qt port</a>. For reference: when installing the Qt port it will create a <strong>""stage""</strong> directory and the qmake is located here: <code>~/stage/nto/armle-v7/usr/lib/qt4/bin/qmake</code>. First I've got an error about the designer plugin, but after turning the designer switch off, it compiled with no errors or warnings.</li>
<li>I have built one of the samples that come with Qwt. I only added on line in the code (based on tutorial instructions): <code>QCoreApplication::addLibraryPath(""app/native/lib"");</code>. This is needed to tell the application where at run time are the shared libraries located on the device. No problems here either. My .pro file looked as follows:</li>
</ol>

<p>include( $${PWD}/../examples.pri )</p>

<pre><code>TARGET  = curvdemo1    
DESTDIR = . 

QMAKE_LFLAGS += '-Wl,-rpath,\'./app/native/lib\''
LIBS += -lbbsupport

SOURCES = \    
    curvdemo1.cpp    

package.target = $${TARGET}.bar
package.depends = $$TARGET
package.commands = blackberry-nativepackager \
    -devMode \
    -package $${TARGET}.bar -arg -platform -arg blackberry \
    blackberry-tablet.xml $$TARGET \
    -e icon.png res/icon.png \
    -e splashscreen.png res/splashscreen.png \
    -e $$[QT_INSTALL_LIBS]/libQtCore.so.4 lib/libQtCore.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtGui.so.4 lib/libQtGui.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtOpenGL.so.4 lib/libQtOpenGL.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtNetwork.so.4 lib/libQtNetwork.so.4 \
    -e $$[QT_INSTALL_LIBS]/libbbsupport.so.4 lib/libbbsupport.so.4 \
    -e $$[QT_INSTALL_PLUGINS]/platforms/libblackberry.so lib/platforms/libblackberry.so
    -e /home/builder/Qwt/qwt-6.0.1/lib/libqwt.so.6 lib/libqwt.so.6 \
    -e /home/builder/Qwt/qwt-6.0.1/lib/libqwtmathml.so.6 lib/libqwtmathml.so.6 

QMAKE_EXTRA_TARGETS += package
</code></pre>

<p>I packaged the app and deployed it, however when running the application crashes as soon as the splashscreen disappears.</p>

<p>The steps listed above are referring to my attempt of using the Qwt as a shared library. I did try building it as a static library by removing <code>QwtDll</code> as per library instructions, but the final result is the same. I can tell that the binary makes use of static libs based on its size.</p>

<p>With my little knowledge I can assume that the Qwt library was not properly built and cannot be loaded properly by my test app. If so how to properly port this library to Playbook OS? If not what else am I missing along these steps?</p>

<p>BTW I can't use Momentics to debug for the time being (for other reasons).</p>

<p>Thank you in advance for your contribution to my learning experience.</p>
","<p>[SOLVED]</p>

<p>As I mentioned in my question I am new in both Qt and cross compiling, but I've figured what the problem was and now the graph is up and running on the Playbook.</p>

<p>What was causing the problem was the .pro file. I was using the examples that come with the library and the project files for them are set up to link correctly so my project was fine when built, but at runtime it couldn't find specific libs that the chart relied on.</p>

<p>I've removed the <code>include( $${PWD}/../examples.pri )</code> line from the file and when I ran <code>make</code> I got a number of warning similar to this:<br/><br/><code>warning: libQtSvg.so.4, needed by /home/builder/Qwt/qwt-6.0.1/lib/libqwt.so, not found (try using -rpath or -rpath-link)</code> <br/><br/>and errors similar to this:<br/><br/> <code>libqwt.so: undefined reference to QSvgGenerator::~QSvgGenerator()</code></p>

<p>That lead to conclusion that my initial project file as managing this for me but confused a novice. I was missing shared libraries on the Playbook.</p>

<p>My final project file that fixed the problem looks as following:</p>

<pre><code>QMAKE_LFLAGS += '-Wl,-rpath,\'./app/native/lib\''

LIBS += -lQtSvg -lQtXml
LIBS += -lbbsupport
LIBS += -L/home/builder/Qwt/qwt-6.0.1/lib -lqwt -lqwtmathml

INCLUDEPATH += /home/builder/Qwt/qwt-6.0.1/src    
CONFIG += qwt    
QWT_CONFIG     += QwtSvg
QWT_CONFIG     += QwtMathML

SOURCES += main.cpp  

package.target = $${TARGET}.bar
package.depends = $$TARGET
package.commands = blackberry-nativepackager \
    -devMode \
    -package $${TARGET}.bar -arg -platform -arg blackberry \
    blackberry-tablet.xml $$TARGET \
    -e icon.png res/icon.png \
    -e splashscreen.png res/splashscreen.png \
    -e $$[QT_INSTALL_LIBS]/libQtCore.so.4 lib/libQtCore.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtGui.so.4 lib/libQtGui.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtOpenGL.so.4 lib/libQtOpenGL.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtNetwork.so.4 lib/libQtNetwork.so.4 \
    -e $$[QT_INSTALL_LIBS]/libbbsupport.so.4 lib/libbbsupport.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtSvg.so.4 lib/libQtSvg.so.4 \
    -e $$[QT_INSTALL_LIBS]/libQtXml.so.4 lib/libQtXml.so.4 \
    -e /home/builder/Qwt/qwt-6.0.1/lib/libqwt.so.6 lib/libqwt.so.6 \
    -e /home/builder/Qwt/qwt-6.0.1/lib/libqwtmathml.so.6 lib/libqwtmathml.so.6 \
    -e $$[QT_INSTALL_PLUGINS]/platforms/libblackberry.so lib/platforms/libblackberry.so

QMAKE_EXTRA_TARGETS += package
</code></pre>
"
8011307,"How to recursively search directories in a minimal shell (no grep, find, etc.)?",https://stackoverflow.com/questions/8011307/how-to-recursively-search-directories-in-a-minimal-shell-no-grep-find-etc,4,1320419016,"bash, shell, glob, qnx","<p>I'm working with an embedded system running QNX that has a stripped-down shell (KSH).</p>

<p>I want to locate all run all executables on the filesystem that match the following:</p>

<pre><code>*/shle/*-*_test
</code></pre>

<p>The ""shle"" directory may appear up to 4 levels deep under root. My current approach is to run the following commands:</p>

<pre><code>for shle in ./shle ./*/shle ./*/*/shle ./*/*/*/shle
do
  for exe in $shle/*-*_test
  do
    echo running: $exe
    $exe
  done
done
</code></pre>

<p>Is there a cleaner or faster way of doing this? Are there commands other than <code>grep</code> and <code>find</code> that I should try?</p>
","<p>If you don't have <code>find</code>, you can't do much better than what you did: enumerate the levels. If you needed to go down to arbitrary levels, you could do it with a recursive function (but watch out, recursion is tricky when all you have is global variables). Fortunately, with a known maximum depth, it's a lot simpler.</p>

<p>There's a little room for improvement: you'd better put double quotes around all variable substitutions, in case there's a filename somewhere that contains whitespace or special characters. And you aren't testing whether <code>$exe</code> is exists and executable (it could be the pattern <code>‚Ä¶/*-*_test</code> if that pattern doesn't match anything, or perhaps it could be a non-executable file).</p>

<pre><code>for shle in shle */shle */*/shle */*/*/shle; do
  for exe in ""$shle""/*-*_test; do
    test -x ""$exe"" &amp;&amp; ""$exe""
  done
done
</code></pre>

<p>If you don't even have <code>test</code> (if you have ksh, it's built-in, but if it's a stripped-down shell it might be missing), you might get away with a more complicated test to see if the pattern was expanded:</p>

<pre><code>for shle in shle */shle */*/shle */*/*/shle; do
  for exe in ""$shle""/*-*_test; do
    case ""$exe"" in
      */""*-*_test"") :;;
      *) ""$exe"";;
    esac
  done
done
</code></pre>

<p>(I'm suprised that you don't have <code>find</code>, I thought QNX came with a full POSIX suite, but I'm unfamiliar with the QNX ecosystem, this could be a stripped-down version of the OS for a small device.)</p>
"
7991339,Halt gdb on thread switching,https://stackoverflow.com/questions/7991339/halt-gdb-on-thread-switching,2,1320304444,"gdb, pthreads, qnx","<p>Is there any way I can make gdb halt every time when the pthread being executed changes? </p>

<p>Say I have two POSIX threads (thread A and thread B) running and I want gdb to halt when thread A is being suspended and thread B continues execution (and the other way around).</p>
",
7964967,How do I set a UDP socket to non-blocking in QNX,https://stackoverflow.com/questions/7964967/how-do-i-set-a-udp-socket-to-non-blocking-in-qnx,2,1320142249,"c++, sockets, udp, qnx","<p>I'm coding a UDP datagram receiver in C++ on the QNX operating system and I want to perform non-blocking recvfrom() calls.</p>

<p>The <a href=""http://www.qnx.com/developers/docs/6.3.0SP3/neutrino/lib_ref/r/recvfrom.html"" rel=""nofollow"">QNX man page on recvfrom()</a> suggests that I somehow can put a socket in a non-blocking mode using ioctl(). Unfortunately, the <a href=""http://www.qnx.com/developers/docs/6.3.0SP3/neutrino/lib_ref/i/ioctl.html"" rel=""nofollow"">man page on ioctl()</a> isn't much of a help.</p>

<p>Can anybody tell me about the arguments I have to pass to ioctl() to set the socket to non-blocking?</p>
","<p>The <a href=""http://www.qnx.com/developers/docs/6.4.0/neutrino/lib_ref/i/ioctl.html"" rel=""nofollow noreferrer""><code>ioctl</code></a> doc for QNX 6.4.0 has a bit more info:</p>
<blockquote>
<p><strong>FIONBIO</strong></p>
<p>Set or clear non-blocking I/O</p>
</blockquote>
<p>The <code>ioctl</code> call should look something like this:</p>
<pre><code>int on = 1;
ioctl(fd, FIONBIO, &amp;on);
</code></pre>
"
5905613,Developing for Blackberry tablet without AIR,https://stackoverflow.com/questions/5905613/developing-for-blackberry-tablet-without-air,1,1304641935,"blackberry, qnx","<p>BlackBerry Tablet OS is basically a handicapped QNX so can I somehow develop apps for the tablet as a usual QNX application, by using gcc and PhAB for photon gui?</p>

<p>How do I develop apps for the Blackberry tablet without use of Adobe AIR?</p>
","<p>In addition to AIR, you can use <a href=""http://us.blackberry.com/developers/tablet/"" rel=""nofollow"">RIM's WebWorks SDK</a>.  RIM has also announced ""upcoming"" <a href=""http://press.rim.com/release.jsp?id=4935"" rel=""nofollow"">support for native (C/C++), Android and JavaME apps on the PlayBook</a>.  They have even <a href=""http://crackberry.com/new-demo-video-showing-android-app-player-blackberry-playbook"" rel=""nofollow"">demoed the use of Android apps</a> just a few days ago at <a href=""http://www.blackberryworld.com/"" rel=""nofollow"">BlackBerry World</a>.</p>
"
6590128,Convert call from spawn to fork-exec in C,https://stackoverflow.com/questions/6590128/convert-call-from-spawn-to-fork-exec-in-c,0,1309909786,"linux, qnx","<p>I have code which looks like this in Linux:</p>

<pre><code>return_code= spawnp(cmd, 3, fd_map, NULL, argv, environ);
</code></pre>

<p>I need to convert this from QNX to Linux - so I need to use fork-exec since spawn is not available in Linux.
1) How can that be done ? Is this right ? </p>

<pre><code>pid = fork();
if (pid ==0) /* child */
    exec(cmd, argv, environ);
</code></pre>

<p>2) How do I pass the parameters fd_map and ""3"" which are passed in spawn to exec ? </p>
",
1091895,Best unit testing framework for old school QNX?,https://stackoverflow.com/questions/1091895/best-unit-testing-framework-for-old-school-qnx,2,1246967528,"c, unit-testing, unix, qnx","<p>I'm working on an old variant of unix (qnx 4.x to be exact). I'm trying to shoe-horn in modern software methodologies atop 20+ year old technology. In short I need a unit testing framework for QNX. </p>

<p>Keep in mind we've got a bare bones C compiler and that's pretty much it. Anyone got any suggestions on how I can unit test this beast?</p>
",
4632183,Qnx vs Android Vs iOS,https://stackoverflow.com/questions/4632183/qnx-vs-android-vs-ios,0,1294457746,"android, ios, qnx","<p>What advantages would a real time operating system like QNX bring to the smart phone / tablet space vs what android and iOS are doing.</p>

<p>Is really going to be more reliable and secure and at the same time providing great performance and security?</p>

<p>Thanks</p>
",
7142858,Access QNX Filesystem in Windows,https://stackoverflow.com/questions/7142858/access-qnx-filesystem-in-windows,3,1313983272,"linux, filesystems, qnx, oberon","<p>I have a QNX partition in a CF card, running on a SBC. How do I access the filesystem in Windows, using something like an Explorer interface?</p>

<p>The filesystem is in QNX Oberon. I've also had QNX Momentics IDE but that is no help as well.</p>
","<p>With some googling it looks like you can get the <a href=""http://www.openqnx.com/node/45"" rel=""nofollow"">WinQFile utility</a></p>
"
5246785,QNX QCC linker includes file timestamps,https://stackoverflow.com/questions/5246785/qnx-qcc-linker-includes-file-timestamps,1,1299678986,"c++, gcc, linker, ld, qnx","<p>Is there a flag to pass into the linker which will <strong>NOT</strong> include each file's timestamp in the <code>library.a</code> output?</p>

<p>We are creating a library with the qcc <code>-A</code> parameter and when it does this it gathers all the compiled files into the library correctly but it always adds certain file information (file size, timestamp, etc).  The problem is that we cannot create exactly the same binary after a clean since the timestamp is part of the binary</p>

<p>Output includes a line like this for every <code>.o</code> in the project:</p>

<pre><code>DirReader.o/    1299620472  0     0     100666  15364
</code></pre>
",
7030532,Flex/QNX scrolling gallery,https://stackoverflow.com/questions/7030532/flex-qnx-scrolling-gallery,0,1313085072,"apache-flex, actionscript-3, gallery, blackberry-playbook, qnx","<p>I was hoping someone could give me some guidance on building an image gallery which loads images dynamically for a PlayBook application.I've uploaded a quick mockup of what I am trying to achieve, I want to dynamically load images into a QNX TileList or Flex equivalent and as the user scrolls through the list I want to call another 'page' of images dynamically. I have already produced an example which uses a custom cell renderer to dynamically load images but I am having problems when I attempt to identify when the user has reached the end of the list. </p>

<p>I have tried using the lastVisibleItem property of the list while the user is scrolling to identify if the last item visible in the list is also last in the DataProvider (so I know when I need to call for more images) but when I add images to the DataProvider it takes me back to the start of the list, can anyone tell me the reason for this?</p>

<p>Any advice on a different approach or how to modify the TileList would be greatly appreciated.</p>

<p><img src=""https://i.sstatic.net/oZcYr.jpg"" alt=""Gallery MockUp""></p>
","<p>The <code>scrollPosition</code> automatically gets reset to 0 when you update the <code>dataProvider</code>. I've done workarounds that store the current <code>scrollPosition</code> before updating the <code>dataProvider</code> and then re-set it after the update to the <code>dataProvider</code> has completed. Let me know if you need some code sample and I'll see if I can dig something up.</p>

<hr>

<p>Another option would be to use dataPaging. Here is a good example of how to do that:</p>

<p><a href=""http://www.jamesward.com/2010/10/11/data-paging-in-flex-4/"" rel=""nofollow"">http://www.jamesward.com/2010/10/11/data-paging-in-flex-4/</a></p>
"
6991932,Cache Sound Assets,https://stackoverflow.com/questions/6991932/cache-sound-assets,1,1312869289,"apache-flex, actionscript-3, air, blackberry-playbook, qnx","<p>How would i go about caching sound assets in Flex, I load the sounds for play via:</p>

<pre><code>            private function set_streamingMedia(mediaURL:String) : void {

            var req:URLRequest = new URLRequest(mediaURL);

            if (streamChannel) {
                streamChannel.stop()
            }

            auth_play(req);
        }

        private function auth_play(reqestURL:URLRequest) : void {

            stream = new Sound();

            var credsHeader:URLRequestHeader = new URLRequestHeader(""Authorization"", ""Basic "" + credentials);
            reqestURL.requestHeaders.push(credsHeader);

            var context:SoundLoaderContext = new SoundLoaderContext(1000, true);

            stream.load(reqestURL, context);

            timer = new Timer(100);
            timer.addEventListener(TimerEvent.TIMER, mediaPositionChange);

            play();

        }

            private function play():void{               
            if(isPaused){
                streamChannel = stream.play(trackPosition);
                timer.start();
                isPaused = false;
            }
            else{
                if (streamChannel) {
                    stop();
                }
                streamChannel = stream.play();
                timer.start();
                isPaused = false;
            }
            ChangeVolume();
        }
</code></pre>

<p>I am on the playbook, so I can save it in a directory, put it in as a BLOB on SQLite (seems like a terrible idea) - Ideas would be much appreciate.</p>

<p>Also want to thank all the people here who have been taking the time to teach me Flex :) - you guys are better than the book I spent money on!</p>
",
6895237,VideoDisplay fullscreen,https://stackoverflow.com/questions/6895237/videodisplay-fullscreen,2,1312182917,"apache-flex, actionscript, air, blackberry-playbook, qnx","<p>How does one do fullscreen with VideoDisplay?</p>

<p>I am using:</p>

<pre><code>stage.fullScreenSourceRect = new Rectangle(video.x, video.y, video.width, video.height);
stage.scaleMode = StageScaleMode.NO_SCALE;
stage.displayState = StageDisplayState.FULL_SCREEN;
</code></pre>

<p>But this does not allow me to go back to normal screen, not even i use:</p>

<pre><code>stage.displayState = StageDisplayState.NORMAL
</code></pre>

<p>Thanks,</p>
","<p>From the playbook dev support forums, you do not use StateDisplay in playbook for video maximization because the screen already runs in StageDisplay.FULLSCREEN_INTERACTIVE so it doesn't work - set the video dimensions to the size of the screen. And then back again to reduce.</p>
"
6729100,QNX List in Flex not showing up at all!,https://stackoverflow.com/questions/6729100/qnx-list-in-flex-not-showing-up-at-all,0,1310968605,"apache-flex, flex4, air, adobe, qnx","<p>I am having a strange QNX problem here in Flex (Adobe AIR), I have created an init(); function and in it I have added the test_list() function yet the QNX List is just not showing up on the UI. Please see code below for a summary and the link below for a FULL code:</p>

<p><a href=""http://pastebin.com/hkzTwSGE"" rel=""nofollow"">http://pastebin.com/hkzTwSGE</a></p>

<p>Summary</p>

<pre><code>        private function init() : void {
            credentials = String(data);

            var arr:Array = new Array();
            arr.push(""item 1"");
            arr.push(""item 2"");

            indexArrayCollection = new ArrayCollection();

            subsonicIndexList = new DataProvider(arr);

            //subsonicIndexList = new DataProvider(indexArrayCollection.source);
            //get_indexList(null);

            test_list();
        }

        private function test_list() : void {
            var arrMonth:Array=[];
            // add objects with a label property
            arrMonth.push({label: ""January""});
            arrMonth.push({label: ""February""});
            arrMonth.push({label: ""March""});
            arrMonth.push({label: ""April""});
            arrMonth.push({label: ""May""});
            arrMonth.push({label: ""June""});
            arrMonth.push({label: ""July""});
            arrMonth.push({label: ""August""});
            arrMonth.push({label: ""September""});
            arrMonth.push({label: ""October""});
            arrMonth.push({label: ""November""});
            arrMonth.push({label: ""December""});

            var myList:List = new List();            
            myList.setPosition(100, 100);            
            myList.width = 300;            
            myList.height = 400;
            myList.columnWidth = 100;

            //set the dataProvider
            myList.selectionMode = ListSelectionMode.MULTIPLE;
            myList.scrollDirection = ScrollDirection.VERTICAL;
            myList.dataProvider = new DataProvider(arrMonth);

            myList.addEventListener(ListEvent.ITEM_CLICKED, showAlert);
            myList.addEventListener(ScrollEvent.SCROLL_END, showAlert);
            myList.addEventListener(ScrollEvent.SCROLL_BEGIN, showAlert);

            this.addChild(myList);
        }
</code></pre>
","<p>You need to add any QNX components to a  wrapper. As seen here:
<a href=""http://corlan.org/2011/03/28/creating-playbook-apps-with-flex-and-qnx-ui-components/"" rel=""nofollow"">http://corlan.org/2011/03/28/creating-playbook-apps-with-flex-and-qnx-ui-components/</a></p>

<p>So you would need to this to the actionscript:</p>

<pre><code>// this.addChild(myList);
dateWrapper.addChild(myList);
</code></pre>

<p>and this to the MXML</p>

<pre><code>&lt;mx:UIComponent id=""dateWrapper""/&gt;
</code></pre>
"
6460558,PowerPC: How to make div/0 return zero as a result,https://stackoverflow.com/questions/6460558/powerpc-how-to-make-div-0-return-zero-as-a-result,1,1308862897,"rtos, powerpc, qnx, qnx-neutrino","<p>We are attempting to port a legacy application from an old monolithic RTOS to a unix based RTOS on a PowerPC 8360. In the old system, our large code base became dependent upon 1/0 returning zero, and 0/0 returning zero. Now in the new operating system 1/0 returns inf and 0/0 returns NaN, which breaks our application. We've tried playing around with the FPSCR register with no results. </p>

<p>Secondly, if there is a way to change it, can the change take affect for our application process and not the entire system? We do not want to change the div/0 behavior of other applications within the system.</p>

<p>Anticipating the inevitable ""why are you doing it that way"" question, we have to preserve the previous behavior so changing the app to actually not divide by zero is out of the question. This is a sore spot with us so please refrain from asking. Thanks in advance!</p>
","<p><em>Note: it's been a while since I worked on this kind of stuff.  Hopefully my answer is in the ballpark.</em></p>

<p>You'll need to trap the div-0 exception that occurs when this happens -- I believe <code>MSR.FE0</code> and <code>MSR.FE1</code>  as well as <code>FPSCR.VE</code> and <code>FPSCR.ZE</code>  will need to be manipulated in order to ensure the handling of this the way you want.</p>

<p>So once you get that set up and working, you'll need to:</p>

<ul>
<li><p>take control of the exception handling for these scenarios (0/0 and 1/0). In most of the small real-time kernels I use, with all source code available, I would know what to do.  Not sure what your RTOS is or how much control you have.  Chances are, if it's a ""heavierweight"" OS, it's not going to let you fiddle with exception handler logic.
I think <code>0/0</code> will trigger an ""Invalid Operation"" exception (<code>FPSCR.VE</code>), whereas <code>1/0</code> will trigger an IEEE floating-point zero divide exception (<code>FPSCR.ZE</code>).</p>

<ul>
<li><p>if you get the Invalid Operation exception you need to determine if the cause was <code>0/0</code> or something else.  With <code>0/0</code>, <code>FPSCR.VXZDZ</code> will be set (I think).  There are other ways to trigger this exception so here <code>FPSCR</code> is your friend.</p></li>
<li><p>if you get the IEEE FP div-0 exception you need to determine if the cause was <code>1/0</code> or something else (e.g. <code>2/0</code>).  I think for this you'll have to examine the registers of the interrupted context to see if the numerator was <code>1</code> at the time of the division operation that caused the exception.  The FPU doesn't care if you attempted <code>1/0</code> or <code>2/0</code>, but apparently your application does.</p></li>
</ul></li>
<li><p>next, you need to alter the returning context so that you get the desired result.  This might be something like changing the FP registers used in the operation so that when you return from exception &amp; the FP division is re-tried, it yields zero.  For example, make the numerator <code>0</code> and the divisor <code>1</code>.</p></li>
</ul>

<p>Then when you return from the exception, you should get your desired result.  Sorry I'm rusty on the specific registers and values, I hope this is enough to get the job done.</p>

<p>You also asked about selectively enabling this behavior just for your application process.  I've had to do things like this before, but more in flat-address space, ""single process, multiple thread"" type kernels (where each task is really a thread, all running in the same flat address space).  I've done it a couple different ways, here are some ideas that might work for you:</p>

<ul>
<li><p>In the exception handler, examine the process ID / task ID and if it's your application process, handle it the special way, otherwise handle it the standard ""system"" way.</p></li>
<li><p>Alternatively, on a context switch into your application, install your ""special"" handling for this exception.  On a context switch out of your application process, replace it with the standard handling.  Note that the application itself won't be able to do this, you'll have to tap into the kernel to do it (there might be a context switch hook/callout that you can use, otherwise you'll probably be modifying kernel source).</p></li>
</ul>

<p>I've inherited legacy code like this before &amp; I feel your pain.  You want to shake your fist at the people who installed such bone-headed behavior, but right now shaking your fist doesn't help you ship product.  You need a solution.  Good luck.</p>
"
6200476,Real-time application with graphic interface,https://stackoverflow.com/questions/6200476/real-time-application-with-graphic-interface,1,1306928154,"real-time, monitor, qnx, rtx","<p>I need to develop the real-time application which can handle user's input (from some external control panel) as fast as possible and provide some output to LCD monitor (very fast as well).</p>

<p>To be more exact - I need to handle fixed-time interrupts (with period of 1ms) to recalculate internal model - with current state fetched from external control panel.</p>

<p>When internal model is changed i need to update a picture on LCD monitor (now I think the most proper way is to update on each interrupt). Also don't want any delays here.</p>

<p>What is the most suitable platform to implement it? And also which one is the most cost-effective?</p>

<p>I've heard about QNX, IntervalZero RTX, rtlinux but don't know the details and abilities of each one.</p>

<p>Thanks!</p>
","<p>As far as the different OSs, I know QNX has very good ""hard"" real time and has been built &amp; optimized from the ground up.  It also now has Qt running on it (QNX 6.5) for full featured GUIness.</p>

<p>I have heard (2nd hand) anecdotal information that rtlinux is very close to hard realtime (guaranteed realtime), but it can sometimes be late if a driver (usually 3rd party) is not coded well.  [This was from a RTOS vendor, so take it for what it is worth.]</p>

<p>As a design issue, I'd decouple the three separate operations into three threads with different priorities: one thread to fetch the data and set a semaphore that new data is ready, one thread to update the model and set a semaphore that the model is ready, and one thread to update the GUI.  I would run the GUI thread at a much slower update rate.  Most monitors are in the 60-120Hz range for updating. Why update faster than the data can be shown on the screen?</p>
"
5976277,Changing syslog log path,https://stackoverflow.com/questions/5976277/changing-syslog-log-path,2,1305194107,"c++, c, unix, posix, qnx","<p>How do I change the log path of syslog daemon during runtime? My goal is to rotate log file every filesize or date, but I don't have logrotate in QNX/POSIX. </p>

<p>Do I just do an edit and hope that the syslogd checks the .conf file everytime, or is there any other workaround? Thanks.</p>

<p>Clarification: It has to be done in C or C++, not in script and console command line, for portabality issues.</p>
","<p>Answer based on some solution found on web, and also based on @bills answer, modified to suit QNX environment. </p>

<p>Perform a system call for <code>slay syslogd</code> and perform edit to <code>syslog.conf</code> and system call to <code>syslogd</code> again. </p>

<p>QNX does not supply logrotate, otherwise other than the above answer, install third party logging is another workaround, though does not fit my purpose.</p>

<p><strong>update</strong>: After some digging, QNX provides a alternative called <code>slogger</code> within Neutrino OS. I'll be voting for this as an answer as it is catering to QNX system</p>
"
5328835,How to display Picker with one item using Playbook&#39;s QNX,https://stackoverflow.com/questions/5328835/how-to-display-picker-with-one-item-using-playbooks-qnx,0,1300294689,"actionscript, picker, qnx, blackberry-playbook","<p>I've got a QNX Picker control that isn't displaying the selected values when there's only one item in the picker. For example:</p>

<pre><code>import qnx.ui.picker.Picker;

var pick:Picker = new Picker();
var arr:Array = [{label: ""hi!""}];
pick.dataProvider = new DataProvider([new DataProvider(arr)]);
pick.selectedIndices = [0];

addChild(pick);
</code></pre>

<p>The result is a blank picker. Maybe I'm doing something wrong. When there are 2 items in the arr Array, the picker actually shows the selected Indices.</p>

<p>How do I get the picker to display the selected item when there is only 1 item to choose from?</p>

<p>I'm using Burrito, with Playbook SDK 0.9.3.</p>

<p>Thanks in advanced!</p>
",
5249657,Running Qt applications on QNX,https://stackoverflow.com/questions/5249657/running-qt-applications-on-qnx,2,1299691406,"qt, qnx, qnx-neutrino","<p>I'm trying to get Qt applications running on QNX 4.5. I've compiled Qt 4.6.3 on a linux box with this configuration:</p>

<blockquote>
  <p>./configure -xplatform unsupported/qws/qnx-i386-g++ -embedded i386 -no-gfx-linuxfb -no-mouse-linuxtp -no-kbd-tty -no-qt3support -qt-gfx-qnx -qt-mouse-qnx -qt-kbd-qnx -no-exceptions -little-endian -nomake demos -nomake examples</p>
</blockquote>

<p>""make"" required certain tweaking of environment and commenting out one function, but worked in the end. I've copied fonts and compiled Qt libraries onto QNX running in VMware, and created a sample Qt app (it just displays a button) which I compiled on my linux box and copied over to QNX.</p>

<p>I have a little script to launch the app:</p>

<pre><code>io-display -d vid=0x15adh,did=0x405h
/usr/photon/bin/devi-hid -Pr kbd mouse
./app
</code></pre>

<p>Which runs the application, enabling experimental input drivers. With this script I was able to get somewhere by running the Qt app in Photon - screen rendering gets all screwed up, but I do see my Qt application.</p>

<p>However, if I exit Photon into a text mode, and try to run the application from there (using a slightly modified script with different vid and did values for launching the graphics server), I just see a blank screen.</p>

<p>I'm completely new to QNX and Qt, so I'm a bit stuck right now. I'm trying to read up on how Photon works and what kind of environment it sets up, to find what I might be missing in the text mode. However, I'm not sure this is even a right direction, so I thought I'd ask good folks on SO, in case somebody went through this before :)</p>

<p>cheers!</p>
","<p>Have you tried adding ""-qws"" after you app?  It tells the Qt app to initialize it's windowing system (qws).  Only 1 qt app needs (or may have) the option specified.</p>

<p>I would also add a couple of environment variables to help Qt to know where to find your keyboard and mouse.   (I also am not sure if you really need the first line.)</p>

<pre><code>io-display -d vid=0x15adh,did=0x405h

/usr/photon/bin/devi-hid -Pr kbd mouse

export QWS_DISPLAY=qnx
export QWS_MOUSE_PROTO=qnx
export QWS_KEYBOARD=qnx

./app -qws
</code></pre>

<p>BTW, QNX has just released a port of Qt 4.7.1 for QNX 6.5.  It can be found on the <a href=""http://community.qnx.com/sf/projects/qt"" rel=""nofollow"">Foundry 27 Qt Project site</a>.</p>
"
4085935,Regarding getting time in milliseconds,https://stackoverflow.com/questions/4085935/regarding-getting-time-in-milliseconds,2,1288779174,"c, time, qnx","<p>I am working on logger using C language on QNX platform using Momnetics to print time in following format</p>

<p>2010-11-02 14:45:15.000 </p>

<p>I able to get date, hour, minutes, and seconds using </p>

<pre><code> time(&amp;timeSpec);
 struct tm gmt;
 int iSysTimeSec = timeSpec;
 gmtime_r((time_t *)&amp;iSysTimeSec, &amp;gmt);
 sprintf(&amp;MsgStamp[0], SYS_MSG_STAMP_PRINTF_FORMAT, gmt.tm_year+1900, gmt.tm_mon + 1, gmt.tm_mday, gmt.tm_hour, gmt.tm_min, gmt.tm_sec, iSysTimeMs );
</code></pre>

<p>Question is how do i get milliseconds granularity using QNX Momentics. </p>

<p>I tried to get granulaity for milliseconds using QNX specific 
int iSysTimeMs = ( (ClockCycles () * 1000) / SYSPAGE_ENTRY(qtime)->cycles_per_sec ) % 1000;</p>

<p>but i want to do this POSIX way so that it is portable. How do we do this?</p>

<p>Thanks!
Venkata</p>
","<p>In QNX6 You can use the clock_gettime to have the max granularity
allowed by system. </p>

<pre><code>struct timespec start;
clock_gettime( CLOCK_REALTIME, &amp;start);
</code></pre>
"
3333084,Problems using teamcity command line to perform ssh remote login,https://stackoverflow.com/questions/3333084/problems-using-teamcity-command-line-to-perform-ssh-remote-login,0,1280130697,"command-line, windows-xp, ssh, qnx, teamcity-5.1","<p>I was wondering if anyone has tried using teamcity's command line builder to perform ssh remote login.</p>

<p>Right now, I would like to automate some testing on a QNX neutrino OS which is currently unsupported by teamcity. As a work around, I setup a ssh server on the target qnx machine so i could ssh and sftp the executables in. </p>

<p>Firstly, the source are compiled on Windows XP using qnx's compiler (based on g++). Followed by sftp-ing the executables into qnx neutrino.
Next, using ssh, script the login to remotely start the test apps and send the results back to the remote agent for publishing.</p>

<p>The batch script I created works well standalone, however, after hooking it up on the remote agent, it fails to login ssh and hangs indefinitely at the following command:
ssh -l   ""./.sh""</p>

<p>Notes:
I have added the remote agent's RSA public key in the QNX .ssh/authorized keys file, automatic login is working.
Is there a need to add the teamcity server's RSA public key in too?</p>

<p>Anyone has any idea on this problem?</p>
",
3248311,How to get around &quot;multiple defined symbols&quot; in linking with gcc,https://stackoverflow.com/questions/3248311/how-to-get-around-multiple-defined-symbols-in-linking-with-gcc,5,1279124704,"gcc, linker, ld, qnx","<p>I am using an older system that has gcc 2.95.3, I have to link in two objects that although they have nothing to do with each other, they each have similarly named methods.  I can't rename either of them, but I would hope there is a way to build them as to not have the linker complain.  The methods it is complaining about are each internally called by classes within the object.  What can I do?</p>
","<p>If you have a complete GNU toolchain, you should be able to work around your problem using <code>objcopy</code>, like this (if I've understood your problem correctly):</p>

<p>Here are two very similar objects, ""foo"" and ""bar"", both of which export a symbol called <code>clash</code> - which is used internally, but doesn't really need to be exported at all:</p>

<pre><code>$ cat foo.c
#include &lt;stdio.h&gt;
void clash(char *s) { printf(""foo: %s\n"", s); }
void foo(char *s) { clash(s); }
$ 
</code></pre>

<p>and</p>

<pre><code>$ cat bar.c
#include &lt;stdio.h&gt;
void clash(char *s) { printf(""bar: %s\n"", s); }
void bar(char *s) { clash(s); }
$ 
</code></pre>

<p>And here's the main code, which wants to use both:</p>

<pre><code>$ cat main.c
extern void foo(char *s);
extern void bar(char *s);

int main(void)
{
    foo(""Hello"");
    bar(""world"");
    return 0;
}
$ 
</code></pre>

<p>Linking them together doesn't work:</p>

<pre><code>$ gcc -Wall -c foo.c  
$ gcc -Wall -c bar.c
$ gcc -Wall -c main.c
$ gcc -o test main.o foo.o bar.o
bar.o: In function `clash':
bar.c:(.text+0x0): multiple definition of `clash'
foo.o:foo.c:(.text+0x0): first defined here
collect2: ld returned 1 exit status
$ 
</code></pre>

<p>So, use <code>objcopy</code> to change the visibility of <code>clash</code> in one (or both, if you like!) of the objects:</p>

<pre><code>$ objcopy --localize-symbol=clash bar.o bar2.o
$ 
</code></pre>

<p>Now you can link successfully with the modified object - and the program behaves as it should:</p>

<pre><code>$ gcc -o test main.o foo.o bar2.o
$ ./test
foo: Hello
bar: world
$ 
</code></pre>
"
2512853,Scanf with Signals,https://stackoverflow.com/questions/2512853/scanf-with-signals,1,1269486844,"c++, unix, signals, scanf, qnx","<p>I have a signal that blocks SIGINT and basically says ""Sorry, you can't quit.\n""</p>

<p>The issue is this can occur during a scanf.</p>

<p>When this occurs during a scanf, scanf takes in the printf as input.</p>

<p>How can I do a printf that will cause scanf to basically hit the enter key automatically. I don't care that I am getting bad input. I just want to programatically finish that scanf with a printf or something else.</p>

<p>Process:</p>

<p>scanf(""get stuff"")
-> User is able to enter stuff in.</p>

<p>-> SIGINT occurs and goes to my handler.</p>

<p>-> Handler says ""Blah blah blah"" to stdout.</p>

<p>-> Scanf has taken this blah blah blah and is waiting for more input.</p>

<p>How do I make it so that when I return scanf is finished (don't care what it has gathered I just want it to continue without user help).</p>

<p>EDIT: if I send two signals then the scanf terminates. I want to emulate the ending of the scanf somehow programatically.</p>
","<p>Your question suggests you are confused - or perhaps English is not your native language.</p>
<blockquote>
<p>I have a signal that blocks SIGINT and basically says &quot;Sorry, you can't quit.\n&quot;</p>
</blockquote>
<p>What you might have is a signal handler that is set to respond to SIGINT.  Further, you might be using the 'signal()' function to set the handler - but you should be aiming to use the POSIX standard 'sigaction()' function to set the handler instead.</p>
<blockquote>
<p>The issue is this can occur during a scanf.</p>
</blockquote>
<p>In context, 'this' is presumably an interrupt signal, typed by the user who wishes to stop your program.  Be cautious about stopping people exiting a program with an interrupt signal; if you don't let them do that, they will be more brutal.  That might mean they'll generate SIGQUIT (and perhaps a core dump) instead; if you block that too, there are a number of other tricks they can try until they get to the ultimate 'kill -9 pid' which your program will get no chance to react to.</p>
<blockquote>
<p>When this occurs during a scanf, scanf takes in the printf as input.</p>
</blockquote>
<p>This is confused...you are presumably implying that the output from a 'printf()' statement (presumably the one that says &quot;You can't quit&quot;) is then being seen as input to the 'scanf()'?  Which seems pretty improbable...  It would require a very, very weird setup on the I/O of the process, and I'm still not convinced it can happen.</p>
<blockquote>
<p>How can I do a printf that will cause scanf to basically hit the enter key automatically. I don't care that I am getting bad input. I just want to programatically finish that scanf with a printf or something else.</p>
</blockquote>
<p>There are several possibilities - it depends in part on the O/S you are using (even if it is POSIX.)  I don't use 'scanf()'; I find it too difficult to control.  If your system resumes the reads after the interrupt handler returns, then you will have a difficult time.  Sometimes, though, 'scanf()' will stop short and return the number of items it has processed.  If the 'scanf()' you have does not terminate, then you will need to think about interposing a 'sigsetjmp()' in a function that simply calls 'setjmp()' and then invokes your function that calls 'scanf()'.  Then your signal handler can use 'siglongjmp()' to return to that intermediate function:</p>
<pre><code>sigjmp_buf trap;

int intermediary(int argument)
{
    if (sigsetjmp(trap) == 0)
    {
         function_calling_scanf(argument);
         return 0;  // Success
    }
    // Report failure
    return -1;
}
</code></pre>
<p>Your description continues:</p>
<blockquote>
<p>Process:</p>
<pre><code>   scanf(&quot;get stuff&quot;) -&gt; User is able to enter stuff in.
</code></pre>
<p>-&gt; SIGINT occurs and goes to my handler.</p>
<p>-&gt; Handler says &quot;Blah blah blah&quot; to stdout.</p>
<p>-&gt; Scanf has taken this blah blah blah and is waiting for more input.</p>
</blockquote>
<p>How do you know that scanf has read the 'blah blah blah'?  It seems very, very improbable to me.</p>
<blockquote>
<p>How do I make it so that when I return scanf is finished (don't care what it has gathered I just want it to continue without user help).</p>
</blockquote>
<p>Use <code>sigsetjmp()</code>.</p>
<blockquote>
<p>EDIT: if I send two signals then the scanf terminates. I want to emulate the ending of the scanf somehow programmatically.</p>
</blockquote>
<p>This is what indicates that you are using 'signal()' to set your signal handler and not 'sigaction()'.  With 'signal()', when the interrupt occurs, the signal handler is set back to the default.  With 'sigaction()', you have to request that behaviour; by default, the received signal (SIGINT) is blocked for the duraction and the signal handler remains in effect.  If a second interrupt occurs while the first is running, the second is held up until the first handler returns (at which point the handler will be re-entered).</p>
"
419966,QNX Object oriented threads in c++,https://stackoverflow.com/questions/419966/qnx-object-oriented-threads-in-c,0,1231327806,"c++, multithreading, qnx","<p>I want to create a parallel object oriented system in QNX using c++ and threads. How do I do this?</p>

<p>I tried:</p>

<pre><code>pthread_t our_thread_id;
pthread_create(&amp;our_thread_id, NULL, &amp;functionA ,NULL);
</code></pre>

<p>with function A being a pointer to a function:</p>

<pre><code>void *functionA()
{ //do something
}
</code></pre>

<p>However this function only works in C and not C++. How can I make it work in C++?</p>
",
1211205,How to change Eclipse run script in QNX6?,https://stackoverflow.com/questions/1211205/how-to-change-eclipse-run-script-in-qnx6,1,1249026752,"eclipse, qnx","<p>Related to <a href=""https://stackoverflow.com/questions/1207306/how-to-improve-the-performance-of-eclipse-ide-under-qnx6"">another question</a>, we want to change the eclipse run command.<br>
I found that eclipse can run executing the script:</p>

<pre><code>/usr/qnx630/host/qnx6/x86/usr/bin/qde.sh
</code></pre>

<p>But the startup configuration is not written there. The only thing the script does is executing the file:</p>

<pre><code>/usr/qnx630/host/qnx6/x86/usr/qde/eclipse/eclipse
</code></pre>

<p>This file is a binary which ends calling another one with all the startup parameters for Eclipse. </p>

<p>So my question is: where can I find and change those parameters?</p>

<p>Thank you for your time.</p>
","<p>I would first look at the <a href=""https://stackoverflow.com/questions/142357/what-are-the-best-eclipse-34-jvm-settings#144349"">eclipse.ini</a> file to check if your startup configuration is not better expressed there.<br>
(that is one element for having a <a href=""https://stackoverflow.com/questions/316265/tricks-to-speed-up-eclipse/316535#316535"">quicker eclipse</a>)</p>

<p>In your case, it should be at:</p>

<pre><code>/usr/qnx630/host/qnx6/x86/usr/qde/eclipse/eclipse.ini
</code></pre>

<p>If it is not there, you could create it. It would be detected by eclipse during launch.</p>
"
433220,QNX c++ thread question,https://stackoverflow.com/questions/433220/qnx-c-thread-question,3,1231693513,"c++, multithreading, qnx","<p>I have a question concerning this code which I want to run on QNX:</p>

<pre><code>class ConcreteThread : public Thread
{
public:
    ConcreteThread(int test)
    {
        testNumber = test;
    }

    void *start_routine() 
    { 
        for(int i = 0; i &lt; 10; i++)
        {
            sleep(1);
            cout &lt;&lt; testNumber &lt;&lt; endl;
        }   
    }

private:
    int testNumber;
};




class Thread 
{
public:
    Thread(){};

    int Create()
    {
        pthread_t m_id;
        return pthread_create(&amp;m_id, NULL, &amp;(this-&gt;start_routine_trampoline), this);
    }

protected:
    virtual void *start_routine() = 0;

private:

    static void *start_routine_trampoline(void *p)
    {
        Thread *pThis = (Thread *)p;
        return pThis-&gt;start_routine();
    }
};
</code></pre>

<p>Now, when I run this code without the sleep in *start_routine, it will simply print the number 10 times, before continuing on to the next line of code (sequential instead of parallel). However, when I use a sleep like in the code, it doesn't print any numbers at all and simply goes on to the next line of code. Why doesn't sleep work and how can I make a thread like this work, instead of running sequential?</p>
","<p>Note 1: If you only have 1 processor the code can only be done sequentially no matter how many threads you create. Each thread is given a slice of processor time before it is swapped out for the next threads.</p>

<p>Note 2: If the main thread exits pthreads will kill all child threads before they have a chance to execute.</p>

<p>Now to answer you questions:</p>

<p>Without the sleep. The thread once started has enough time in the single slice it was given to execute the loop 10 times completely.</p>

<p>With the sleep: Your worker thread is going to sleep for a full second. So your main thread has time to do a lot of work. If the main thread exits in this time the worker will be killed.</p>

<p>I would make the following changes:</p>

<pre><code>//  Remove the Create() method
//  Put thread creation in the constructor.
//  Make the thread variable part of the object

pthread_t m_id;

Thread()
{
    if (pthread_create(&amp;m_id, NULL, &amp;(this-&gt;start_routine_trampoline), this) != 0)
    {
        throw std::runtime_error(""Thread was not created"");
    }
}

// Make sure the destructor waits for the thread to exit.
~Thread()
{
    pthread_join(m_id);
}
</code></pre>

<p>If you go and look at <b>boost threading</b> library. you will find that all the little mistakes like this have already been taken care of; Thus making threading easier to use.</p>

<p>Also note. That using a static may work but it is non portable. This is because pthread's is a C library and is thus expecting a function pointer with a C ABI. You are just getting lucky for your platform here. You need to define this as a function and declare the ABI by using extern ""C""</p>

<pre><code>// This needs to be a standard function with C Interface.
extern ""C"" void *start_routine_trampoline(void *p)
{
}
</code></pre>
"
